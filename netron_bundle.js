!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.d3=e.d3||{})}(this,function(G){"use strict";function L(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function D(a){var n;return 1===a.length&&(n=a,a=function(e,t){return L(n(e),t)}),{left:function(t,n,e,s){for(null==e&&(e=0),null==s&&(s=t.length);e<s;){var d=e+s>>>1;0>a(t[d],n)?e=d+1:s=d}return e},right:function(t,n,e,s){for(null==e&&(e=0),null==s&&(s=t.length);e<s;){var d=e+s>>>1;0<a(t[d],n)?s=d:e=d+1}return e}}}function R(e,t){return[e,t]}function z(e){return null===e?NaN:+e}function a(s,t){var n=s.length,i=0,d=-1,l=0,p=0,u,h;if(null==t)for(;++d<n;)isNaN(u=z(s[d]))||(p+=(h=u-l)*(u-(l+=h/++i)));else for(;++d<n;)isNaN(u=z(t(s[d],d,s)))||(p+=(h=u-l)*(u-(l+=h/++i)));return 1<i?p/(i-1):void 0}function u(o,t){var n=a(o,t);return n?g_(n):n}function c(s,t){var n=s.length,o=-1,d,l,p;if(null==t){for(;++o<n;)if(null!=(d=s[o])&&d>=d)for(l=p=d;++o<n;)null!=(d=s[o])&&(l>d&&(l=d),p<d&&(p=d));}else for(;++o<n;)if(null!=(d=t(s[o],o,s))&&d>=d)for(l=p=d;++o<n;)null!=(d=t(s[o],o,s))&&(l>d&&(l=d),p<d&&(p=d));return[l,p]}function s(e){return function(){return e}}function p(e){return e}function Le(a,s,d){a=+a,s=+s,d=2>(p=arguments.length)?(s=a,a=0,1):3>p?1:+d;for(var l=-1,p=0|f_(0,h_((s-a)/d)),c=Array(p);++l<p;)c[l]=a+l*d;return c}function g(s,d,l){var p=-1,c,f,h,g;if(l=+l,(s=+s)==(d=+d)&&0<l)return[s];if((c=d<s)&&(f=s,s=d,d=f),0===(g=m(s,d,l))||!isFinite(g))return[];if(0<g)for(s=h_(s/g),d=u_(d/g),h=Array(f=h_(d-s+1));++p<f;)h[p]=(s+p)*g;else for(s=u_(s*g),d=h_(d*g),h=Array(f=h_(s-d+1));++p<f;)h[p]=(s-p)/g;return c&&h.reverse(),h}function m(a,t,n){var e=(t-a)/f_(0,n),r=u_(c_(e)/p_),i=e/l_(10,r);return 0<=r?(i>=d?10:i>=h?5:i>=_?2:1)*l_(10,r):-l_(10,-r)/(i>=d?10:i>=h?5:i>=_?2:1)}function Re(a,t,n){var e=d_(t-a)/f_(0,n),r=l_(10,u_(c_(e)/p_)),s=e/r;return s>=d?r*=10:s>=h?r*=5:s>=_&&(r*=2),t<a?-r:r}function f(e){return h_(c_(e.length)/s_)+1}function x(s,t,d){if(null==d&&(d=z),a=s.length){if(0>=(t=+t)||2>a)return+d(s[0],0,s);if(1<=t)return+d(s[a-1],a-1,s);var l=(a-1)*t,i=u_(l),o=+d(s[i],i,s),a;return o+(+d(s[i+1],i+1,s)-o)*(l-i)}}function e(a,t){var n=a.length,i=-1,s,d;if(null==t){for(;++i<n;)if(null!=(s=a[i])&&s>=s)for(d=s;++i<n;)null!=(s=a[i])&&s>d&&(d=s);}else for(;++i<n;)if(null!=(s=t(a[i],i,a))&&s>=s)for(d=s;++i<n;)null!=(s=t(a[i],i,a))&&s>d&&(d=s);return d}function T(s){for(var t=s.length,d=-1,l=0,p,c,u;++d<t;)l+=s[d].length;for(c=Array(l);0<=--t;)for(p=(u=s[t]).length;0<=--p;)c[--l]=u[p];return c}function v(a,t){var n=a.length,i=-1,s,d;if(null==t){for(;++i<n;)if(null!=(s=a[i])&&s>=s)for(d=s;++i<n;)null!=(s=a[i])&&d>s&&(d=s);}else for(;++i<n;)if(null!=(s=t(a[i],i,a))&&s>=s)for(d=s;++i<n;)null!=(s=t(a[i],i,a))&&d>s&&(d=s);return d}function t(s){if(!(a=s.length))return[];for(var t=-1,d=v(s,E),e=Array(d);++t<d;)for(var r=-1,l=e[t]=Array(a),a;++r<a;)l[r]=s[r][t];return e}function E(e){return e.length}function k(e){return e}function w(e){return"translate("+(e+.5)+",0)"}function S(e){return"translate(0,"+(e+.5)+")"}function P(){return!this.__axis}function n(E,I){function d(e){var n=null==N?I.ticks?I.ticks.apply(I,L):I.domain():N,a=null==O?I.tickFormat?I.tickFormat.apply(I,L):k:O,o=f_(D,0)+j,r=I.range(),i=+r[0]+.5,s=+r[r.length-1]+.5,d=(I.bandwidth?function(a){var t=f_(0,a.bandwidth()-1)/2;return a.round()&&(t=i_(t)),function(n){return+a(n)+t}}:function(e){return function(t){return+e(t)}})(I.copy()),p=e.selection?e.selection():e,c=p.selectAll(".domain").data([null]),u=p.selectAll(".tick").data(n,I).order(),h=u.exit(),g=u.enter().append("g").attr("class","tick"),_=u.select("line"),y=u.select("text");c=c.merge(c.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),u=u.merge(g),_=_.merge(g.append("line").attr("stroke","currentColor").attr(f+"2",t*D)),y=y.merge(g.append("text").attr("fill","currentColor").attr(f,t*o).attr("dy",E===1?"0em":E===3?"0.71em":"0.32em")),e!==p&&(c=c.transition(e),u=u.transition(e),_=_.transition(e),y=y.transition(e),h=h.transition(e).attr("opacity",C).attr("transform",function(e){return isFinite(e=d(e))?l(e):this.getAttribute("transform")}),g.attr("opacity",C).attr("transform",function(e){var t=this.parentNode.__axis;return l(t&&isFinite(t=t(e))?t:d(e))})),h.remove(),c.attr("d",E===4||E==2?"M"+t*B+","+i+"H0.5V"+s+"H"+t*B:"M"+i+","+t*B+"V0.5H"+s+"V"+t*B),u.attr("opacity",1).attr("transform",function(e){return l(d(e))}),_.attr(f+"2",t*D),y.attr(f,t*o).text(a),p.filter(P).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",E===2?"start":E===4?"end":"middle"),p.each(function(){this.__axis=d})}var L=[],N=null,O=null,D=6,B=6,j=3,t=E===1||E===4?-1:1,f=E===4||E===2?"x":"y",l=E===1||E===3?w:S;return d.scale=function(e){return arguments.length?(I=e,d):I},d.ticks=function(){return L=y.call(arguments),d},d.tickArguments=function(e){return arguments.length?(L=null==e?[]:y.call(e),d):L.slice()},d.tickValues=function(e){return arguments.length?(N=null==e?null:y.call(e),d):N&&N.slice()},d.tickFormat=function(e){return arguments.length?(O=e,d):O},d.tickSize=function(e){return arguments.length?(D=B=+e,d):D},d.tickSizeInner=function(e){return arguments.length?(D=+e,d):D},d.tickSizeOuter=function(e){return arguments.length?(B=+e,d):B},d.tickPadding=function(e){return arguments.length?(j=+e,d):j},d}function O(){for(var a=0,o=arguments.length,e={},r;a<o;++a){if(!(r=arguments[a]+"")||r in e)throw new Error("illegal type: "+r);e[r]=[]}return new A(e)}function A(e){this._=e}function I(a,t){for(var n=0,o=a.length,i;n<o;++n)if((i=a[n]).name===t)return i.value}function N(a,o,n){for(var e=0,s=a.length;e<s;++e)if(a[e].name===o){a[e]=b,a=a.slice(0,e).concat(a.slice(e+1));break}return null!=n&&a.push({name:o,value:n}),a}function M(a){var o=a+="",r=o.indexOf(":");return 0<=r&&"xmlns"!==(o=a.slice(0,r))&&(a=a.slice(r+1)),F.hasOwnProperty(o)?{space:F[o],local:a}:a}function B(e){var t=M(e);return(t.local?function(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}:function(a){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n==="http://www.w3.org/1999/xhtml"&&t.documentElement.namespaceURI==="http://www.w3.org/1999/xhtml"?t.createElement(a):t.createElementNS(n,a)}})(t)}function j(){}function H(e){return null==e?j:function(){return this.querySelector(e)}}function W(){return[]}function q(e){return null==e?W:function(){return this.querySelectorAll(e)}}function $(e){return Array(e.length)}function Y(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function X(s,t,n,e,r,i){for(var o=0,d=t.length,l=i.length,p;o<l;++o)(p=t[o])?(p.__data__=i[o],e[o]=p):n[o]=new Y(s,i[o]);for(;o<d;++o)(p=t[o])&&(r[o]=p)}function J(p,t,n,e,r,i,o){var a={},s=t.length,l=i.length,h=Array(s),d,g,m;for(d=0;d<s;++d)(g=t[d])&&(h[d]=m="$"+o.call(g,g.__data__,d,t),m in a?r[d]=g:a[m]=g);for(d=0;d<l;++d)(g=a[m="$"+o.call(p,i[d],d,i)])?(e[d]=g,g.__data__=i[d],a[m]=null):n[d]=new Y(p,i[d]);for(d=0;d<s;++d)(g=t[d])&&a[h[d]]===g&&(r[d]=g)}function K(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Z(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Q(e,t){return e.style.getPropertyValue(t)||Z(e).getComputedStyle(e,null).getPropertyValue(t)}function Je(e){return e.trim().split(/^|\s+/)}function at(e){return e.classList||new ot(e)}function ot(e){this._node=e,this._names=Je(e.getAttribute("class")||"")}function it(a,t){for(var n=at(a),e=-1,o=t.length;++e<o;)n.add(t[e])}function st(a,t){for(var n=at(a),e=-1,o=t.length;++e<o;)n.remove(t[e])}function dt(){this.textContent=""}function lt(){this.innerHTML=""}function pt(){this.nextSibling&&this.parentNode.appendChild(this)}function ct(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ut(){return null}function ft(){var e=this.parentNode;e&&e.removeChild(this)}function ht(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function gt(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}function mt(a,o,n){return a=_t(a,o,n),function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||a.call(this,t)}}function _t(t,n,e){return function(a){var r=G.event;G.event=a;try{t.call(this,this.__data__,n,e)}finally{G.event=r}}}function yt(a){return function(){var t=this.__on;if(t){for(var n=0,s=-1,d=t.length,o;n<d;++n)o=t[n],a.type&&o.type!==a.type||o.name!==a.name?t[++s]=o:this.removeEventListener(o.type,o.listener,o.capture);++s?t.length=s:delete this.__on}}}function bt(d,t,n){var e=rt.hasOwnProperty(d.type)?mt:_t;return function(r,i,o){var a=this.__on,p=e(t,i,o),c;if(a)for(var f=0,h=a.length;f<h;++f)if((c=a[f]).type===d.type&&c.name===d.name)return this.removeEventListener(c.type,c.listener,c.capture),this.addEventListener(c.type,c.listener=p,c.capture=n),void(c.value=t);this.addEventListener(d.type,p,n),c={type:d.type,name:d.name,value:t,listener:p,capture:n},a?a.push(c):this.__on=[c]}}function xt(t,n,e,a){var r=G.event;t.sourceEvent=G.event,G.event=t;try{return n.apply(e,a)}finally{G.event=r}}function vt(a,t,n){var e=Z(a),o=e.CustomEvent;"function"==typeof o?o=new o(t,n):(o=e.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),a.dispatchEvent(o)}function Et(e,t){this._groups=e,this._parents=t}function kt(){return new Et([[document.documentElement]],y_)}function wt(e){return"string"==typeof e?new Et([[document.querySelector(e)]],[document.documentElement]):new Et([[e]],y_)}function St(){return new Ct}function Ct(){this._="@"+(++zt).toString(36)}function At(){for(var t=G.event,a;a=t.sourceEvent;)t=a;return t}function Pt(a,t){var n=a.ownerSVGElement||a;if(n.createSVGPoint){var e=n.createSVGPoint();return e.x=t.clientX,e.y=t.clientY,[(e=e.matrixTransform(a.getScreenCTM().inverse())).x,e.y]}var o=a.getBoundingClientRect();return[t.clientX-o.left-a.clientLeft,t.clientY-o.top-a.clientTop]}function Lt(e){var t=At();return t.changedTouches&&(t=t.changedTouches[0]),Pt(e,t)}function Nt(a,t,s){3>arguments.length&&(s=t,t=At().changedTouches);for(var d=0,l=t?t.length:0,o;d<l;++d)if((o=t[d]).identifier===s)return Pt(a,o);return null}function It(){G.event.stopImmediatePropagation()}function Ot(){G.event.preventDefault(),G.event.stopImmediatePropagation()}function Mt(a){var t=a.document.documentElement,n=wt(a).on("dragstart.drag",Ot,!0);"onselectstart"in t?n.on("selectstart.drag",Ot,!0):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Dt(a,t){var n=a.document.documentElement,e=wt(a).on("dragstart.drag",null);t&&(e.on("click.drag",Ot,!0),setTimeout(function(){e.on("click.drag",null)},0)),"onselectstart"in n?e.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Bt(e){return function(){return e}}function jt(s,t,n,e,r,i,o,a,d,l){this.target=s,this.type=t,this.subject=n,this.identifier=e,this.active=r,this.x=i,this.y=o,this.dx=a,this.dy=d,this._=l}function Rt(){return!G.event.button}function Ft(){return this.parentNode}function Vt(e){return null==e?{x:G.event.x,y:G.event.y}:e}function Gt(){return"ontouchstart"in this}function Ht(a,t,n){a.prototype=t.prototype=n,n.constructor=a}function Wt(a,t){var n=Object.create(a.prototype);for(var e in t)n[e]=t[e];return n}function qt(){}function $t(e){var a;return e=(e+"").trim().toLowerCase(),(a=b_.exec(e))?new Zt(15&(a=parseInt(a[1],16))>>8|240&a>>4,15&a>>4|240&a,(15&a)<<4|15&a,1):(a=an.exec(e))?Yt(parseInt(a[1],16)):(a=un.exec(e))?new Zt(a[1],a[2],a[3],1):(a=fn.exec(e))?new Zt(255*a[1]/100,255*a[2]/100,255*a[3]/100,1):(a=cn.exec(e))?Xt(a[1],a[2],a[3],a[4]):(a=sn.exec(e))?Xt(255*a[1]/100,255*a[2]/100,255*a[3]/100,a[4]):(a=ln.exec(e))?en(a[1],a[2]/100,a[3]/100,1):(a=hn.exec(e))?en(a[1],a[2]/100,a[3]/100,a[4]):dn.hasOwnProperty(e)?Yt(dn[e]):"transparent"===e?new Zt(NaN,NaN,NaN,0):null}function Yt(e){return new Zt(255&e>>16,255&e>>8,255&e,1)}function Xt(a,o,i,s){return 0>=s&&(a=o=i=NaN),new Zt(a,o,i,s)}function Jt(e){return e instanceof qt||(e=$t(e)),e?new Zt((e=e.rgb()).r,e.g,e.b,e.opacity):new Zt}function Kt(a,t,n,e){return 1===arguments.length?Jt(a):new Zt(a,t,n,null==e?1:e)}function Zt(a,t,n,e){this.r=+a,this.g=+t,this.b=+n,this.opacity=+e}function Qt(e){return(16>(e=f_(0,r_(255,i_(e)||0)))?"0":"")+e.toString(16)}function en(a,o,i,s){return 0>=s?a=o=i=NaN:0>=i||1<=i?a=o=NaN:0>=o&&(a=NaN),new nn(a,o,i,s)}function tn(a,t,n,e){return 1===arguments.length?function(s){if(s instanceof nn)return new nn(s.h,s.s,s.l,s.opacity);if(s instanceof qt||(s=$t(s)),!s)return new nn;if(s instanceof nn)return s;var d=(s=s.rgb()).r/255,n=s.g/255,e=s.b/255,r=r_(d,n,e),i=f_(d,n,e),o=NaN,l=i-r,p=(i+r)/2;return l?(o=d===i?(n-e)/l+6*(n<e):n===i?(e-d)/l+2:(d-n)/l+4,l/=.5>p?i+r:2-i-r,o*=60):l=0<p&&1>p?0:o,new nn(o,l,p,s.opacity)}(a):new nn(a,t,n,null==e?1:e)}function nn(a,t,n,e){this.h=+a,this.s=+t,this.l=+n,this.opacity=+e}function on(a,t,n){return 255*(60>a?t+(n-t)*a/60:180>a?n:240>a?t+(n-t)*(240-a)/60:t)}function rn(s){if(s instanceof mn)return new mn(s.l,s.a,s.b,s.opacity);if(s instanceof Tn){if(isNaN(s.h))return new mn(s.l,0,0,s.opacity);var d=s.h*pn;return new mn(s.l,a_(d)*s.c,n_(d)*s.c,s.opacity)}s instanceof Zt||(s=Jt(s));var n=xn(s.r),i=xn(s.g),o=xn(s.b),a=_n((.2225045*n+.7168786*i+.0606169*o)/1),l,p;return n===i&&i===o?l=p=a:(l=_n((.4360747*n+.3850649*i+.1430804*o)/Sn),p=_n((.0139322*n+.0971045*i+.7141733*o)/En)),new mn(116*a-16,500*(l-a),200*(a-p),s.opacity)}function gn(a,t,n,e){return 1===arguments.length?rn(a):new mn(a,t,n,null==e?1:e)}function mn(a,t,n,e){this.l=+a,this.a=+t,this.b=+n,this.opacity=+e}function _n(e){return e>Rn?l_(e,1/3):e/zn+Cn}function yn(e){return e>Pn?e*e*e:zn*(e-Cn)}function bn(e){return 255*(.0031308>=e?12.92*e:1.055*l_(e,1/2.4)-.055)}function xn(e){return .04045>=(e/=255)?e/12.92:l_((e+.055)/1.055,2.4)}function vn(e){if(e instanceof Tn)return new Tn(e.h,e.c,e.l,e.opacity);if(e instanceof mn||(e=rn(e)),0===e.a&&0===e.b)return new Tn(NaN,0,e.l,e.opacity);var a=t_(e.b,e.a)*Nn;return new Tn(0>a?a+360:a,g_(e.a*e.a+e.b*e.b),e.l,e.opacity)}function kn(a,t,n,e){return 1===arguments.length?vn(a):new Tn(a,t,n,null==e?1:e)}function Tn(a,t,n,e){this.h=+a,this.c=+t,this.l=+n,this.opacity=+e}function wn(a,t,n,e){return 1===arguments.length?function(s){if(s instanceof An)return new An(s.h,s.s,s.l,s.opacity);s instanceof Zt||(s=Jt(s));var d=s.r/255,n=s.g/255,e=s.b/255,r=(Qn*e+Wn*d-Zn*n)/(Qn+Wn-Zn),i=e-r,o=($n*(n-r)-Gn*i)/Vn,a=g_(o*o+i*i)/($n*r*(1-r)),l=a?t_(o,i)*Nn-120:NaN;return new An(0>l?l+360:l,a,r,s.opacity)}(a):new An(a,t,n,null==e?1:e)}function An(a,t,n,e){this.h=+a,this.s=+t,this.l=+n,this.opacity=+e}function te(s,t,n,e,r){var i=s*s,o=i*s;return((1-3*s+3*i-o)*t+(4-6*i+3*o)*n+(1+3*s+3*i-3*o)*e+o*r)/6}function ne(s){var t=s.length-1;return function(n){var d=0>=n?n=0:1<=n?(n=1,t-1):u_(n*t),r=s[d],i=s[d+1],o=0<d?s[d-1]:2*r-i,a=d<t-1?s[d+2]:2*i-r;return te((n-d/t)*t,o,r,i,a)}}function ee(s){var t=s.length;return function(n){var d=u_((0>(n%=1)?++n:n)*t),r=s[(d+t-1)%t],i=s[d%t],o=s[(d+1)%t],a=s[(d+2)%t];return te((n-d/t)*t,r,i,o,a)}}function re(e){return function(){return e}}function ie(a,t){return function(n){return a+n*t}}function oe(a,t){var n=t-a;return n?ie(a,180<n||-180>n?n-360*i_(n/360):n):re(isNaN(a)?t:a)}function ae(a){return 1==(a=+a)?ue:function(t,n){return n-t?function(a,o,i){return a=l_(a,i),o=l_(o,i)-a,i=1/i,function(e){return l_(a+e*o,i)}}(t,n,a):re(isNaN(t)?n:t)}}function ue(a,t){var n=t-a;return n?ie(a,n):re(isNaN(a)?t:a)}function fe(s){return function(t){var n=t.length,i=Array(n),d=Array(n),l=Array(n),p,c;for(p=0;p<n;++p)c=Kt(t[p]),i[p]=c.r||0,d[p]=c.g||0,l[p]=c.b||0;return i=s(i),d=s(d),l=s(l),c.opacity=1,function(e){return c.r=i(e),c.g=d(e),c.b=l(e),c+""}}}function se(s,t){var n=t?t.length:0,r=s?r_(n,s.length):0,i=Array(r),o=Array(n),a;for(a=0;a<r;++a)i[a]=be(s[a],t[a]);for(;a<n;++a)o[a]=t[a];return function(e){for(a=0;a<r;++a)o[a]=i[a](e);return o}}function de(a,o){var i=new Date;return o-=a=+a,function(e){return i.setTime(a+o*e),i}}function pe(a,o){return o-=a=+a,function(t){return a+o*t}}function ve(a,o){var s={},r={},i;for(i in null!==a&&"object"==typeof a||(a={}),null!==o&&"object"==typeof o||(o={}),o)i in a?s[i]=be(a[i],o[i]):r[i]=o[i];return function(e){for(i in s)r[i]=s[i](e);return r}}function ge(s,d){var l=he.lastIndex=ye.lastIndex=0,p=-1,c=[],u=[],f,h,g;for(s+="",d+="";(f=he.exec(s))&&(h=ye.exec(d));)(g=h.index)>l&&(g=d.slice(l,g),c[p]?c[p]+=g:c[++p]=g),(f=f[0])===(h=h[0])?c[p]?c[p]+=h:c[++p]=h:(c[++p]=null,u.push({i:p,x:pe(f,h)})),l=ye.lastIndex;return l<d.length&&(g=d.slice(l),c[p]?c[p]+=g:c[++p]=g),2>c.length?u[0]?function(e){return function(t){return e(t)+""}}(u[0].x):function(e){return function(){return e}}(d):(d=u.length,function(n){for(var t=0,a;t<d;++t)c[(a=u[t]).i]=a.x(n);return c.join("")})}function be(a,t){var o=typeof t,r;return null==t||"boolean"==o?re(t):("number"==o?pe:"string"==o?(r=$t(t))?(t=r,Jn):ge:t instanceof $t?Jn:t instanceof Date?de:Array.isArray(t)?se:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?ve:pe)(a,t)}function me(a,o){return o-=a=+a,function(t){return i_(a+o*t)}}function xe(s,d,l,p,c,i){var o,h,g;return(o=g_(s*s+d*d))&&(s/=o,d/=o),(g=s*l+d*p)&&(l-=s*g,p-=d*g),(h=g_(l*l+p*p))&&(l/=h,p/=h,g/=h),s*p<d*l&&(s=-s,d=-d,g=-g,o=-o),{translateX:c,translateY:i,rotate:t_(d,s)*_e,skewX:e_(g)*_e,scaleX:o,scaleY:h}}function Ee(s,d,n,a){function l(e){return e.length?e.pop()+" ":""}return function(e,t){var i=[],p=[];return e=s(e),t=s(t),function(e,t,r,i,o,a){if(e!==r||t!==i){var s=o.push("translate(",null,d,null,n);a.push({i:s-4,x:pe(e,r)},{i:s-2,x:pe(t,i)})}else(r||i)&&o.push("translate("+r+d+i+n)}(e.translateX,e.translateY,t.translateX,t.translateY,i,p),function(r,i,s,e){r===i?i&&s.push(l(s)+"rotate("+i+a):(180<r-i?i+=360:180<i-r&&(r+=360),e.push({i:s.push(l(s)+"rotate(",null,a)-2,x:pe(r,i)}))}(e.rotate,t.rotate,i,p),function(r,t,n,e){r===t?t&&n.push(l(n)+"skewX("+t+a):e.push({i:n.push(l(n)+"skewX(",null,a)-2,x:pe(r,t)})}(e.skewX,t.skewX,i,p),function(i,t,n,e,r,o){if(i!==n||t!==e){var a=r.push(l(r)+"scale(",null,",",null,")");o.push({i:a-4,x:pe(i,n)},{i:a-2,x:pe(t,e)})}else 1===n&&1===e||r.push(l(r)+"scale("+n+","+e+")")}(e.scaleX,e.scaleY,t.scaleX,t.scaleY,i,p),e=t=null,function(a){for(var t=-1,o=p.length,r;++t<o;)i[(r=p[t]).i]=r.x(a);return i.join("")}}}function ke(e){return((e=Qm(e))+1/e)/2}function Ue(m,t){var _=m[0],i=m[1],o=m[2],n=t[0],a=t[1],u=t[2],c=n-_,s=a-i,l=c*c+s*s,f,h;if(l<ze)h=c_(u/o)/Pe,f=function(e){return[_+e*c,i+e*s,o*Qm(Pe*e*h)]};else{var b=g_(l),d=(u*u-o*o+4*l)/(2*o*2*b),p=(u*u-o*o-4*l)/(2*u*2*b),x=c_(g_(d*d+1)-d),g=c_(g_(p*p+1)-p);h=(g-x)/Pe,f=function(a){var t=a*h,e=ke(x),r=o/(2*b)*(e*(d=Pe*t+x,((d=Qm(2*d))-1)/(d+1))-function(e){return((e=Qm(e))-1/e)/2}(x)),d;return[_+r*c,i+r*s,o*e/ke(Pe*t+x)]}}return f.duration=1e3*h,f}function qe(s){return function(d,t){var l=s((d=tn(d)).h,(t=tn(t)).h),r=ue(d.s,t.s),i=ue(d.l,t.l),o=ue(d.opacity,t.opacity);return function(e){return d.h=l(e),d.s=r(e),d.l=i(e),d.opacity=o(e),d+""}}}function Oe(s){return function(d,t){var l=s((d=kn(d)).h,(t=kn(t)).h),r=ue(d.c,t.c),i=ue(d.l,t.l),o=ue(d.opacity,t.opacity);return function(e){return d.h=l(e),d.c=r(e),d.l=i(e),d.opacity=o(e),d+""}}}function Fe(s){return function t(d){function n(e,t){var l=s((e=wn(e)).h,(t=wn(t)).h),i=ue(e.s,t.s),o=ue(e.l,t.l),a=ue(e.opacity,t.opacity);return function(n){return e.h=l(n),e.s=i(n),e.l=o(l_(n,d)),e.opacity=a(n),e+""}}return d=+d,n.gamma=t,n}(1)}function He(){return k_||(er(In),k_=w_.now()+T_)}function In(){k_=0}function On(){this._call=this._time=this._next=null}function Mn(a,t,n){var e=new On;return e.restart(a,t,n),e}function Dn(){He(),++Ge;for(var e=L_,a;e;)0<=(a=k_-e._time)&&e._call.call(null,a),e=e._next;--Ge}function Bn(){k_=(E_=w_.now())+T_,Ge=x_=0;try{Dn()}finally{Ge=0,function(){for(var a=L_,o=1/0,i,s;a;)a._call?(o>a._time&&(o=a._time),i=a,a=a._next):(s=a._next,a._next=null,a=i?i._next=s:L_=s);N_=i,Fn(o)}(),k_=0}}function jn(){var e=w_.now(),t=e-E_;t>1000&&(T_-=t,E_=e)}function Fn(e){Ge||(x_&&(x_=clearTimeout(x_)),24<e-k_?(e<1/0&&(x_=setTimeout(Bn,e-w_.now()-T_)),v_&&(v_=clearInterval(v_))):(v_||(E_=w_.now(),v_=setInterval(jn,1000)),Ge=1,er(Bn)))}function Un(a,t,o){var i=new On;return t=null==t?0:+t,i.restart(function(n){i.stop(),a(n+t)},t,o),i}function Hn(s,t,n,e,r,i){var o=s.__transition;if(!o)s.__transition={};else if(n in o)return;!function(d,t,p){function e(o){var r,i,f,m;if(p.state!==1)return g();for(r in a)if((m=a[r]).name===p.name){if(m.state===3)return Un(e);m.state===4?(m.state=6,m.timer.stop(),m.on.call("interrupt",d,d.__data__,m.index,m.group),delete a[r]):+r<t&&(m.state=6,m.timer.stop(),delete a[r])}if(Un(function(){p.state===3&&(p.state=4,p.timer.restart(n,p.delay,p.time),n(o))}),p.state=2,p.on.call("start",d,d.__data__,p.index,p.group),p.state===2){for(p.state=3,u=Array(f=p.tween.length),r=0,i=-1;r<f;++r)(m=p.tween[r].value.call(d,d.__data__,p.index,p.group))&&(u[++i]=m);u.length=i+1}}function n(e){for(var t=e<p.duration?p.ease.call(null,e/p.duration):(p.timer.restart(g),p.state=5,1),n=-1,r=u.length;++n<r;)u[n].call(null,t);p.state===5&&(p.on.call("end",d,d.__data__,p.index,p.group),g())}function g(){for(var e in p.state=6,p.timer.stop(),delete a[t],a)return;delete d.__transition}var a=d.__transition,u;a[t]=p,p.timer=Mn(function(n){p.state=1,p.timer.restart(e,p.delay,p.time),p.delay<=n&&e(n-p.delay)},0,p.time)}(s,n,{name:t,index:e,group:r,on:O_,tween:dr,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:0})}function qn(a,t){var n=Kn(a,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function Yn(a,t){var n=Kn(a,t);if(n.state>2)throw new Error("too late; already started");return n}function Kn(a,t){var n=a.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function da(s,t){var d=s.__transition,o=!0,l,p,c;if(d){for(c in t=null==t?null:t+"",d)(l=d[c]).name===t?(p=l.state>2&&l.state<5,l.state=6,l.timer.stop(),p&&l.on.call("interrupt",s,s.__data__,l.index,l.group),delete d[c]):o=!1;o&&delete s.__transition}}function pa(a,o,n){var e=a._id;return a.each(function(){var a=Yn(this,e);(a.value||(a.value={}))[o]=n.apply(this,arguments)}),function(n){return Kn(n,e).value[o]}}function To(a,t){var o;return("number"==typeof t?pe:t instanceof $t?Jn:(o=$t(t))?(t=o,Jn):ge)(a,t)}function Ao(a,t,n,e){this._groups=a,this._parents=t,this._name=n,this._id=e}function No(e){return kt().transition(e)}function ar(){return++kr}function or(e){return(1>=(e*=2)?e*e:--e*(2-e)+1)/2}function ir(e){return(1>=(e*=2)?e*e*e:(e-=2)*e*e+2)/2}function sr(e){return(1-a_(Yr*e))/2}function lr(e){return(1>=(e*=2)?l_(2,10*e-10):2-l_(2,10-10*e))/2}function cr(e){return(1>=(e*=2)?1-g_(1-e*e):g_(1-(e-=2)*e)+1)/2}function ur(e){return(e=+e)<Fr?Kr*e*e:e<Gr?Kr*(e-=Xr)*e+Vr:e<Wr?Kr*(e-=$r)*e+Zr:Kr*(e-=Qr)*e+Jr}function fr(a,o){for(var n;!(n=a.__transition)||!(n=n[o]);)if(!(a=a.parentNode))return fi.time=He(),fi;return n}function hr(e){return function(){return e}}function gr(a,t,n){this.target=a,this.type=t,this.selection=n}function mr(){G.event.stopImmediatePropagation()}function _r(){G.event.preventDefault(),G.event.stopImmediatePropagation()}function yr(e){return{type:e}}function br(){return!G.event.button}function xr(){var e=this.ownerSVGElement||this;return[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function vr(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function Er(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function Tr(g){function n(n){var t=n.property("__brush",l).selectAll(".overlay").data([yr("overlay")]);t.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",wi.overlay).merge(t).each(function(){var e=vr(this).extent;wt(this).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1])}),n.selectAll(".selection").data([yr("selection")]).enter().append("rect").attr("class","selection").attr("cursor",wi.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var e=n.selectAll(".handle").data(g.handles,function(e){return e.type});e.exit().remove(),e.enter().append("rect").attr("class",function(e){return"handle handle--"+e.type}).attr("cursor",function(e){return wi[e.type]}),n.each(I).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",s)}function I(){var e=wt(this),a=vr(this).selection;a?(e.selectAll(".selection").style("display",null).attr("x",a[0][0]).attr("y",a[0][1]).attr("width",a[1][0]-a[0][0]).attr("height",a[1][1]-a[0][1]),e.selectAll(".handle").style("display",null).attr("x",function(e){return"e"===e.type[e.type.length-1]?a[1][0]-o/2:a[0][0]-o/2}).attr("y",function(e){return"s"===e.type[0]?a[1][1]-o/2:a[0][1]-o/2}).attr("width",function(e){return"n"===e.type||"s"===e.type?a[1][0]-a[0][0]+o:o}).attr("height",function(e){return"e"===e.type||"w"===e.type?a[1][1]-a[0][1]+o:o})):e.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function f(e,t){return e.__brush.emitter||new d(e,t)}function d(e,t){this.that=e,this.args=t,this.state=e.__brush,this.active=0}function s(){function e(){var e=Lt(O);!C||oe||re||(d_(e[0]-z[0])>d_(e[1]-z[1])?re=!0:oe=!0),z=e,ae=!0,_r(),n()}function n(){var e;switch(te=z[0]-W[0],ne=z[1]-W[1],B){case gi:case li:j&&(te=f_(H-L,r_(E-K,te)),Y=L+te,Z=K+te),F&&(ne=f_(S-X,r_(k-Q,ne)),J=X+ne,ee=Q+ne);break;case yi:0>j?(te=f_(H-L,r_(E-L,te)),Y=L+te,Z=K):0<j&&(te=f_(H-K,r_(E-K,te)),Y=L,Z=K+te),0>F?(ne=f_(S-X,r_(k-X,ne)),J=X+ne,ee=Q):0<F&&(ne=f_(S-Q,r_(k-Q,ne)),J=X,ee=Q+ne);break;case _i:j&&(Y=f_(H,r_(E,L-te*j)),Z=f_(H,r_(E,K+te*j))),F&&(J=f_(S,r_(k,X-ne*F)),ee=f_(S,r_(k,Q+ne*F)));}Z<Y&&(j*=-1,e=L,L=K,K=e,e=Y,Y=Z,Z=e,b in Mi&&D.attr("cursor",wi[b=Mi[b]])),ee<J&&(F*=-1,e=X,X=Q,Q=e,e=J,J=ee,ee=e,b in Ai&&D.attr("cursor",wi[b=Ai[b]])),V.selection&&(T=V.selection),oe&&(Y=T[0][0],Z=T[1][0]),re&&(J=T[0][1],ee=T[1][1]),T[0][0]===Y&&T[0][1]===J&&T[1][0]===Z&&T[1][1]===ee||(V.selection=[[Y,J],[Z,ee]],I.call(O),$.brush())}function i(){if(mr(),G.event.touches){if(G.event.touches.length)return;t&&clearTimeout(t),t=setTimeout(function(){t=null},500),ie.on("touchmove.brush touchend.brush touchcancel.brush",null)}else Dt(G.event.view,ae),U.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);ie.attr("pointer-events","all"),D.attr("cursor",wi.overlay),V.selection&&(T=V.selection),Er(T)&&(V.selection=null,I.call(O)),$.end()}if(G.event.touches){if(G.event.changedTouches.length<G.event.touches.length)return _r();}else if(t)return;if(c.apply(this,arguments)){var O=this,b=G.event.target.__data__.type,B="selection"===(G.event.metaKey?b="overlay":b)?li:G.event.altKey?_i:yi,j=g===mi?null:Ti[b],F=g===bi?null:Ni[b],V=vr(O),A=V.extent,T=V.selection,H=A[0][0],S=A[0][1],E=A[1][0],k=A[1][1],C=j&&F&&G.event.shiftKey,W=Lt(O),z=W,$=f(O,arguments).beforestart(),L,Y,X,J,K,Z,Q,ee,te,ne,ae,oe,re;"overlay"===b?V.selection=T=[[L=g===mi?H:W[0],X=g===bi?S:W[1]],[K=g===mi?E:L,Q=g===bi?k:X]]:(L=T[0][0],X=T[0][1],K=T[1][0],Q=T[1][1]),Y=L,J=X,Z=K,ee=Q;var ie=wt(O).attr("pointer-events","none"),D=ie.selectAll(".overlay").attr("cursor",wi[b]);if(G.event.touches)ie.on("touchmove.brush",e,!0).on("touchend.brush touchcancel.brush",i,!0);else{var U=wt(G.event.view).on("keydown.brush",function(){switch(G.event.keyCode){case 16:C=j&&F;break;case 18:B===yi&&(j&&(K=Z-te*j,L=Y+te*j),F&&(Q=ee-ne*F,X=J+ne*F),B=_i,n());break;case 32:B!==yi&&B!==_i||(0>j?K=Z-te:0<j&&(L=Y-te),0>F?Q=ee-ne:0<F&&(X=J-ne),B=gi,D.attr("cursor",wi.selection),n());break;default:return;}_r()},!0).on("keyup.brush",function(){switch(G.event.keyCode){case 16:C&&(oe=re=C=!1,n());break;case 18:B===_i&&(0>j?K=Z:0<j&&(L=Y),0>F?Q=ee:0<F&&(X=J),B=yi,n());break;case 32:B===gi&&(G.event.altKey?(j&&(K=Z-te*j,L=Y+te*j),F&&(Q=ee-ne*F,X=J+ne*F),B=_i):(0>j?K=Z:0<j&&(L=Y),0>F?Q=ee:0<F&&(X=J),B=yi),D.attr("cursor",wi[b]),n());break;default:return;}_r()},!0).on("mousemove.brush",e,!0).on("mouseup.brush",i,!0);Mt(G.event.view)}mr(),da(O),I.call(O),$.start()}}function l(){var e=this.__brush||{selection:null};return e.extent=p.apply(this,arguments),e.dim=g,e}var p=xr,c=br,u=O(n,"start","brush","end"),o=6,t;return n.move=function(n,d){n.selection?n.on("start.brush",function(){f(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){f(this,arguments).end()}).tween("brush",function(){function e(e){t.selection=1===e&&Er(o)?null:a(e),I.call(s),r.brush()}var s=this,t=s.__brush,r=f(s,arguments),n=t.selection,o=g.input("function"==typeof d?d.apply(this,arguments):d,t.extent),a=be(n,o);return n&&o?e:e(1)}):n.each(function(){var e=arguments,t=this.__brush,n=g.input("function"==typeof d?d.apply(this,e):d,t.extent),a=f(this,e).beforestart();da(this),t.selection=null==n||Er(n)?null:n,I.call(this),a.start().brush().end()})},d.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(e){xt(new gr(n,e,g.output(this.state.selection)),u.apply,u,[e,this.that,this.args])}},n.extent=function(e){return arguments.length?(p="function"==typeof e?e:hr([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),n):p},n.filter=function(e){return arguments.length?(c="function"==typeof e?e:hr(!!e),n):c},n.handleSize=function(e){return arguments.length?(o=+e,n):o},n.on=function(){var e=u.on.apply(u,arguments);return e===u?n:e},n}function wr(e){return function(){return e}}function Sr(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Ar(){return new Sr}function Pr(e){return e.source}function Ir(e){return e.target}function Nr(e){return e.radius}function Mr(e){return e.startAngle}function Dr(e){return e.endAngle}function jr(){}function Rr(s,t){var d=new jr;if(s instanceof jr)s.each(function(e,t){d.set(t,e)});else if(Array.isArray(s)){var e=-1,n=s.length,o;if(null==t)for(;++e<n;)d.set(e,s[e]);else for(;++e<n;)d.set(t(o=s[e],e,s),o)}else if(s)for(var l in s)d.set(l,s[l]);return d}function zr(){return{}}function to(a,t,n){a[t]=n}function no(){return Rr()}function eo(a,t,n){a.set(t,n)}function ro(){}function io(a,t){var n=new ro;if(a instanceof ro)a.each(function(e){n.add(e)});else if(a){var e=-1,o=a.length;if(null==t)for(;++e<o;)n.add(a[e]);else for(;++e<o;)n.add(t(a[e],e,a))}return n}function ao(e,t){return e-t}function fo(e){return function(){return e}}function co(a,t){for(var n=-1,o=t.length,i;++n<o;)if(i=so(a,t[n]))return i;return 0}function so(p,t){for(var n=t[0],e=t[1],r=-1,g=0,m=p.length,a=m-1;g<m;a=g++){var _=p[g],f=_[0],c=_[1],s=p[a],l=s[0],h=s[1];if(lo(_,s,t))return 0;c>e!=h>e&&n<(l-f)*(e-c)/(h-c)+f&&(r=-r)}return r}function lo(s,t,n){var e,d,l,p;return function(a,t,n){return(t[0]-a[0])*(n[1]-a[1])==(n[0]-a[0])*(t[1]-a[1])}(s,t,n)&&(d=s[e=+(s[0]===t[0])],l=n[e],p=t[e],d<=l&&l<=p||p<=l&&l<=d)}function ho(){}function po(){function s(e){var t=o(e);if(Array.isArray(t))t=t.slice().sort(ao);else{var s=c(e),r=s[0],d=s[1];t=Re(r,d,t),t=Le(u_(r/t)*t,u_(d/t)*t,t)}return t.map(function(t){return i(e,t)})}function i(n,e){var a=[],o=[];return function(t,e,a){function n(o){var t=[o[0][0]+g,o[0][1]+m],r=[o[1][0]+g,o[1][1]+m],d=l(t),c=l(r),s,u;(s=p[d])?(u=i[c])?(delete p[s.end],delete i[u.start],s===u?(s.ring.push(r),a(s.ring)):i[s.start]=p[u.end]={start:s.start,end:u.end,ring:s.ring.concat(u.ring)}):(delete p[s.end],s.ring.push(r),p[s.end=c]=s):(s=i[c])?(u=p[d])?(delete i[s.start],delete p[u.end],s===u?(s.ring.push(r),a(s.ring)):i[u.start]=p[s.end]={start:u.start,end:s.end,ring:u.ring.concat(s.ring)}):(delete i[s.start],s.ring.unshift(t),i[s.start=d]=s):i[d]=p[c]={start:d,end:c,ring:[t,r]}}var i=[],p=[],g,m,r,_,y,b;for(g=m=-1,_=t[0]>=e,uo[_<<1].forEach(n);++g<d-1;)r=_,_=t[g+1]>=e,uo[r|_<<1].forEach(n);for(uo[_<<0].forEach(n);++m<h-1;){for(g=-1,_=t[m*d+d]>=e,y=t[m*d]>=e,uo[_<<1|y<<2].forEach(n);++g<d-1;)r=_,_=t[m*d+d+g+1]>=e,b=y,y=t[m*d+g+1]>=e,uo[r|_<<1|y<<2|b<<3].forEach(n);uo[_|y<<3].forEach(n)}for(g=-1,y=t[m*d]>=e,uo[y<<2].forEach(n);++g<d-1;)b=y,y=t[m*d+g+1]>=e,uo[y<<2|b<<3].forEach(n);uo[y<<3].forEach(n)}(n,e,function(r){p(r,n,e),0<function(a){for(var t=0,o=a.length,e=a[o-1][1]*a[0][0]-a[o-1][0]*a[0][1];++t<o;)e+=a[t-1][1]*a[t][0]-a[t-1][0]*a[t][1];return e}(r)?a.push([r]):o.push(r)}),o.forEach(function(o){for(var t=0,i=a.length,r;t<i;++t)if(-1!==co((r=a[t])[0],o))return void r.push(o)}),{type:"MultiPolygon",value:e,coordinates:a}}function l(e){return 2*e[0]+4*(e[1]*(d+1))}function a(t,n,r){t.forEach(function(t){var e=t[0],a=t[1],i=0|e,l=0|a,p=n[l*d+i],s;0<e&&e<d&&i===e&&(s=n[l*d+i-1],t[0]=e+(r-s)/(p-s)-.5),0<a&&a<h&&l===a&&(s=n[(l-1)*d+i],t[1]=a+(r-s)/(p-s)-.5)})}var d=1,h=1,o=f,p=a;return s.contour=i,s.size=function(t){if(!arguments.length)return[d,h];var e=h_(t[0]),n=h_(t[1]);if(!(0<e&&0<n))throw new Error("invalid size");return d=e,h=n,s},s.thresholds=function(e){return arguments.length?(o="function"==typeof e?e:Array.isArray(e)?fo(oo.call(e)):fo(e),s):o},s.smooth=function(e){return arguments.length?(p=e?a:ho,s):p===a},s}function go(s,t,n){for(var e=s.width,r=s.height,i=1+(n<<1),o=0;o<r;++o)for(var d=0,l=0;d<e+n;++d)d<e&&(l+=s.data[d+o*e]),d>=n&&(d>=i&&(l-=s.data[d-i+o*e]),t.data[d-n+o*e]=l/r_(d+1,e-1+i-d,i))}function yo(s,t,n){for(var e=s.width,r=s.height,i=1+(n<<1),o=0;o<e;++o)for(var d=0,l=0;d<r+n;++d)d<r&&(l+=s.data[o+d*e]),d>=n&&(d>=i&&(l-=s.data[o+(d-i)*e]),t.data[o+(d-n)*e]=l/r_(d+1,r-1+i-d,i))}function _o(e){return e[0]}function bo(e){return e[1]}function mo(){return 1}function xo(e){return new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}")}function So(a){function s(e,t){function n(){if(g)return wo;if(m)return m=!1,vo;var t=h,a,o;if(e.charCodeAt(t)===34){for(;h++<p&&e.charCodeAt(h)!==34||e.charCodeAt(++h)===34;);return(a=h)>=p?g=!0:(o=e.charCodeAt(h++))===10?m=!0:o===13&&(m=!0,e.charCodeAt(h)===10&&++h),e.slice(t+1,a-1).replace(/""/g,"\"")}for(;h<p;){if((o=e.charCodeAt(a=h++))===10)m=!0;else if(o===13)m=!0,e.charCodeAt(h)===10&&++h;else if(o!==d)continue;return e.slice(t,a)}return g=!0,e.slice(t,p)}var s=[],p=e.length,h=0,i=0,g=0>=p,m=!1,_;for(e.charCodeAt(p-1)===10&&--p,e.charCodeAt(p-1)===13&&--p;(_=n())!==wo;){for(var y=[];_!==vo&&_!==wo;)y.push(_),_=n();t&&null==(y=t(y,i++))||s.push(y)}return s}function r(e){return e.map(i).join(a)}function i(e){return null==e?"":o.test(e+="")?"\""+e.replace(/"/g,"\"\"")+"\"":e}var o=new RegExp("[\""+a+"\n\r]"),d=a.charCodeAt(0);return{parse:function(a,d){var t=s(a,function(e,t){return n?n(e,t-1):void(o=e,n=d?function(a,t){var n=xo(a);return function(e,o){return t(n(e),o,a)}}(e,d):xo(e))}),n,o;return t.columns=o||[],t},parseRows:s,format:function(t,o){return null==o&&(o=function(a){var o=Object.create(null),n=[];return a.forEach(function(e){for(var t in e)t in o||n.push(o[t]=t)}),n}(t)),[o.map(i).join(a)].concat(t.map(function(e){return o.map(function(n){return i(e[n])}).join(a)})).join("\n")},formatRows:function(e){return e.map(r).join("\n")}}}function Eo(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.blob()}function Yo(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.arrayBuffer()}function Bo(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function Fo(e,t){return fetch(e,t).then(Bo)}function Io(e){return function(t,n,a){return 2===arguments.length&&"function"==typeof n&&(a=n,n=void 0),Fo(t,n).then(function(t){return e(t,a)})}}function jo(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.json()}function Go(e){return function(t,n){return Fo(t,n).then(function(t){return new DOMParser().parseFromString(t,e)})}}function Vo(e){return function(){return e}}function Qo(){return 1e-6*(Math.random()-.5)}function Jo(m,t,n,e){if(isNaN(t)||isNaN(n))return m;var r=m._root,b={data:e},p=m._x0,x=m._y0,E=m._x1,k=m._y1,T,w,S,C,A,P,I,L,N;if(!r)return m._root=b,m;for(;r.length;)if((P=t>=(w=(p+E)/2))?p=w:E=w,(I=n>=(S=(x+k)/2))?x=S:k=S,T=r,!(r=r[L=I<<1|P]))return T[L]=b,m;if(C=+m._x.call(null,r.data),A=+m._y.call(null,r.data),t===C&&n===A)return b.next=r,T?T[L]=b:m._root=b,m;do T=T?T[L]=[,,,,]:m._root=[,,,,],(P=t>=(w=(p+E)/2))?p=w:E=w,(I=n>=(S=(x+k)/2))?x=S:k=S;while((L=I<<1|P)==(N=(A>=S)<<1|C>=w));return T[N]=r,T[L]=b,m}function Ko(a,t,n,e,o){this.node=a,this.x0=t,this.y0=n,this.x1=e,this.y1=o}function ta(e){return e[0]}function na(e){return e[1]}function ea(a,t,n){var e=new ra(null==t?ta:t,null==n?na:n,NaN,NaN,NaN,NaN);return null==a?e:e.addAll(a)}function ra(a,t,n,e,r,i){this._x=a,this._y=t,this._x0=n,this._y0=e,this._x1=r,this._y1=i,this._root=void 0}function ia(a){for(var o={data:a.data},n=o;a=a.next;)n=n.next={data:a.data};return o}function oa(e){return e.x+e.vx}function ua(e){return e.y+e.vy}function fa(e){return e.index}function ca(a,t){var n=a.get(t);if(!n)throw new Error("missing: "+t);return n}function sa(e){return e.x}function la(e){return e.y}function ha(a,o){if(0>(r=(a=o?a.toExponential(o-1):a.toExponential()).indexOf("e")))return null;var n=a.slice(0,r),r;return[1<n.length?n[0]+n.slice(2):n,+a.slice(r+1)]}function va(e){return(e=ha(d_(e)))?e[1]:NaN}function ga(e){return new ba(e)}function ba(e){if(!(t=aa.exec(e)))throw new Error("invalid format: "+e);var t;this.fill=t[1]||" ",this.align=t[2]||">",this.sign=t[3]||"-",this.symbol=t[4]||"",this.zero=!!t[5],this.width=t[6]&&+t[6],this.comma=!!t[7],this.precision=t[8]&&+t[8].slice(1),this.trim=!!t[9],this.type=t[10]||""}function ma(a,t){var n=ha(a,t);if(!n)return a+"";var e=n[0],o=n[1];return 0>o?"0."+Array(-o).join("0")+e:e.length>o+1?e.slice(0,o+1)+"."+e.slice(o+1):e+Array(o-e.length+2).join("0")}function xa(e){return e}function Ma(s){function d(i){function u(e){var n=O,a=g,r,s,d;if("c"===N)a=y(e)+a,e="";else{var p=0>(e=+e);if(e=y(d_(e),A),L&&(e=function(a){t:for(var t=a.length,e=1,o=-1,s;e<t;++e)switch(a[e]){case".":o=s=e;break;case"0":0==o&&(o=e),s=e;break;default:if(0<o){if(!+a[e])break t;o=0}}return 0<o?a.slice(0,o)+a.slice(s+1):a}(e)),p&&0==+e&&(p=!1),n=(p?"("===S?S:"-":"-"===S||"("===S?"":S)+n,a=("s"===N?wa[8+_a/3]:"")+a+(p&&"("===S?")":""),_)for(r=-1,s=e.length;++r<s;)if(48>(d=e.charCodeAt(r))||57<d){a=(46===d?l+e.slice(r+1):e.slice(r))+a,e=e.slice(0,r);break}}I&&!C&&(e=E(e,1/0));var f=n.length+e.length+a.length,h=f<P?Array(P-f+1).join(k):"";switch(I&&C&&(e=E(h+e,h.length?P-a.length:1/0),h=""),T){case"<":e=n+e+a+h;break;case"=":e=n+h+e+a;break;case"^":e=h.slice(0,f=h.length>>1)+n+e+a+h.slice(f);break;default:e=h+n+e+a;}return o(e)}var k=(i=ga(i)).fill,T=i.align,S=i.sign,f=i.symbol,C=i.zero,P=i.width,I=i.comma,A=i.precision,L=i.trim,N=i.type;"n"===N?(I=!0,N="g"):B_[N]||(null==A&&(A=12),L=!0,N="g"),(C||"0"===k&&"="===T)&&(C=!0,k="0",T="=");var O="$"===f?r[0]:"#"===f&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",g="$"===f?r[1]:/[%p]/.test(N)?a:"",y=B_[N],_=/[defgprs%]/.test(N);return A=null==A?6:/[gprs]/.test(N)?f_(1,r_(21,A)):f_(0,r_(20,A)),u.toString=function(){return i+""},u}var E=s.grouping&&s.thousands?(p=s.grouping,c=s.thousands,function(e,t){for(var n=e.length,r=[],o=0,s=p[0],d=0;0<n&&0<s&&(d+s+1>t&&(s=f_(1,t-d)),r.push(e.substring(n-=s,n+s)),!((d+=s+1)>t));)s=p[o=(o+1)%p.length];return r.reverse().join(c)}):xa,r=s.currency,l=s.decimal,o=s.numerals?function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(s.numerals):xa,a=s.percent||"%",p,c;return{format:d,formatPrefix:function(a,s){var n=d(((a=ga(a)).type="f",a)),e=3*f_(-8,r_(8,u_(va(s)/3))),r=l_(10,-e),i=wa[8+e/3];return function(e){return n(r*e)+i}}}}function Na(e){return Ta=Ma(e),G.format=Ta.format,G.formatPrefix=Ta.formatPrefix,Ta}function Sa(e){return f_(0,-va(d_(e)))}function Ea(e,t){return f_(0,3*f_(-8,r_(8,u_(va(t)/3)))-va(d_(e)))}function ka(e,a){return e=d_(e),a=d_(a)-e,f_(0,va(a)-va(e))+1}function Ca(){return new Pa}function Pa(){this.reset()}function za(a,t,n){var e=a.s=t+n,o=e-t;a.t=t-(e-o)+(n-o)}function La(e){return 1<e?0:-1>e?Ua:Km(e)}function Ur(e){return 1<e?qa:-1>e?-qa:Zm(e)}function Hr(e){return(e=Za(e/2))*e}function ni(){}function si(e,t){e&&au.hasOwnProperty(e.type)&&au[e.type](e,t)}function di(a,t,n){var e=-1,s=a.length-n,o;for(t.lineStart();++e<s;)o=a[e],t.point(o[0],o[1],o[2]);t.lineEnd()}function pi(a,t){var n=-1,o=a.length;for(t.polygonStart();++n<o;)di(a[n],t,1);t.polygonEnd()}function hi(e,t){e&&tu.hasOwnProperty(e.type)?tu[e.type](e,t):si(e,t)}function vi(){yu.point=ki}function Ei(){Ci(vf,z_)}function ki(e,a){yu.point=Ci,vf=e,z_=a,F_=e*=Fa,U_=Xa(a=(a*=Fa)/2+Oa),W_=Za(a)}function Ci(s,d){var l=(s*=Fa)-F_,e=0<=l?1:-1,r=e*l,i=Xa(d=(d*=Fa)/2+Oa),o=Za(d),a=W_*o,p=U_*i+a*Xa(r),u=a*e*Za(r);uu.add(Ha(u,p)),F_=s,U_=i,W_=o}function Pi(e){return[Ha(e[1],e[0]),Ur(e[2])]}function Ri(a){var t=a[0],n=a[1],e=Xa(n);return[e*Xa(t),e*Za(t),Za(n)]}function zi(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Fi(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Vi(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Gi(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Hi(e){var t=Ja(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function Wi(e,t){ay.push(oy=[q_=e,J_=e]),t<Y_&&(Y_=t),t>K_&&(K_=t)}function $i(s,t){var n=Ri([s*Fa,t*Fa]);if(ny){var e=Fi(ny,n),r=Fi([e[1],-e[0],0],e);Hi(r),r=Pi(r);var d=s-Z_,a=0<d?1:-1,l=r[0]*Ba*a,p=180<Ia(d),c;p^(a*Z_<l&&l<a*s)?(c=r[1]*Ba)>K_&&(K_=c):p^(a*Z_<(l=(l+360)%360-180)&&l<a*s)?(c=-r[1]*Ba)<Y_&&(Y_=c):(t<Y_&&(Y_=t),t>K_&&(K_=t)),p?s<Z_?Ts(q_,s)>Ts(q_,J_)&&(J_=s):Ts(s,J_)>Ts(q_,J_)&&(q_=s):J_>=q_?(s<q_&&(q_=s),s>J_&&(J_=s)):s>Z_?Ts(q_,s)>Ts(q_,J_)&&(J_=s):Ts(s,J_)>Ts(q_,J_)&&(q_=s)}else ay.push(oy=[q_=s,J_=s]);t<Y_&&(Y_=t),t>K_&&(K_=t),ny=n,Z_=s}function Xi(){ef.point=$i}function Ji(){oy[0]=q_,oy[1]=J_,ef.point=Wi,ny=null}function Ki(a,t){if(ny){var n=a-Z_;_u.add(180<Ia(n)?n+(0<n?360:-360):n)}else Q_=a,ey=t;yu.point(a,t),$i(a,t)}function Zi(){yu.lineStart()}function Qi(){Ki(Q_,ey),yu.lineEnd(),Ia(_u)>Ra&&(q_=-(J_=180)),oy[0]=q_,oy[1]=J_,ny=null}function Ts(e,t){return 0>(t-=e)?t+360:t}function Wp(e,t){return e[0]-t[0]}function $p(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function Jp(a,o){a*=Fa;var r=Xa(o*=Fa);Kp(r*Xa(a),r*Za(a),Za(o))}function Kp(a,t,n){sy+=(a-sy)/++ry,dy+=(t-dy)/ry,ly+=(n-ly)/ry}function Zp(){rf.point=eu}function eu(a,o){a*=Fa;var r=Xa(o*=Fa);Oy=r*Xa(a),Dy=r*Za(a),jy=Za(o),rf.point=nu,Kp(Oy,Dy,jy)}function nu(s,d){s*=Fa;var l=Xa(d*=Fa),e=l*Xa(s),r=l*Za(s),i=Za(d),o=Ha(Ja((o=Dy*i-jy*r)*o+(o=jy*e-Oy*i)*o+(o=Oy*r-Dy*e)*o),Oy*e+Dy*r+jy*i);iy+=o,cy+=o*(Oy+(Oy=e)),fy+=o*(Dy+(Dy=r)),hy+=o*(jy+(jy=i)),Kp(Oy,Dy,jy)}function ou(){rf.point=Jp}function ru(){rf.point=su}function iu(){cu(Py,Ly),rf.point=Jp}function su(a,o){Py=a,Ly=o,a*=Fa,o*=Fa,rf.point=cu;var r=Xa(o);Oy=r*Xa(a),Dy=r*Za(a),jy=Za(o),Kp(Oy,Dy,jy)}function cu(d,p){d*=Fa;var h=Xa(p*=Fa),e=h*Xa(d),r=h*Za(d),i=Za(p),o=Dy*i-jy*r,a=jy*e-Oy*i,u=Oy*r-Dy*e,f=Ja(o*o+a*a+u*u),c=Ur(f),s=f&&-c/f;yy+=s*o,Ey+=s*a,Cy+=s*u,iy+=c,cy+=c*(Oy+(Oy=e)),fy+=c*(Dy+(Dy=r)),hy+=c*(jy+(jy=i)),Kp(Oy,Dy,jy)}function fu(e){return function(){return e}}function mu(a,t){function n(n,o){return n=a(n,o),t(n[0],n[1])}return a.invert&&t.invert&&(n.invert=function(n,o){return(n=t.invert(n,o))&&a.invert(n[0],n[1])}),n}function bu(e,t){return[e>Ua?e-Ya:e<-Ua?e+Ya:e,t]}function xu(a,o,n){return(a%=Ya)?o||n?mu(ku(a),Tu(o,n)):ku(a):o||n?Tu(o,n):bu}function Eu(a){return function(t,o){return[(t+=a)>Ua?t-Ya:t<-Ua?t+Ya:t,o]}}function ku(e){var t=Eu(e);return t.invert=Eu(-e),t}function Tu(s,t){function n(o,t){var n=Xa(t),a=Xa(o)*n,l=Za(o)*n,p=Za(t),c=p*d+a*e;return[Ha(l*r-c*i,a*d-p*e),Ur(c*r+l*i)]}var d=Xa(s),e=Za(s),r=Xa(t),i=Za(t);return n.invert=function(o,t){var n=Xa(t),a=Xa(o)*n,l=Za(o)*n,p=Za(t),c=p*r-l*i;return[Ha(l*r+p*i,a*d+c*e),Ur(c*d-a*e)]},n}function wu(e){function a(t){return(t=e(t[0]*Fa,t[1]*Fa))[0]*=Ba,t[1]*=Ba,t}return e=xu(e[0]*Fa,e[1]*Fa,2<e.length?e[2]*Fa:0),a.invert=function(t){return(t=e.invert(t[0]*Fa,t[1]*Fa))[0]*=Ba,t[1]*=Ba,t},a}function Su(d,t,n,e,r,l){if(n){var p=Xa(t),a=Za(t),u=e*n;null==r?(r=t+e*Ya,l=t-u/2):(r=Au(p,r),l=Au(p,l),(0<e?r<l:r>l)&&(r+=e*Ya));for(var f=r,h;0<e?f>l:f<l;f-=u)h=Pi([p,-a*Xa(f),-a*Za(f)]),d.point(h[0],h[1])}}function Au(a,t){(t=Ri(t))[0]-=a,Hi(t);var o=La(-t[1]);return((0>-t[2]?-o:o)+Ya-Ra)%Ya}function Nu(){var a=[],o;return{point:function(t,n){o.push([t,n])},lineStart:function(){a.push(o=[])},lineEnd:ni,rejoin:function(){1<a.length&&a.push(a.pop().concat(a.shift()))},result:function(){var t=a;return a=[],o=null,t}}}function Mu(e,t){return Ia(e[0]-t[0])<Ra&&Ia(e[1]-t[1])<Ra}function af(a,t,n,e){this.x=a,this.z=t,this.o=n,this.e=e,this.v=!1,this.n=this.p=null}function of(p,t,n,g,m){var i=[],u=[],f,r;if(p.forEach(function(o){if(!(0>=(a=o.length-1))){var t=o[0],s=o[a],a,d;if(Mu(t,s)){for(m.lineStart(),f=0;f<a;++f)m.point((t=o[f])[0],t[1]);m.lineEnd()}else i.push(d=new af(t,o,null,!0)),u.push(d.o=new af(t,null,d,!1)),i.push(d=new af(s,o,null,!1)),u.push(d.o=new af(s,null,d,!0))}}),i.length){for(u.sort(t),sf(i),sf(u),f=0,r=u.length;f<r;++f)u[f].e=n=!n;for(var _=i[0],l,y;;){for(var b=_,x=!0;b.v;)if((b=b.n)===_)return;l=b.z,m.lineStart();do{if(b.v=b.o.v=!0,b.e){if(x)for(f=0,r=l.length;f<r;++f)m.point((y=l[f])[0],y[1]);else g(b.x,b.n.x,1,m);b=b.n}else{if(x)for(l=b.p.z,f=l.length-1;0<=f;--f)m.point((y=l[f])[0],y[1]);else g(b.x,b.p.x,-1,m);b=b.p}l=(b=b.o).z,x=!x}while(!b.v);m.lineEnd()}}}function sf(a){if(s=a.length){for(var t=0,o=a[0],s,d;++t<s;)o.n=d=a[t],d.p=o,o=d;o.n=d=a[0],d.p=o}}function df(P,t){var n=t[0],e=t[1],I=Za(e),i=[Za(n),-Xa(n),0],o=0,L=0;Ry.reset(),1===I?e=qa+Ra:-1===I&&(e=-qa-Ra);for(var O=0,D=P.length;O<D;++O)if(V=(F=P[O]).length)for(var c=F[V-1],B=c[0],j=c[1]/2+Oa,p=Za(j),R=Xa(j),z=0,F,V;z<V;++z,B=_,p=m,R=x,c=U){var U=F[z],_=U[0],b=U[1]/2+Oa,m=Za(b),x=Xa(b),w=_-B,M=0<=w?1:-1,A=M*w,T=A>Ua,N=p*m;if(Ry.add(Ha(N*M*Za(A),R*x+N*Xa(A))),o+=T?w+M*Ya:w,T^B>=n^_>=n){var S=Fi(Ri(c),Ri(U));Hi(S);var E=Fi(i,S);Hi(E);var k=(T^0<=w?-1:1)*Ur(E[2]);(e>k||e===k&&(S[0]||S[1]))&&(L+=T^0<=w?1:-1)}}return(o<-Ra||o<Ra&&Ry<-Ra)^1&L}function lf(a,t,n,e){return function(m){function r(t,n){a(t,n)&&m.point(t,n)}function i(e,t){b.point(e,t)}function d(){f.point=i,b.lineStart()}function p(){f.point=r,b.lineEnd()}function g(e,t){k.push([e,t]),c.point(e,t)}function y(){c.lineStart(),k=[]}function _(){g(k[0][0],k[0][1]),c.lineEnd();var a=c.clean(),o=x.result(),i=o.length,d,l,p,u;if(k.pop(),v.push(k),k=null,i)if(!(1&a))1<i&&2&a&&o.push(o.pop().concat(o.shift())),E.push(o.filter(pf));else if(0<(l=(p=o[0]).length-1)){for(s||(m.polygonStart(),s=!0),m.lineStart(),d=0;d<l;++d)m.point((u=p[d])[0],u[1]);m.lineEnd()}}var b=t(m),x=Nu(),c=t(x),s=!1,f={point:r,lineStart:d,lineEnd:p,polygonStart:function(){f.point=g,f.lineStart=y,f.lineEnd=_,E=[],v=[]},polygonEnd:function(){f.point=r,f.lineStart=d,f.lineEnd=p,E=T(E);var a=df(v,e);E.length?(s||(m.polygonStart(),s=!0),of(E,cf,a,n,m)):a&&(s||(m.polygonStart(),s=!0),m.lineStart(),n(null,null,1,m),m.lineEnd()),s&&(m.polygonEnd(),s=!1),E=v=null},sphere:function(){m.polygonStart(),m.lineStart(),n(null,null,1,m),m.lineEnd(),m.polygonEnd()}},v,E,k;return f}}function pf(e){return 1<e.length}function cf(e,a){return(0>(e=e.x)[0]?e[1]-qa-Ra:qa-e[1])-(0>(a=a.x)[0]?a[1]-qa-Ra:qa-a[1])}function uf(s){function c(n,t){return Xa(n)*Xa(t)>E}function o(n,t,e){var r=[1,0,0],i=Fi(Ri(n),Ri(t)),o=zi(i,i),a=i[0],s=o-a*a;if(!s)return!e&&n;var c=Fi(r,i),l=Gi(r,E*o/s);Vi(l,Gi(i,-E*a/s));var u=c,d=zi(l,u),p=zi(u,u),f=d*d-p*(zi(l,l)-1);if(!(0>f)){var h=Ja(f),g=Gi(u,(-d-h)/p);if(Vi(g,l),g=Pi(g),!e)return g;var y=n[0],v=t[0],k=n[1],S=t[1],C;v<y&&(C=y,y=v,v=C);var P=v-y,A=Ia(P-Ua)<Ra;if(!A&&S<k&&(C=k,k=S,S=C),A||P<Ra?A?0<k+S^g[1]<(Ia(g[0]-y)<Ra?k:S):k<=g[1]&&g[1]<=S:P>Ua^(y<=g[0]&&g[0]<=v)){var T=Gi(u,(-d+h)/p);return Vi(T,l),[g,Pi(T)]}}}function a(t,n){var e=u?s:Ua-s,a=0;return t<-e?a|=1:t>e&&(a|=2),n<-e?a|=4:n>e&&(a|=8),a}var E=Xa(s),u=0<E,r=Ia(E)>Ra;return lf(c,function(i){var t,m,_,b,x;return{lineStart:function(){b=_=!1,x=1},point:function(e,n){var s=[e,n],l=c(e,n),p=u?l?0:a(e,n):l?a(e+(0>e?Ua:-Ua),n):0,f;if(!t&&(b=_=l)&&i.lineStart(),l!==_&&(!(f=o(t,s))||Mu(t,f)||Mu(s,f))&&(s[0]+=Ra,s[1]+=Ra,l=c(s[0],s[1])),l!==_)x=0,l?(i.lineStart(),f=o(s,t),i.point(f[0],f[1])):(f=o(t,s),i.point(f[0],f[1]),i.lineEnd()),t=f;else if(r&&t&&u^l){var h;p&m||!(h=o(s,t,!0))||(x=0,u?(i.lineStart(),i.point(h[0][0],h[0][1]),i.point(h[1][0],h[1][1]),i.lineEnd()):(i.point(h[1][0],h[1][1]),i.lineEnd(),i.lineStart(),i.point(h[0][0],h[0][1])))}!l||t&&Mu(t,s)||i.point(s[0],s[1]),t=s,_=l,m=p},lineEnd:function(){_&&i.lineEnd(),t=null},clean:function(){return x|(b&&_)<<1}}},function(e,t,n,a){Su(a,s,6*Fa,n,e,t)},u?[0,-s]:[-Ua,s-Ua])}function ff(_,t,n,y){function e(e,a){return _<=e&&e<=n&&t<=a&&a<=y}function r(e,r,o,i){var p=0,c=0;if(null==e||(p=d(e,o))!==(c=d(r,o))||0>a(e,r)^0<o)do i.point(0===p||3===p?_:n,1<p?y:t);while((p=(p+o+4)%4)!==c);else i.point(r[0],r[1])}function d(e,a){return Ia(e[0]-_)<Ra?0<a?0:3:Ia(e[0]-n)<Ra?0<a?2:1:Ia(e[1]-t)<Ra?0<a?1:0:0<a?3:2}function o(e,t){return a(e.x,t.x)}function a(a,t){var n=d(a,1),e=d(t,1);return n===e?0===n?t[1]-a[1]:1===n?a[0]-t[0]:2===n?a[1]-t[1]:t[0]-a[0]:n-e}return function(u){function a(a,t){e(a,t)&&E.point(a,t)}function i(r,i){var s=e(r,i);if(w&&S.push([r,i]),O)C=r,A=i,P=s,O=!1,s&&(E.lineStart(),E.point(r,i));else if(s&&N)E.point(r,i);else{var d=[I=f_(-1000000000,r_(1000000000,I)),L=f_(-1000000000,r_(1000000000,L))],l=[r=f_(-1000000000,r_(1000000000,r)),i=f_(-1000000000,r_(1000000000,i))];(function(d,t,n,e,r,i){var o=d[0],p=d[1],u=0,f=1,g=t[0]-o,l=t[1]-p,h;if(h=n-o,g||!(0<h)){if(h/=g,0>g){if(h<u)return;h<f&&(f=h)}else if(0<g){if(h>f)return;h>u&&(u=h)}if(h=r-o,g||!(0>h)){if(h/=g,0>g){if(h>f)return;h>u&&(u=h)}else if(0<g){if(h<u)return;h<f&&(f=h)}if(h=e-p,l||!(0<h)){if(h/=l,0>l){if(h<u)return;h<f&&(f=h)}else if(0<l){if(h>f)return;h>u&&(u=h)}if(h=i-p,l||!(0>h)){if(h/=l,0>l){if(h>f)return;h>u&&(u=h)}else if(0<l){if(h<u)return;h<f&&(f=h)}return 0<u&&(d[0]=o+u*g,d[1]=p+u*l),1>f&&(t[0]=o+f*g,t[1]=p+f*l),!0}}}}})(d,l,_,t,n,y)?(N||(E.lineStart(),E.point(d[0],d[1])),E.point(l[0],l[1]),s||E.lineEnd(),M=!1):s&&(E.lineStart(),E.point(r,i),M=!1)}I=r,L=i,N=s}var E=u,k=Nu(),m={point:a,lineStart:function(){m.point=i,w&&w.push(S=[]),O=!0,N=!1,I=L=NaN},lineEnd:function(){x&&(i(C,A),P&&N&&k.rejoin(),x.push(k.result())),m.point=a,N&&E.lineEnd()},polygonStart:function(){E=k,x=[],w=[],M=!0},polygonEnd:function(){var t=function(){for(var t=0,r=0,p=w.length;r<p;++r)for(var i=w[r],c=1,u=i.length,s=i[0],g=s[0],m=s[1],b,x;c<u;++c)b=g,x=m,s=i[c],g=s[0],m=s[1],x<=y?m>y&&(g-b)*(y-x)>(m-x)*(_-b)&&++t:m<=y&&(g-b)*(y-x)<(m-x)*(_-b)&&--t;return t}(),n=M&&t,e=(x=T(x)).length;(n||e)&&(u.polygonStart(),n&&(u.lineStart(),r(null,null,1,u),u.lineEnd()),e&&of(x,o,t,r,u),u.polygonEnd()),E=u,x=w=S=null}},x,w,S,C,A,P,I,L,N,O,M;return m}}function hf(){tc.point=tc.lineEnd=ni}function ec(e,a){Zc=e*=Fa,ob=Za(a*=Fa),rb=Xa(a),tc.point=rc}function rc(s,d){s*=Fa;var l=Za(d*=Fa),e=Xa(d),r=Ia(s-Zc),i=Xa(r),o=e*Za(r),a=rb*l-ob*e*i,p=ob*l+rb*e*i;Gf.add(Ha(Ja(o*o+a*a),p)),Zc=s,ob=l,rb=e}function ic(e){return Gf.reset(),hi(e,tc),+Gf}function oc(e,t){return nc[0]=e,nc[1]=t,ic(ac)}function fc(e,t){return e&&cc.hasOwnProperty(e.type)&&cc[e.type](e,t)}function lc(e,t){return 0===oc(e,t)}function hc(a,t){var n=oc(a[0],a[1]);return oc(a[0],t)+oc(t,a[1])<=n+Ra}function dc(e,t){return!!df(e.map(pc),vc(t))}function pc(e){return(e=e.map(vc)).pop(),e}function vc(e){return[e[0]*Fa,e[1]*Fa]}function gc(a,t,n){var e=Le(a,t-Ra,n).concat(t);return function(a){return e.map(function(e){return[a,e]})}}function yc(a,t,n){var e=Le(a,t-Ra,n).concat(t);return function(a){return e.map(function(e){return[e,a]})}}function _c(){function g(){return{type:"MultiLineString",coordinates:m()}}function m(){return Le(Ga(C/x)*x,S,x).map(M).concat(Le(Ga(L/E)*E,I,E).map(D)).concat(Le(Ga(w/_)*_,T,_).filter(function(e){return Ia(e%x)>Ra}).map(N)).concat(Le(Ga(P/b)*b,A,b).filter(function(e){return Ia(e%E)>Ra}).map(O))}var _=10,b=_,x=90,E=360,k=2.5,T,w,S,C,A,P,I,L,N,O,M,D;return g.lines=function(){return m().map(function(e){return{type:"LineString",coordinates:e}})},g.outline=function(){return{type:"Polygon",coordinates:[M(C).concat(D(I).slice(1),M(S).reverse().slice(1),D(L).reverse().slice(1))]}},g.extent=function(e){return arguments.length?g.extentMajor(e).extentMinor(e):g.extentMinor()},g.extentMajor=function(e){return arguments.length?(C=+e[0][0],S=+e[1][0],L=+e[0][1],I=+e[1][1],C>S&&(e=C,C=S,S=e),L>I&&(e=L,L=I,I=e),g.precision(k)):[[C,L],[S,I]]},g.extentMinor=function(t){return arguments.length?(w=+t[0][0],T=+t[1][0],P=+t[0][1],A=+t[1][1],w>T&&(t=w,w=T,T=t),P>A&&(t=P,P=A,A=t),g.precision(k)):[[w,P],[T,A]]},g.step=function(e){return arguments.length?g.stepMajor(e).stepMinor(e):g.stepMinor()},g.stepMajor=function(e){return arguments.length?(x=+e[0],E=+e[1],g):[x,E]},g.stepMinor=function(e){return arguments.length?(_=+e[0],b=+e[1],g):[_,b]},g.precision=function(e){return arguments.length?(k=+e,N=gc(P,A,90),O=yc(w,T,k),M=gc(L,I,90),D=yc(C,S,k),g):k},g.extentMajor([[-180,-90+Ra],[180,90-Ra]]).extentMinor([[-180,-80-Ra],[180,80+Ra]])}function bc(e){return e}function mc(){Nc.point=Ec}function Ec(e,t){Nc.point=kc,ib=db=e,sb=lb=t}function kc(e,t){Tc.add(lb*e-db*t),db=e,lb=t}function Cc(){kc(ib,sb)}function Pc(e,t){Uc+=e,$y+=t,++Yy}function Qc(){ab.point=Jc}function Jc(e,t){ab.point=Kc,Pc(ub=e,fb=t)}function Kc(a,t){var n=a-ub,e=t-fb,o=Ja(n*n+e*e);Xy+=o*(ub+a)/2,Jy+=o*(fb+t)/2,Ky+=o,Pc(ub=a,fb=t)}function ts(){ab.point=Pc}function ns(){ab.point=rs}function es(){is(pb,cb)}function rs(e,t){ab.point=is,Pc(pb=ub=e,cb=fb=t)}function is(a,t){var n=a-ub,e=t-fb,o=Ja(n*n+e*e);Xy+=o*(ub+a)/2,Jy+=o*(fb+t)/2,Ky+=o,Zy+=(o=fb*a-ub*t)*(ub+a),eb+=o*(fb+t),nb+=3*o,Pc(ub=a,fb=t)}function os(e){this._context=e}function as(e,t){hs.point=ps,gb=_b=e,mb=yb=t}function ps(e,t){_b-=e,yb-=t,hb.add(Ja(_b*_b+yb*yb)),_b=e,yb=t}function vs(){this._string=[]}function gs(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function ys(n){return function(t){var a=new _s;for(var e in n)a[e]=n[e];return a.stream=t,a}}function _s(){}function bs(a,t,n){var e=a.clipExtent&&a.clipExtent();return a.scale(150).translate([0,0]),null!=e&&a.clipExtent(null),hi(n,a.stream(Gy)),t(Gy.result()),null!=e&&a.clipExtent(e),a}function ms(s,t,n){return bs(s,function(n){var e=t[1][0]-t[0][0],r=t[1][1]-t[0][1],i=r_(e/(n[1][0]-n[0][0]),r/(n[1][1]-n[0][1])),o=+t[0][0]+(e-i*(n[1][0]+n[0][0]))/2,a=+t[0][1]+(r-i*(n[1][1]+n[0][1]))/2;s.scale(150*i).translate([o,a])},n)}function xs(a,t,n){return ms(a,[[0,0],t],n)}function ws(s,t,n){return bs(s,function(n){var e=+t,r=e/(n[1][0]-n[0][0]),i=(e-r*(n[1][0]+n[0][0]))/2,o=-r*n[0][1];s.scale(150*r).translate([i,o])},n)}function Ms(s,t,n){return bs(s,function(n){var e=+t,r=e/(n[1][1]-n[0][1]),i=-r*n[0][0],o=(e-r*(n[1][1]+n[0][1]))/2;s.scale(150*r).translate([i,o])},n)}function As(e,t){return+t?function(I,t){function L(e,n,r,o,a,i,u,c,s,l,f,d,p,h){var g=u-e,y=c-n,_=g*g+y*y;if(_>4*t&&p--){var b=o+l,O=a+f,D=i+d,B=Ja(b*b+O*O+D*D),M=Ur(D/=B),A=Ia(Ia(D)-1)<Ra||Ia(r-s)<Ra?(r+s)/2:Ha(O,b),T=I(A,M),N=T[0],S=T[1],E=N-e,k=S-n,C=y*E-g*k;(C*C/_>t||.3<Ia((g*E+y*k)/_-.5)||o*l+a*f+i*d<bb)&&(L(e,n,r,o,a,i,N,S,A,b/=B,O/=B,D,p,h),h.point(N,S),L(N,S,A,b,O,D,u,c,s,l,f,d,p,h))}}return function(t){function e(n,a){n=I(n,a),t.point(n[0],n[1])}function n(){A=NaN,x.point=g,t.lineStart()}function g(e,n){var r=Ri([e,n]),o=I(e,n);L(A,P,C,N,O,M,A=o[0],P=o[1],C=e,N=r[0],O=r[1],M=r[2],16,t),t.point(A,P)}function _(){x.point=e,t.lineEnd()}function y(){n(),x.point=m,x.lineEnd=b}function m(e,t){g(v=e,t),E=A,k=P,T=N,w=O,S=M,x.point=g}function b(){L(A,P,C,N,O,M,E,k,v,T,w,S,16,t),x.lineEnd=_,_()}var x={point:e,lineStart:n,lineEnd:_,polygonStart:function(){t.polygonStart(),x.lineStart=y},polygonEnd:function(){t.polygonEnd(),x.lineStart=n}},v,E,k,T,w,S,C,A,P,N,O,M;return x}}(e,t):function(a){return ys({point:function(t,o){t=a(t,o),this.stream.point(t[0],t[1])}})}(e)}function Ss(s,d,l,e){function t(e,t){return[n*e-a*t+d,l-a*e-n*t]}var r=Xa(e),i=Za(e),n=r*s,a=i*s,o=r/s,p=i/s;return t.invert=function(e,t){return[o*e-p*t+(i*l-r*t)/e,(i*t+r*l)/e-p*e-o*t]},t}function ks(e){return Cs(function(){return e})()}function Cs(k){function C(e){return J(e[0]*Fa,e[1]*Fa)}function t(e){return(e=J.invert(e[0],e[1]))&&[e[0]*Ba,e[1]*Ba]}function T(){var e=Ss(E,0,0,j).apply(null,G(L,N)),t=(j?Ss:function(a,t,n){function e(e,o){return[t+a*e,n-a*o]}return e.invert=function(e,o){return[(e-t)/a,(n-o)/a]},e})(E,P-e[0],I-e[1],j);return H=xu(O,D,B),X=mu(G,t),J=mu(H,X),Y=As(X,U),S()}function S(){return K=Z=null,C}var E=150,P=480,I=250,L=0,N=0,O=0,D=0,B=0,j=0,R=null,z=Ff,F=null,V=bc,U=.5,G,H,W,q,$,Y,X,J,K,Z;return C.stream=function(e){return K&&Z===e?K:K=Ns(function(a){return ys({point:function(t,n){var e=a(t,n);return this.stream.point(e[0],e[1])}})}(H)(z(Y(V(Z=e)))))},C.preclip=function(e){return arguments.length?(z=e,R=void 0,S()):z},C.postclip=function(e){return arguments.length?(V=e,F=W=q=$=null,S()):V},C.clipAngle=function(e){return arguments.length?(z=+e?uf(R=e*Fa):(R=null,Ff),S()):R*Ba},C.clipExtent=function(e){return arguments.length?(V=null==e?(F=W=q=$=null,bc):ff(F=+e[0][0],W=+e[0][1],q=+e[1][0],$=+e[1][1]),S()):null==F?null:[[F,W],[q,$]]},C.scale=function(e){return arguments.length?(E=+e,T()):E},C.translate=function(e){return arguments.length?(P=+e[0],I=+e[1],T()):[P,I]},C.center=function(e){return arguments.length?(L=e[0]%360*Fa,N=e[1]%360*Fa,T()):[L*Ba,N*Ba]},C.rotate=function(e){return arguments.length?(O=e[0]%360*Fa,D=e[1]%360*Fa,B=2<e.length?e[2]%360*Fa:0,T()):[O*Ba,D*Ba,B*Ba]},C.angle=function(e){return arguments.length?(j=e%360*Fa,T()):j*Ba},C.precision=function(e){return arguments.length?(Y=As(X,U=e*e),S()):Ja(U)},C.fitExtent=function(e,t){return ms(C,e,t)},C.fitSize=function(e,t){return xs(C,e,t)},C.fitWidth=function(e,t){return ws(C,e,t)},C.fitHeight=function(e,t){return Ms(C,e,t)},function(){return G=k.apply(this,arguments),C.invert=G.invert&&t,T()}}function Ps(a){var o=0,s=Ua/3,d=Cs(a),t=d(o,s);return t.parallels=function(e){return arguments.length?d(o=e[0]*Fa,s=e[1]*Fa):[o*Ba,s*Ba]},t}function zs(s,t){function n(a,o){var n=Ja(r-2*d*Za(o))/d;return[n*Za(a*=d),i-n*Xa(a)]}var a=Za(s),d=(a+Za(t))/2;if(Ia(d)<Ra)return function(a){function t(n,t){return[n*o,Za(t)/o]}var o=Xa(a);return t.invert=function(n,t){return[n/o,Ur(t*o)]},t}(s);var r=1+a*(2*d-a),i=Ja(r)/d;return n.invert=function(a,t){var n=i-t;return[Ha(a,Ia(n))/d*Qa(n),Ur((r-(a*a+n*n)*d*d)/(2*d))]},n}function Rs(){return Ps(zs).scale(155.424).center([0,33.6442])}function Ls(){return Rs().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Ds(a){return function(t,n){var e=Xa(t),r=Xa(n),i=a(e*r);return[i*r*Za(t),i*Za(n)]}}function Us(s){return function(t,n){var e=Ja(t*t+n*n),r=s(e),i=Za(r),o=Xa(r);return[Ha(t*i,e*o),Ur(e&&n*i/e)]}}function qs(e,t){return[e,$a(Ka((qa+t)/2))]}function Bs(d){function l(){var e=Ua*s(),n=t(wu(t.rotate()).invert([0,0]));return p(null==f?[[n[0]-e,n[1]-e],[n[0]+e,n[1]+e]]:d===qs?[[f_(n[0]-e,f),h],[r_(n[0]+e,g),m]]:[[f,f_(n[1]-e,h)],[g,r_(n[1]+e,m)]])}var t=ks(d),i=t.center,s=t.scale,a=t.translate,p=t.clipExtent,f=null,h,g,m;return t.scale=function(e){return arguments.length?(s(e),l()):s()},t.translate=function(e){return arguments.length?(a(e),l()):a()},t.center=function(e){return arguments.length?(i(e),l()):i()},t.clipExtent=function(e){return arguments.length?(null==e?f=h=g=m=null:(f=+e[0][0],h=+e[0][1],g=+e[1][0],m=+e[1][1]),l()):null==f?null:[[f,h],[g,m]]},l()}function Fs(e){return Ka((qa+e)/2)}function Is(a,t){function n(a,t){0<r?t<-qa+Ra&&(t=-qa+Ra):t>qa-Ra&&(t=qa-Ra);var o=r/Wa(Fs(t),s);return[o*Za(s*a),r-o*Xa(s*a)]}var o=Xa(a),s=a===t?Za(a):$a(o/Xa(t))/$a(Fs(t)/Fs(a)),r=o*Wa(Fs(a),s)/s;return s?(n.invert=function(a,t){var n=r-t,e=Qa(s)*Ja(a*a+n*n);return[Ha(a,Ia(n))/s*Qa(n),2*ja(Wa(r/e,1/s))-qa]},n):qs}function js(e,t){return[e,t]}function Hs(a,t){function n(a,t){var n=r-t,e=s*a;return[n*Za(e),r-n*Xa(e)]}var o=Xa(a),s=a===t?Za(a):(o-Xa(t))/(t-a),r=o/s+a;return Ia(s)<Ra?js:(n.invert=function(a,t){var n=r-t;return[Ha(a,Ia(n))/s*Qa(n),r-Qa(s)*Ja(a*a+n*n)]},n)}function Xs(a,t){var n=Xa(t),e=Xa(a)*n;return[n*Za(a)/e,Za(t)/e]}function Gs(a,t,n,e){return 1===a&&1===t&&0===n&&0===e?bc:ys({point:function(r,i){this.stream.point(r*a+n,i*t+e)}})}function Vs(a,t){var n=t*t,e=n*n;return[a*(.8707-.131979*n+e*(e*(.003971*n-.001529*e)-.013791)),t*(1.007226+n*(.015085+e*(.028874*n-.044475-.005916*e)))]}function $s(e,t){return[Xa(t)*Za(e),Za(t)]}function Ws(a,t){var n=Xa(t),e=1+Xa(a)*n;return[n*Za(a)/e,Za(t)/e]}function Zs(e,t){return[$a(Ka((qa+t)/2)),-e]}function Qs(e,t){return e.parent===t.parent?1:2}function Js(e,t){return e+t.x}function Ks(e,t){return f_(e,t.y)}function tl(a){var t=0,o=a.children,e=o&&o.length;if(e)for(;0<=--e;)t+=o[e].value;else t=1;a.value=t}function nl(s,t){var d=new ol(s),l=+s.value&&(d.value=s.value),p=[d],c,u,f,h,g;for(null==t&&(t=el);c=p.pop();)if(l&&(c.value=+c.data.value),(f=t(c.data))&&(g=f.length))for(c.children=Array(g),h=g-1;0<=h;--h)p.push(u=c.children[h]=new ol(f[h])),u.parent=c,u.depth=c.depth+1;return d.eachBefore(il)}function el(e){return e.children}function rl(e){e.data=e.data.data}function il(e){var a=0;do e.height=a;while((e=e.parent)&&e.height<++a)}function ol(e){this.data=e,this.depth=this.height=0,this.parent=null}function al(a){for(var s=0,d=(a=function(a){for(var t=a.length,o,i;t;)i=0|Math.random()*t--,o=a[t],a[t]=a[i],a[i]=o;return a}(Ys.call(a))).length,i=[],l,p;s<d;)l=a[s],p&&sl(p,l)?++s:(p=hl(i=fl(i,l)),s=0);return p}function fl(a,t){var n,o;if(ll(t,a))return[t];for(n=0;n<a.length;++n)if(cl(t,a[n])&&ll(dl(a[n],t),a))return[a[n],t];for(n=0;n<a.length-1;++n)for(o=n+1;o<a.length;++o)if(cl(dl(a[n],a[o]),t)&&cl(dl(a[n],t),a[o])&&cl(dl(a[o],t),a[n])&&ll(pl(a[n],a[o],t),a))return[a[n],a[o],t];throw new Error}function cl(a,t){var n=a.r-t.r,e=t.x-a.x,o=t.y-a.y;return 0>n||n*n<e*e+o*o}function sl(a,t){var n=a.r-t.r+1e-6,e=t.x-a.x,o=t.y-a.y;return 0<n&&n*n>e*e+o*o}function ll(a,t){for(var n=0;n<t.length;++n)if(!sl(a,t[n]))return!1;return!0}function hl(e){switch(e.length){case 1:return{x:(t=e[0]).x,y:t.y,r:t.r};case 2:return dl(e[0],e[1]);case 3:return pl(e[0],e[1],e[2]);}var t}function dl(d,t){var n=d.x,e=d.y,r=d.r,i=t.x,o=t.y,a=t.r,p=i-n,u=o-e,c=a-r,s=g_(p*p+u*u);return{x:(n+i+p/s*c)/2,y:(e+o+u/s*c)/2,r:(s+r+a)/2}}function pl(C,t,n){var e=C.x,r=C.y,i=C.r,o=t.x,a=t.y,u=t.r,f=n.x,c=n.y,s=n.r,l=e-o,h=e-f,d=r-a,p=r-c,v=u-i,g=s-i,y=e*e+r*r-i*i,_=y-o*o-a*a+u*u,b=y-f*f-c*c+s*s,m=h*d-l*p,x=(d*b-p*_)/(2*m)-e,w=(p*v-d*g)/m,P=(h*_-l*b)/(2*m)-r,A=(l*g-h*v)/m,T=w*w+A*A-1,I=2*(i+x*w+P*A),S=x*x+P*P-i*i,E=-(T?(I+g_(I*I-4*T*S))/(2*T):S/I);return{x:e+x+w*E,y:r+P+A*E,r:E}}function vl(s,t,n){var e=s.x-t.x,d=s.y-t.y,l=e*e+d*d,p,c,u,f;l?(c=t.r+n.r,c*=c,f=s.r+n.r,c>(f*=f)?(p=(l+f-c)/(2*l),u=g_(f_(0,f/l-p*p)),n.x=s.x-p*e-u*d,n.y=s.y-p*d+u*e):(p=(l+c-f)/(2*l),u=g_(f_(0,c/l-p*p)),n.x=t.x+p*e-u*d,n.y=t.y+p*d+u*e)):(n.x=t.x+n.r,n.y=t.y)}function gl(a,t){var n=a.r+t.r-1e-6,e=t.x-a.x,o=t.y-a.y;return 0<n&&n*n>e*e+o*o}function yl(a){var t=a._,n=a.next._,e=t.r+n.r,r=(t.x*n.r+n.x*t.r)/e,i=(t.y*n.r+n.y*t.r)/e;return r*r+i*i}function _l(e){this._=e,this.next=null,this.previous=null}function bl(d){if(!(g=d.length))return 0;var t,p,h,g,m,_,y,b,x,v,E;if((t=d[0]).x=0,t.y=0,!(1<g))return t.r;if(p=d[1],t.x=-p.r,p.x=t.r,p.y=0,!(2<g))return t.r+p.r;vl(p,t,h=d[2]),t=new _l(t),p=new _l(p),h=new _l(h),t.next=h.previous=p,p.next=t.previous=h,h.next=p.previous=t;t:for(y=3;y<g;++y){vl(t._,p._,h=d[y]),h=new _l(h),b=p.next,x=t.previous,v=p._.r,E=t._.r;do if(v<=E){if(gl(b._,h._)){p=b,t.next=p,p.previous=t,--y;continue t}v+=b._.r,b=b.next}else{if(gl(x._,h._)){(t=x).next=p,p.previous=t,--y;continue t}E+=x._.r,x=x.previous}while(b!==x.next);for(h.previous=t,h.next=p,t.next=p.previous=p=h,m=yl(t);(h=h.next)!==p;)(_=yl(h))<m&&(t=h,m=_);p=t.next}for(t=[p._],h=p;(h=h.next)!==p;)t.push(h._);for(h=al(t),y=0;y<g;++y)(t=d[y]).x-=h.x,t.y-=h.y;return h.r}function ml(e){if("function"!=typeof e)throw new Error;return e}function xl(){return 0}function wl(e){return function(){return e}}function Ml(e){return g_(e.value)}function Al(e){return function(t){t.children||(t.r=f_(0,+e(t)||0))}}function Tl(s,t){return function(n){if(d=n.children){var e=d.length,a=s(n)*t||0,d,l,p;if(a)for(l=0;l<e;++l)d[l].r+=a;if(p=bl(d),a)for(l=0;l<e;++l)d[l].r-=a;n.r=p+a}}}function Nl(a){return function(t){var n=t.parent;t.r*=a,n&&(t.x=n.x+a*t.x,t.y=n.y+a*t.y)}}function Sl(e){e.x0=i_(e.x0),e.y0=i_(e.y0),e.x1=i_(e.x1),e.y1=i_(e.y1)}function El(s,t,d,e,r){for(var i=s.children,a=-1,l=i.length,p=s.value&&(e-t)/s.value,c;++a<l;)(c=i[a]).y0=d,c.y1=r,c.x0=t,c.x1=t+=c.value*p}function kl(e){return e.id}function Rl(e){return e.parentId}function Ll(e,t){return e.parent===t.parent?1:2}function Dl(e){var t=e.children;return t?t[0]:e.t}function Ul(e){var t=e.children;return t?t[t.length-1]:e.t}function ql(a,t,n){var e=n/(t.i-a.i);t.c-=e,t.s+=n,a.c+=e,t.z+=n,t.m+=n}function Ol(a,t,n){return a.a.parent===t.parent?a.a:n}function Yl(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}function Bl(s,t,n,d,r){for(var i=s.children,a=-1,l=i.length,p=s.value&&(r-n)/s.value,c;++a<l;)(c=i[a]).x0=t,c.x1=d,c.y0=n,c.y1=n+=c.value*p}function Fl(E,t,n,k,T,i){for(var o=[],y=t.children,_=0,S=0,C=y.length,x=t.value,A,P,I,L,N,O,M,D,B,j,R;_<C;){I=T-n,L=i-k;do N=y[S++].value;while(!N&&S<C);for(O=M=N,R=N*N*(j=f_(L/I,I/L)/(x*E)),B=f_(M/R,R/O);S<C;++S){if(N+=P=y[S].value,P<O&&(O=P),P>M&&(M=P),R=N*N*j,(D=f_(M/R,R/O))>B){N-=P;break}B=D}o.push(A={value:N,dice:I<L,children:y.slice(_,S)}),A.dice?El(A,n,k,T,x?k+=L*N/x:i):Bl(A,n,k,x?n+=I*N/x:T,i),x-=N,_=S}return o}function jl(e,t){return e[0]-t[0]||e[1]-t[1]}function Gl(s){for(var t=s.length,i=[0,1],o=2,d=2,l,p,c;d<t;++d){for(;1<o&&(l=s[i[o-2]],p=s[i[o-1]],c=s[d],0>=(p[0]-l[0])*(c[1]-l[1])-(p[1]-l[1])*(c[0]-l[0]));)--o;i[o++]=d}return i.slice(0,o)}function Vl(){return Math.random()}function $l(s){function d(e){var t=e+"",n=l.get(t);if(!n){if(a!==rh)return a;l.set(t,n=p.push(e))}return s[(n-1)%s.length]}var l=Rr(),p=[],a=rh;return s=null==s?[]:eh.call(s),d.domain=function(e){if(!arguments.length)return p.slice();p=[],l=Rr();for(var t=-1,n=e.length,i,s;++t<n;)l.has(s=(i=e[t])+"")||l.set(s,p.push(i));return d},d.range=function(e){return arguments.length?(s=eh.call(e),d):s.slice()},d.unknown=function(e){return arguments.length?(a=e,d):a},d.copy=function(){return $l().domain(p).range(s).unknown(a)},d}function gf(){function d(){var t=p().length,e=i[1]<i[0],a=i[e-0],n=i[1-e];b=(n-a)/f_(1,t-m+2*_),g&&(b=u_(b)),a+=(n-a-b*(t-m))*y,x=b*(1-m),g&&(a=i_(a),x=i_(x));var o=Le(t).map(function(e){return a+b*e});return r(e?o.reverse():o)}var s=$l().unknown(void 0),p=s.domain,r=s.range,i=[0,1],g=!1,m=0,_=0,y=.5,b,x;return delete s.unknown,s.domain=function(e){return arguments.length?(p(e),d()):p()},s.range=function(e){return arguments.length?(i=[+e[0],+e[1]],d()):i.slice()},s.rangeRound=function(e){return i=[+e[0],+e[1]],g=!0,d()},s.bandwidth=function(){return x},s.step=function(){return b},s.round=function(e){return arguments.length?(g=!!e,d()):g},s.padding=function(e){return arguments.length?(m=_=f_(0,r_(1,e)),d()):m},s.paddingInner=function(e){return arguments.length?(m=f_(0,r_(1,e)),d()):m},s.paddingOuter=function(e){return arguments.length?(_=f_(0,r_(1,e)),d()):_},s.align=function(e){return arguments.length?(y=f_(0,r_(1,e)),d()):y},s.copy=function(){return gf().domain(p()).range(i).round(g).paddingInner(m).paddingOuter(_).align(y)},d()}function mf(e){return function(){return e}}function _f(e){return+e}function yf(a,o){return(o-=a=+a)?function(t){return(t-a)/o}:mf(o)}function bf(s,t,n,e){var r=s[0],d=s[1],o=t[0],l=t[1];return d<r?(r=n(d,r),o=e(l,o)):(r=n(r,d),o=e(o,l)),function(e){return o(r(e))}}function xf(i,s,d,e){var r=r_(i.length,s.length)-1,o=Array(r),a=Array(r),l=-1;for(i[r]<i[0]&&(i=i.slice().reverse(),s=s.slice().reverse());++l<r;)o[l]=d(i[l],i[l+1]),a[l]=e(s[l],s[l+1]);return function(t){var n=__(i,t,1,r)-1;return a[n](o[n](t))}}function Ef(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp())}function kf(d,l){function n(){return g=2<r_(s.length,p.length)?xf:bf,m=_=null,t}function t(e){return(m||(m=g(s,p,h?function(a){return function(o,i){var s=a(o=+o,i=+i);return function(e){return e<=o?0:e>=i?1:s(e)}}}(d):d,c)))(+e)}var s=ih,p=ih,c=be,h=!1,g,m,_;return t.invert=function(e){return(_||(_=g(p,s,yf,h?function(a){return function(o,i){var s=a(o=+o,i=+i);return function(e){return 0>=e?o:1<=e?i:s(e)}}}(l):l)))(+e)},t.domain=function(e){return arguments.length?(s=nh.call(e,_f),n()):s.slice()},t.range=function(e){return arguments.length?(p=eh.call(e),n()):p.slice()},t.rangeRound=function(e){return p=eh.call(e),c=me,n()},t.clamp=function(e){return arguments.length?(h=!!e,n()):h},t.interpolate=function(e){return arguments.length?(c=e,n()):c},n()}function Tf(s){var d=s.domain;return s.ticks=function(e){var t=d();return g(t[0],t[t.length-1],null==e?10:e)},s.tickFormat=function(e,t){return function(t,n,e){var s=t[0],o=t[t.length-1],a=Re(s,o,null==n?10:n),d;switch((e=ga(null==e?",f":e)).type){case"s":var l=f_(d_(s),d_(o));return null!=e.precision||isNaN(d=Ea(a,l))||(e.precision=d),G.formatPrefix(e,l);case"":case"e":case"g":case"p":case"r":null!=e.precision||isNaN(d=ka(a,f_(d_(s),d_(o))))||(e.precision=d-("e"===e.type));break;case"f":case"%":null!=e.precision||isNaN(d=Sa(a))||(e.precision=d-2*("%"===e.type));}return G.format(e)}(d(),e,t)},s.nice=function(e){null==e&&(e=10);var n=d(),i=0,l=n.length-1,p=n[i],c=n[l],h;return c<p&&(h=p,p=c,c=h,h=i,i=l,l=h),0<(h=m(p,c,e))?h=m(p=u_(p/h)*h,c=h_(c/h)*h,e):0>h&&(h=m(p=h_(p*h)/h,c=u_(c*h)/h,e)),0<h?(n[i]=u_(p/h)*h,n[l]=h_(c/h)*h,d(n)):0>h&&(n[i]=h_(p*h)/h,n[l]=u_(c*h)/h,d(n)),s},s}function wf(s,d){var n=0,l=(s=s.slice()).length-1,p=s[n],c=s[l],u;return c<p&&(u=n,n=l,l=u,u=p,p=c,c=u),s[n]=d.floor(p),s[l]=d.ceil(c),s}function Sf(a,t){return(t=c_(t/a))?function(n){return c_(n/a)/t}:mf(t)}function Cf(a,t){return 0>a?function(n){return-l_(-t,n)*l_(-a,1-n)}:function(n){return l_(t,n)*l_(a,1-n)}}function Af(e){return isFinite(e)?+("1e"+e):0>e?0:e}function Pf(e){return 10===e?Af:e===Xm?Qm:function(t){return l_(e,t)}}function If(e){return e===Xm?c_:10===e&&Math.log10||2===e&&Math.log2||(e=c_(e),function(t){return c_(t)/e})}function Lf(e){return function(t){return-e(-t)}}function Nf(e,t){return 0>e?-l_(-e,t):l_(e,t)}function Of(){var a=1,o=kf(function(t,o){return(o=Nf(o,a)-(t=Nf(t,a)))?function(e){return(Nf(e,a)-t)/o}:mf(o)},function(t,o){return o=Nf(o,a)-(t=Nf(t,a)),function(e){return Nf(t+o*e,1/a)}}),r=o.domain;return o.exponent=function(e){return arguments.length?(a=+e,r(r())):a},o.copy=function(){return Ef(o,Of().exponent(a))},Tf(o)}function Mf(s,d,t,e){function l(e){return s(e=new Date(+e)),e}return l.floor=l,l.ceil=function(t){return s(t=new Date(t-1)),d(t,1),s(t),t},l.round=function(a){var t=l(a),n=l.ceil(a);return a-t<n-a?t:n},l.offset=function(n,a){return d(n=new Date(+n),null==a?1:u_(a)),n},l.range=function(t,n,r){var i=[],p;if(t=l.ceil(t),r=null==r?1:u_(r),!(t<n&&0<r))return i;do i.push(p=new Date(+t)),d(t,r),s(t);while(p<t&&t<n);return i},l.filter=function(a){return Mf(function(e){if(e>=e)for(;s(e),!a(e);)e.setTime(e-1)},function(e,t){if(e>=e)if(0>t)for(;0>=++t;)for(;d(e,-1),!a(e););else for(;0<=--t;)for(;d(e,1),!a(e););})},t&&(l.count=function(e,n){return ch.setTime(+e),Th.setTime(+n),s(ch),s(Th),u_(t(ch,Th))},l.every=function(a){return a=u_(a),isFinite(a)&&0<a?1<a?l.filter(e?function(t){return 0==e(t)%a}:function(e){return 0==l.count(0,e)%a}):l:null}),l}function Df(e){return Mf(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+7*t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*60000)/604800000})}function Bf(e){return Mf(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+7*t)},function(e,t){return(t-e)/604800000})}function ld(e){if(0<=e.y&&100>e.y){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Cd(e){if(0<=e.y&&100>e.y){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Pd(e){return{y:e,m:0,d:1,H:0,M:0,S:0,L:0}}function zd(E){function k(s,t){return function(n){var d=[],a=-1,l=0,p=s.length,c,h,g;for(n instanceof Date||(n=new Date(+n));++a<p;)37===s.charCodeAt(a)&&(d.push(s.slice(l,a)),null==(h=kd[c=s.charAt(++a)])?h="e"===c?" ":"0":c=s.charAt(++a),(g=t[c])&&(c=g(n,h)),d.push(c),l=a+1);return d.push(s.slice(l,a)),d.join("")}}function T(a,t){return function(n){var s=Pd(1900),o,d;if(w(s,a,n+="",0)!=n.length)return null;if("Q"in s)return new Date(s.Q);if("p"in s&&(s.H=s.H%12+12*s.p),"V"in s){if(1>s.V||53<s.V)return null;"w"in s||(s.w=1),"Z"in s?(d=(o=Cd(Pd(s.y))).getUTCDay(),o=4<d||0===d?hd.ceil(o):hd(o),o=fd.offset(o,7*(s.V-1)),s.y=o.getUTCFullYear(),s.m=o.getUTCMonth(),s.d=o.getUTCDate()+(s.w+6)%7):(d=(o=t(Pd(s.y))).getDay(),o=4<d||0===d?Fh.ceil(o):Fh(o),o=qh.offset(o,7*(s.V-1)),s.y=o.getFullYear(),s.m=o.getMonth(),s.d=o.getDate()+(s.w+6)%7)}else("W"in s||"U"in s)&&("w"in s||(s.w="u"in s?s.u%7:"W"in s?1:0),d="Z"in s?Cd(Pd(s.y)).getUTCDay():t(Pd(s.y)).getDay(),s.m=0,s.d="W"in s?(s.w+6)%7+7*s.W-(d+5)%7:s.w+7*s.U-(d+6)%7);return"Z"in s?(s.H+=0|s.Z/100,s.M+=s.Z%100,Cd(s)):t(s)}}function w(s,t,n,e){for(var d=0,l=t.length,p=n.length,c,u;d<l;){if(e>=p)return-1;if(37===(c=t.charCodeAt(d++))){if(c=t.charAt(d++),!(u=m[c in kd?t.charAt(d++):c])||0>(e=u(s,n,e)))return-1;}else if(c!=n.charCodeAt(e++))return-1}return e}var S=E.dateTime,C=E.date,A=E.time,e=E.periods,n=E.days,o=E.shortDays,a=E.months,r=E.shortMonths,i=Bd(e),c=Fd(e),s=Bd(n),l=Fd(n),u=Bd(o),d=Fd(o),p=Bd(a),f=Fd(a),h=Bd(r),g=Fd(r),_={a:function(e){return o[e.getDay()]},A:function(e){return n[e.getDay()]},b:function(e){return r[e.getMonth()]},B:function(e){return a[e.getMonth()]},c:null,d:up,e:up,f:hp,H:fp,I:cp,j:sp,L:lp,m:dp,M:pp,p:function(n){return e[+(12<=n.getHours())]},Q:Ip,s:jp,S:vp,u:gp,U:yp,V:_p,w:bp,W:mp,x:null,X:null,y:xp,Y:wp,Z:Mp,"%":Fp},y={a:function(e){return o[e.getUTCDay()]},A:function(e){return n[e.getUTCDay()]},b:function(e){return r[e.getUTCMonth()]},B:function(e){return a[e.getUTCMonth()]},c:null,d:Ap,e:Ap,f:kp,H:Tp,I:Np,j:Sp,L:Ep,m:Cp,M:Pp,p:function(n){return e[+(12<=n.getUTCHours())]},Q:Ip,s:jp,S:zp,u:Rp,U:Lp,V:Dp,w:Up,W:qp,x:null,X:null,y:Op,Y:Yp,Z:Bp,"%":Fp},m={a:function(a,t,n){var e=u.exec(t.slice(n));return e?(a.w=d[e[0].toLowerCase()],n+e[0].length):-1},A:function(a,t,n){var e=s.exec(t.slice(n));return e?(a.w=l[e[0].toLowerCase()],n+e[0].length):-1},b:function(a,t,n){var e=h.exec(t.slice(n));return e?(a.m=g[e[0].toLowerCase()],n+e[0].length):-1},B:function(a,t,n){var e=p.exec(t.slice(n));return e?(a.m=f[e[0].toLowerCase()],n+e[0].length):-1},c:function(n,t,e){return w(n,S,t,e)},d:Qd,e:Qd,f:rp,H:Kd,I:Kd,j:Jd,L:ep,m:Zd,M:tp,p:function(a,t,n){var e=i.exec(t.slice(n));return e?(a.p=c[e[0].toLowerCase()],n+e[0].length):-1},Q:op,s:ap,S:np,u:jd,U:Hd,V:Xd,w:Id,W:Gd,x:function(e,t,n){return w(e,C,t,n)},X:function(a,t,n){return w(a,A,t,n)},y:$d,Y:Vd,Z:Wd,"%":ip};return _.x=k(C,_),_.X=k(A,_),_.c=k(S,_),y.x=k(C,y),y.X=k(A,y),y.c=k(S,y),{format:function(e){var a=k(e+="",_);return a.toString=function(){return e},a},parse:function(e){var a=T(e+="",ld);return a.toString=function(){return e},a},utcFormat:function(e){var a=k(e+="",y);return a.toString=function(){return e},a},utcParse:function(e){var t=T(e,Cd);return t.toString=function(){return e},t}}}function Rd(a,t,n){var e=0>a?"-":"",r=(e?-a:a)+"",i=r.length;return e+(i<n?Array(n-i+1).join(t)+r:r)}function Yd(e){return e.replace(qd,"\\$&")}function Bd(e){return new RegExp("^(?:"+e.map(Yd).join("|")+")","i")}function Fd(a){for(var t={},n=-1,o=a.length;++n<o;)t[a[n].toLowerCase()]=n;return t}function Id(a,t,n){var e=Dd.exec(t.slice(n,n+1));return e?(a.w=+e[0],n+e[0].length):-1}function jd(a,t,n){var e=Dd.exec(t.slice(n,n+1));return e?(a.u=+e[0],n+e[0].length):-1}function Hd(a,t,n){var e=Dd.exec(t.slice(n,n+2));return e?(a.U=+e[0],n+e[0].length):-1}function Xd(a,t,n){var e=Dd.exec(t.slice(n,n+2));return e?(a.V=+e[0],n+e[0].length):-1}function Gd(a,t,n){var e=Dd.exec(t.slice(n,n+2));return e?(a.W=+e[0],n+e[0].length):-1}function Vd(a,t,n){var e=Dd.exec(t.slice(n,n+4));return e?(a.y=+e[0],n+e[0].length):-1}function $d(a,t,n){var e=Dd.exec(t.slice(n,n+2));return e?(a.y=+e[0]+(68<+e[0]?1900:2e3),n+e[0].length):-1}function Wd(a,t,n){var e=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return e?(a.Z=e[1]?0:-(e[2]+(e[3]||"00")),n+e[0].length):-1}function Zd(a,t,n){var e=Dd.exec(t.slice(n,n+2));return e?(a.m=e[0]-1,n+e[0].length):-1}function Qd(a,t,n){var e=Dd.exec(t.slice(n,n+2));return e?(a.d=+e[0],n+e[0].length):-1}function Jd(a,t,n){var e=Dd.exec(t.slice(n,n+3));return e?(a.m=0,a.d=+e[0],n+e[0].length):-1}function Kd(a,t,n){var e=Dd.exec(t.slice(n,n+2));return e?(a.H=+e[0],n+e[0].length):-1}function tp(a,t,n){var e=Dd.exec(t.slice(n,n+2));return e?(a.M=+e[0],n+e[0].length):-1}function np(a,t,n){var e=Dd.exec(t.slice(n,n+2));return e?(a.S=+e[0],n+e[0].length):-1}function ep(a,t,n){var e=Dd.exec(t.slice(n,n+3));return e?(a.L=+e[0],n+e[0].length):-1}function rp(a,t,n){var e=Dd.exec(t.slice(n,n+6));return e?(a.L=u_(e[0]/1e3),n+e[0].length):-1}function ip(a,t,n){var e=Ud.exec(t.slice(n,n+1));return e?n+e[0].length:-1}function op(a,t,n){var e=Dd.exec(t.slice(n));return e?(a.Q=+e[0],n+e[0].length):-1}function ap(a,t,n){var e=Dd.exec(t.slice(n));return e?(a.Q=1e3*+e[0],n+e[0].length):-1}function up(e,t){return Rd(e.getDate(),t,2)}function fp(e,t){return Rd(e.getHours(),t,2)}function cp(e,t){return Rd(e.getHours()%12||12,t,2)}function sp(e,t){return Rd(1+qh.count(ed(e),e),t,3)}function lp(e,t){return Rd(e.getMilliseconds(),t,3)}function hp(e,t){return lp(e,t)+"000"}function dp(e,t){return Rd(e.getMonth()+1,t,2)}function pp(e,t){return Rd(e.getMinutes(),t,2)}function vp(e,t){return Rd(e.getSeconds(),t,2)}function gp(e){var t=e.getDay();return 0===t?7:t}function yp(e,t){return Rd(Yh.count(ed(e),e),t,2)}function _p(a,o){var n=a.getDay();return a=4<=n||0===n?Hh(a):Hh.ceil(a),Rd(Hh.count(ed(a),a)+(4===ed(a).getDay()),o,2)}function bp(e){return e.getDay()}function mp(e,t){return Rd(Fh.count(ed(e),e),t,2)}function xp(e,t){return Rd(e.getFullYear()%100,t,2)}function wp(e,t){return Rd(e.getFullYear()%1e4,t,4)}function Mp(e){var t=e.getTimezoneOffset();return(0<t?"-":(t*=-1,"+"))+Rd(0|t/60,"0",2)+Rd(t%60,"0",2)}function Ap(e,t){return Rd(e.getUTCDate(),t,2)}function Tp(e,t){return Rd(e.getUTCHours(),t,2)}function Np(e,t){return Rd(e.getUTCHours()%12||12,t,2)}function Sp(e,t){return Rd(1+fd.count(Sd(e),e),t,3)}function Ep(e,t){return Rd(e.getUTCMilliseconds(),t,3)}function kp(e,t){return Ep(e,t)+"000"}function Cp(e,t){return Rd(e.getUTCMonth()+1,t,2)}function Pp(e,t){return Rd(e.getUTCMinutes(),t,2)}function zp(e,t){return Rd(e.getUTCSeconds(),t,2)}function Rp(e){var t=e.getUTCDay();return 0===t?7:t}function Lp(e,t){return Rd(sd.count(Sd(e),e),t,2)}function Dp(a,o){var n=a.getUTCDay();return a=4<=n||0===n?vd(a):vd.ceil(a),Rd(vd.count(Sd(a),a)+(4===Sd(a).getUTCDay()),o,2)}function Up(e){return e.getUTCDay()}function qp(e,t){return Rd(hd.count(Sd(e),e),t,2)}function Op(e,t){return Rd(e.getUTCFullYear()%100,t,2)}function Yp(e,t){return Rd(e.getUTCFullYear()%1e4,t,4)}function Bp(){return"+0000"}function Fp(){return"%"}function Ip(e){return+e}function jp(e){return u_(+e/1e3)}function Hp(e){return Od=zd(e),G.timeFormat=Od.format,G.timeParse=Od.parse,G.utcFormat=Od.utcFormat,G.utcParse=Od.utcParse,Od}function Xp(e){return new Date(e)}function jf(e){return e instanceof Date?+e:+new Date(+e)}function Rf(E,t,n,r,i,o,a,e,u){function c(s){return(a(s)<s?h:o(s)<s?d:i(s)<s?p:r(s)<s?v:t(s)<s?n(s)<s?g:y:E(s)<s?_:b)(s)}function f(t,s,r,i){if(null==t&&(t=10),"number"==typeof t){var d=d_(r-s)/t,a=D(function(e){return e[2]}).right(m,d);a===m.length?(i=Re(s/31536000000,r/31536000000,t),t=E):a?(i=(a=m[d/m[a-1][2]<m[a][2]/d?a-1:a])[1],t=a[0]):(i=f_(Re(s,r,t),1),t=e)}return null==i?t:t.every(i)}var k=kf(yf,pe),s=k.invert,l=k.domain,h=u(".%L"),d=u(":%S"),p=u("%I:%M"),v=u("%I %p"),g=u("%a %d"),y=u("%b %d"),_=u("%B"),b=u("%Y"),m=[[a,1,1000],[a,5,5000],[a,15,15000],[a,30,30000],[o,1,60000],[o,5,300000],[o,15,900000],[o,30,1800000],[i,1,3600000],[i,3,10800000],[i,6,21600000],[i,12,43200000],[r,1,86400000],[r,2,172800000],[n,1,604800000],[t,1,2592000000],[t,3,7776000000],[E,1,31536000000]];return k.invert=function(e){return new Date(s(e))},k.domain=function(e){return arguments.length?l(nh.call(e,jf)):l().map(Xp)},k.ticks=function(s,t){var n=l(),r=n[0],d=n[n.length-1],p=d<r,a;return p&&(a=r,r=d,d=a),a=(a=f(s,r,d,t))?a.range(r,d+1):[],p?a.reverse():a},k.tickFormat=function(e,t){return null==t?c:u(t)},k.nice=function(a,o){var n=l();return(a=f(a,n[0],n[n.length-1],o))?l(wf(n,a)):k},k.copy=function(){return Ef(k,Rf(E,t,n,r,i,o,a,e,u))},k}function zf(a){for(var t=0|a.length/6,n=Array(t),e=0;e<t;)n[e]="#"+a.slice(6*e,6*++e);return n}function Vf(e){return ce(e[e.length-1])}function Uf(a){var t=a.length;return function(n){return a[f_(0,r_(t-1,u_(n*t)))]}}function Hf(e){return function(){return e}}function Wf(e){return 1<=e?Ug:-1>=e?-Ug:Zm(e)}function qf(e){return e.innerRadius}function $f(e){return e.outerRadius}function Yf(e){return e.startAngle}function Xf(e){return e.endAngle}function Zf(e){return e&&e.padAngle}function ah(I,t,n,e,r,i,o){var a=I-n,u=t-e,f=(o?i:-i)/Rg(a*a+u*u),c=f*u,s=-f*a,l=I+c,h=t+s,d=n+c,p=e+s,v=(l+d)/2,g=(h+p)/2,y=d-l,_=p-h,b=y*y+_*_,m=r-i,x=l*p-d*h,w=(0>_?-1:1)*Rg(Cg(0,m*m*b-x*x)),L=(x*_-y*w)/b,O=(-x*y-_*w)/b,M=(x*_+y*w)/b,N=(-x*y+_*w)/b,S=L-v,E=O-g,k=M-v,C=N-g;return S*S+E*E>k*k+C*C&&(L=M,O=N),{cx:L,cy:O,x01:-c,y01:-s,x11:L*(r/m-1),y11:O*(r/m-1)}}function oh(e){this._context=e}function sh(e){return new oh(e)}function dh(e){return e[0]}function lh(e){return e[1]}function ph(){function s(e){var t=e.length,n=!1,a,o,r;for(null==h&&(m=g(r=Ar())),a=0;a<=t;++a)!(a<t&&c(o=e[a],a,e))==n&&((n=!n)?m.lineStart():m.lineEnd()),n&&m.point(+d(o,a,e),+p(o,a,e));if(r)return m=null,r+""||null}var d=dh,p=lh,c=Hf(!0),h=null,g=sh,m=null;return s.x=function(e){return arguments.length?(d="function"==typeof e?e:Hf(+e),s):d},s.y=function(e){return arguments.length?(p="function"==typeof e?e:Hf(+e),s):p},s.defined=function(e){return arguments.length?(c="function"==typeof e?e:Hf(!!e),s):c},s.curve=function(e){return arguments.length?(g=e,null!=h&&(m=g(h)),s):g},s.context=function(e){return arguments.length?(null==e?h=m=null:m=g(h=e),s):h},s}function uh(){function s(e){var t=e.length,n=!1,a=Array(t),o=Array(t),r,i,p,u,f;for(null==k&&(w=T(f=Ar())),r=0;r<=t;++r){if(!(r<t&&E(u=e[r],r,e))==n)if(n=!n)i=r,w.areaStart(),w.lineStart();else{for(w.lineEnd(),w.lineStart(),p=r-1;p>=i;--p)w.point(a[p],o[p]);w.lineEnd(),w.areaEnd()}n&&(a[r]=+m(u,r,e),o[r]=+b(u,r,e),w.point(_?+_(u,r,e):a[r],x?+x(u,r,e):o[r]))}if(f)return w=null,f+""||null}function d(){return ph().defined(E).curve(T).context(k)}var m=dh,_=null,b=Hf(0),x=lh,E=Hf(!0),k=null,T=sh,w=null;return s.x=function(t){return arguments.length?(m="function"==typeof t?t:Hf(+t),_=null,s):m},s.x0=function(e){return arguments.length?(m="function"==typeof e?e:Hf(+e),s):m},s.x1=function(e){return arguments.length?(_=null==e?null:"function"==typeof e?e:Hf(+e),s):_},s.y=function(e){return arguments.length?(b="function"==typeof e?e:Hf(+e),x=null,s):b},s.y0=function(e){return arguments.length?(b="function"==typeof e?e:Hf(+e),s):b},s.y1=function(e){return arguments.length?(x=null==e?null:"function"==typeof e?e:Hf(+e),s):x},s.lineX0=s.lineY0=function(){return d().x(m).y(b)},s.lineY1=function(){return d().x(m).y(x)},s.lineX1=function(){return d().x(_).y(b)},s.defined=function(e){return arguments.length?(E="function"==typeof e?e:Hf(!!e),s):E},s.curve=function(e){return arguments.length?(T=e,null!=k&&(w=T(k)),s):T},s.context=function(e){return arguments.length?(null==e?k=w=null:w=T(k=e),s):k},s}function fh(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function hh(e){return e}function gh(e){this._curve=e}function mh(e){function t(t){return new gh(e(t))}return t._curve=e,t}function _h(e){var a=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(e){return arguments.length?a(mh(e)):a()._curve},e}function yh(){return _h(ph().curve(Og))}function bh(){var a=uh().curve(Og),s=a.curve,t=a.lineX0,e=a.lineX1,n=a.lineY0,r=a.lineY1;return a.angle=a.x,delete a.x,a.startAngle=a.x0,delete a.x0,a.endAngle=a.x1,delete a.x1,a.radius=a.y,delete a.y,a.innerRadius=a.y0,delete a.y0,a.outerRadius=a.y1,delete a.y1,a.lineStartAngle=function(){return _h(t())},delete a.lineX0,a.lineEndAngle=function(){return _h(e())},delete a.lineX1,a.lineInnerRadius=function(){return _h(n())},delete a.lineY0,a.lineOuterRadius=function(){return _h(r())},delete a.lineY1,a.curve=function(e){return arguments.length?s(mh(e)):s()._curve},a}function xh(e,a){return[(a=+a)*a_(e-=o_/2),a*n_(e)]}function vh(e){return e.source}function wh(e){return e.target}function Sh(s){function d(){var e=ty.call(arguments),t=l.apply(this,e),n=p.apply(this,e),o;if(m||(m=o=Ar()),s(m,+h.apply(this,(e[0]=t,e)),+g.apply(this,e),+h.apply(this,(e[0]=n,e)),+g.apply(this,e)),o)return m=null,o+""||null}var l=vh,p=wh,h=dh,g=lh,m=null;return d.source=function(e){return arguments.length?(l=e,d):l},d.target=function(e){return arguments.length?(p=e,d):p},d.x=function(e){return arguments.length?(h="function"==typeof e?e:Hf(+e),d):h},d.y=function(e){return arguments.length?(g="function"==typeof e?e:Hf(+e),d):g},d.context=function(e){return arguments.length?(m=null==e?null:e,d):m},d}function Ch(a,t,o,e,r){a.moveTo(t,o),a.bezierCurveTo(t=(t+e)/2,o,t,r,e,r)}function Ah(a,t,n,o,r){a.moveTo(t,n),a.bezierCurveTo(t,n=(n+r)/2,o,n,o,r)}function Ph(s,t,n,d,r){var i=xh(t,n),o=xh(t,n=(n+r)/2),a=xh(d,n),l=xh(d,r);s.moveTo(i[0],i[1]),s.bezierCurveTo(o[0],o[1],a[0],a[1],l[0],l[1])}function Mh(){}function Bh(a,t,n){a._context.bezierCurveTo((2*a._x0+a._x1)/3,(2*a._y0+a._y1)/3,(a._x0+2*a._x1)/3,(a._y0+2*a._y1)/3,(a._x0+4*a._x1+t)/6,(a._y0+4*a._y1+n)/6)}function mg(e){this._context=e}function xg(e){this._context=e}function wg(e){this._context=e}function Sg(e,t){this._basis=new mg(e),this._beta=t}function Ig(a,t,n){a._context.bezierCurveTo(a._x1+a._k*(a._x2-a._x0),a._y1+a._k*(a._y2-a._y0),a._x2+a._k*(a._x1-t),a._y2+a._k*(a._y1-n),a._x2,a._y2)}function Bg(e,t){this._context=e,this._k=(1-t)/6}function jg(e,t){this._context=e,this._k=(1-t)/6}function Fg(e,t){this._context=e,this._k=(1-t)/6}function Vg(d,t,n){var e=d._x1,l=d._y1,p=d._x2,h=d._y2;if(d._l01_a>Lg){var g=2*d._l01_2a+3*d._l01_a*d._l12_a+d._l12_2a,u=3*d._l01_a*(d._l01_a+d._l12_a);e=(e*g-d._x0*d._l12_2a+d._x2*d._l01_2a)/u,l=(l*g-d._y0*d._l12_2a+d._y2*d._l01_2a)/u}if(d._l23_a>Lg){var f=2*d._l23_2a+3*d._l23_a*d._l12_a+d._l12_2a,c=3*d._l23_a*(d._l23_a+d._l12_a);p=(p*f+d._x1*d._l23_2a-t*d._l12_2a)/c,h=(h*f+d._y1*d._l23_2a-n*d._l12_2a)/c}d._context.bezierCurveTo(e,l,p,h,d._x2,d._y2)}function Gg(e,t){this._context=e,this._alpha=t}function Hg(e,t){this._context=e,this._alpha=t}function Wg(e,t){this._context=e,this._alpha=t}function $g(e){this._context=e}function Yg(e){return 0>e?-1:1}function Xg(s,t,n){var e=s._x1-s._x0,r=t-s._x1,i=(s._y1-s._y0)/(e||void 0),o=(n-s._y1)/(r||void 0);return(Yg(i)+Yg(o))*r_(d_(i),d_(o),.5*d_((i*r+o*e)/(e+r)))||0}function Jg(a,t){var n=a._x1-a._x0;return n?(3*(a._y1-a._y0)/n-t)/2:t}function Kg(s,t,n){var e=s._x0,r=s._y0,i=s._x1,o=s._y1,a=(i-e)/3;s._context.bezierCurveTo(e+a,r+a*t,i-a,o-a*n,i,o)}function Zg(e){this._context=e}function Qg(e){this._context=new em(e)}function em(e){this._context=e}function tm(e){this._context=e}function nm(s){var t=s.length-1,r=Array(t),i=Array(t),o=Array(t),a,d;for(r[0]=0,i[0]=2,o[0]=s[0]+2*s[1],a=1;a<t-1;++a)r[a]=1,i[a]=4,o[a]=4*s[a]+2*s[a+1];for(r[t-1]=2,i[t-1]=7,o[t-1]=8*s[t-1]+s[t],a=1;a<t;++a)d=r[a]/i[a-1],i[a]-=d,o[a]-=d*o[a-1];for(r[t-1]=o[t-1]/i[t-1],a=t-2;0<=a;--a)r[a]=(o[a]-r[a+1])/i[a];for(i[t-1]=(s[t]+r[t-1])/2,a=0;a<t-1;++a)i[a]=2*s[a+1]-r[a+1];return[r,i]}function am(e,t){this._context=e,this._t=t}function om(s,t){if(1<(u=s.length))for(var n=1,d=s[t[0]],l=d.length,p,c,u;n<u;++n)for(c=d,d=s[t[n]],p=0;p<l;++p)d[p][1]+=d[p][0]=isNaN(c[p][1])?c[p][0]:c[p][1]}function rm(a){for(var t=a.length,o=Array(t);0<=--t;)o[t]=t;return o}function im(e,t){return e[t]}function sm(e){var a=e.map(dm);return rm(e).sort(function(n,t){return a[n]-a[t]})}function dm(a){for(var t=0,o=-1,s=a.length,i;++o<s;)(i=+a[o][1])&&(t+=i);return t}function lm(e){return function(){return e}}function pm(e){return e[0]}function cm(e){return e[1]}function um(){this._=null}function fm(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function hm(a,t){var n=t,e=t.R,o=n.U;o?o.L===n?o.L=e:o.R=e:a._=e,e.U=o,n.U=e,n.R=e.L,n.R&&(n.R.U=n),e.L=n}function gm(a,t){var n=t,e=t.L,o=n.U;o?o.L===n?o.L=e:o.R=e:a._=e,e.U=o,n.U=e,n.L=e.R,n.L&&(n.L.U=n),e.R=n}function mm(e){for(;e.L;)e=e.L;return e}function _m(a,t,n,e){var r=[null,null],i=yx.push(r)-1;return r.left=a,r.right=t,n&&bm(r,a,t,n),e&&bm(r,t,a,e),mx[a.index].halfedges.push(i),mx[t.index].halfedges.push(i),r}function ym(a,t,n){var e=[t,n];return e.left=a,e}function bm(a,t,n,e){a[0]||a[1]?a.left===n?a[1]=e:a[0]=e:(a[0]=e,a.left=t,a.right=n)}function xm(p,t,n,e,r){var i=p[0],a=p[1],u=i[0],f=i[1],c=0,g=1,m=a[0]-u,h=a[1]-f,d;if(d=t-u,m||!(0<d)){if(d/=m,0>m){if(d<c)return;d<g&&(g=d)}else if(0<m){if(d>g)return;d>c&&(c=d)}if(d=e-u,m||!(0>d)){if(d/=m,0>m){if(d>g)return;d>c&&(c=d)}else if(0<m){if(d<c)return;d<g&&(g=d)}if(d=n-f,h||!(0<d)){if(d/=h,0>h){if(d<c)return;d<g&&(g=d)}else if(0<h){if(d>g)return;d>c&&(c=d)}if(d=r-f,h||!(0>d)){if(d/=h,0>h){if(d>g)return;d>c&&(c=d)}else if(0<h){if(d<c)return;d<g&&(g=d)}return!(0<c||1>g)||(0<c&&(p[0]=[u+c*m,f+c*h]),1>g&&(p[1]=[u+g*m,f+g*h]),!0)}}}}}function vm(g,t,n,e,r){var i=g[1];if(i)return!0;var m=g[0],_=g.left,c=g.right,s=_[0],l=_[1],h=c[0],d=c[1],p=(s+h)/2,y,b;if(d===l){if(p<t||p>=e)return;if(s>h){if(!m)m=[p,n];else if(m[1]>=r)return;i=[p,r]}else{if(!m)m=[p,r];else if(m[1]<n)return;i=[p,n]}}else if(b=(l+d)/2-(y=(s-h)/(d-l))*p,-1>y||1<y){if(s>h){if(!m)m=[(n-b)/y,n];else if(m[1]>=r)return;i=[(r-b)/y,r]}else{if(!m)m=[(r-b)/y,r];else if(m[1]<n)return;i=[(n-b)/y,n]}}else if(l<d){if(!m)m=[t,y*t+b];else if(m[0]>=e)return;i=[e,y*e+b]}else{if(!m)m=[e,y*e+b];else if(m[0]<t)return;i=[t,y*t+b]}return g[0]=m,g[1]=i,!0}function Em(a,t){var n=a.site,e=t.left,o=t.right;return n===o&&(o=e,e=n),o?t_(o[1]-e[1],o[0]-e[0]):(n===e?(e=t[1],o=t[0]):(e=t[0],o=t[1]),t_(e[0]-o[0],o[1]-e[1]))}function km(e,t){return t[+(t.left!==e.site)]}function Tm(e,t){return t[+(t.left===e.site)]}function wm(){fm(this),this.x=this.y=this.arc=this.site=this.cy=null}function Sm(m){var t=m.P,n=m.N;if(t&&n){var e=t.site,r=m.site,i=n.site;if(e!==i){var o=r[0],a=r[1],u=e[0]-o,f=e[1]-a,c=i[0]-o,s=i[1]-a,l=2*(u*s-f*c);if(!(l>=-V_)){var h=u*u+f*f,d=c*c+s*s,p=(s*h-f*d)/l,x=(u*d-c*h)/l,g=Qy.pop()||new wm;g.arc=m,g.site=r,g.x=p+o,g.y=(g.cy=x+a)+g_(p*p+x*x),m.circle=g;for(var y=null,v=_x._;v;)if(g.y<v.y||g.y===v.y&&g.x<=v.x){if(!v.L){y=v.P;break}v=v.L}else{if(!v.R){y=v;break}v=v.R}_x.insert(y,g),y||($_=g)}}}}function Cm(e){var t=e.circle;t&&(t.P||($_=t.N),_x.remove(t),Qy.push(t),fm(t),e.circle=null)}function Am(){fm(this),this.edge=this.site=this.circle=null}function Pm(e){var t=P_.pop()||new Am;return t.site=e,t}function Im(e){Cm(e),gx.remove(e),P_.push(e),fm(e)}function Lm(d){var t=d.circle,n=t.x,e=t.cy,r=[n,e],i=d.P,p=d.N,h=[d];Im(d);for(var u=i;u.circle&&d_(n-u.circle.x)<D_&&d_(e-u.circle.cy)<D_;)i=u.P,h.unshift(u),Im(u),u=i;h.unshift(u),Cm(u);for(var g=p;g.circle&&d_(n-g.circle.x)<D_&&d_(e-g.circle.cy)<D_;)p=g.N,h.push(g),Im(g),g=p;h.push(g),Cm(g);var m=h.length,l;for(l=1;l<m;++l)g=h[l],u=h[l-1],bm(g.edge,u.site,g.site,r);u=h[0],(g=h[m-1]).edge=_m(u.site,g.site,null,r),Sm(u),Sm(g)}function Nm(x){for(var t=x[0],o=x[1],a=gx._,E,k,T,w;a;)if((T=Om(a,o)-t)>D_)a=a.L;else{if(!((w=t-Mm(a,o))>D_)){T>-D_?(E=a.P,k=a):w>-D_?(E=a,k=a.N):E=k=a;break}if(!a.R){E=a;break}a=a.R}!function(e){mx[e.index]={site:e,halfedges:[]}}(x);var S=Pm(x);if(gx.insert(E,S),E||k){if(E===k)return Cm(E),k=Pm(E.site),gx.insert(S,k),S.edge=k.edge=_m(E.site,S.site),Sm(E),void Sm(k);if(k){Cm(E),Cm(k);var f=E.site,c=f[0],s=f[1],l=x[0]-c,h=x[1]-s,d=k.site,p=d[0]-c,v=d[1]-s,g=2*(l*v-h*p),y=l*l+h*h,_=p*p+v*v,b=[(v*y-h*_)/g+c,(l*_-p*y)/g+s];bm(k.edge,f,d,b),S.edge=_m(f,x,null,b),k.edge=_m(x,d,null,b),Sm(E),Sm(k)}else S.edge=_m(E.site,S.site)}}function Om(d,t){var n=d.site,p=n[0],r=n[1],i=r-t;if(!i)return p;var o=d.P;if(!o)return-1/0;var a=(n=o.site)[0],u=n[1],f=u-t;if(!f)return a;var c=a-p,s=1/i-1/f,l=c/f;return s?(-l+g_(l*l-2*s*(c*c/(-2*f)-u+f/2+r-i/2)))/s+p:(p+a)/2}function Mm(a,t){var n=a.N;if(n)return Om(n,t);var e=a.site;return e[1]===t?e[0]:1/0}function Dm(e,t){return t[1]-e[1]||t[0]-e[0]}function Bm(s,t){var n=s.sort(Dm).pop(),d,l,p;for(yx=[],mx=Array(s.length),gx=new um,_x=new um;;)if(p=$_,n&&(!p||n[1]<p.y||n[1]===p.y&&n[0]<p.x))n[0]===d&&n[1]===l||(Nm(n),d=n[0],l=n[1]),n=s.pop();else{if(!p)break;Lm(p.arc)}if(function(){for(var s=0,d=mx.length,o,l,p,c;s<d;++s)if((o=mx[s])&&(c=(l=o.halfedges).length)){var f=Array(c),a=Array(c);for(p=0;p<c;++p)f[p]=p,a[p]=Em(o,yx[l[p]]);for(f.sort(function(e,t){return a[t]-a[e]}),p=0;p<c;++p)a[p]=l[f[p]];for(p=0;p<c;++p)l[p]=a[p]}}(),t){var h=+t[0][0],a=+t[0][1],u=+t[1][0],f=+t[1][1];!function(a,t,n,e){for(var r=yx.length,s;r--;)vm(s=yx[r],a,t,n,e)&&xm(s,a,t,n,e)&&(d_(s[0][0]-s[1][0])>D_||d_(s[0][1]-s[1][1])>D_)||delete yx[r]}(h,a,u,f),function(E,t,n,e){var r=mx.length,g=!0,k,S,C,P,I,L,N,O,D,B,j,R;for(k=0;k<r;++k)if(S=mx[k]){for(C=S.site,P=(I=S.halfedges).length;P--;)yx[I[P]]||I.splice(P,1);for(P=0,L=I.length;P<L;)j=(B=Tm(S,yx[I[P]]))[0],R=B[1],O=(N=km(S,yx[I[++P%L]]))[0],D=N[1],(d_(j-O)>D_||d_(R-D)>D_)&&(I.splice(P,0,yx.push(ym(C,B,d_(j-E)<D_&&e-R>D_?[E,d_(O-E)<D_?D:e]:d_(R-e)<D_&&n-j>D_?[d_(D-e)<D_?O:n,e]:d_(j-n)<D_&&R-t>D_?[n,d_(O-n)<D_?D:t]:d_(R-t)<D_&&j-E>D_?[d_(D-t)<D_?O:E,t]:null))-1),++L);L&&(g=!1)}if(g){var z=1/0,F,V,U;for(k=0,g=null;k<r;++k)(S=mx[k])&&(U=(F=(C=S.site)[0]-E)*F+(V=C[1]-t)*V)<z&&(z=U,g=S);if(g){var G=[E,t],w=[E,e],M=[n,e],A=[n,t];g.halfedges.push(yx.push(ym(C=g.site,G,w))-1,yx.push(ym(C,w,M))-1,yx.push(ym(C,M,A))-1,yx.push(ym(C,A,G))-1)}}for(k=0;k<r;++k)(S=mx[k])&&(S.halfedges.length||delete mx[k])}(h,a,u,f)}this.edges=yx,this.cells=mx,gx=_x=yx=mx=null}function jm(e){return function(){return e}}function Rm(a,t,n){this.target=a,this.type=t,this.transform=n}function zm(a,t,n){this.k=a,this.x=t,this.y=n}function Fm(e){return e.__zoom||bx}function Vm(){G.event.stopImmediatePropagation()}function Um(){G.event.preventDefault(),G.event.stopImmediatePropagation()}function Gm(){return!G.event.button}function Hm(){var a=this,o,r;return a instanceof SVGElement?(o=(a=a.ownerSVGElement||a).width.baseVal.value,r=a.height.baseVal.value):(o=a.clientWidth,r=a.clientHeight),[[0,0],[o,r]]}function Wm(){return this.__zoom||bx}function qm(){return-G.event.deltaY*(G.event.deltaMode?120:1)/500}function $m(){return"ontouchstart"in this}function Ym(s,t,n){var e=s.invertX(t[0][0])-n[0][0],r=s.invertX(t[1][0])-n[1][0],i=s.invertY(t[0][1])-n[0][1],o=s.invertY(t[1][1])-n[1][1];return s.translate(r>e?(e+r)/2:r_(0,e)||f_(0,r),o>i?(i+o)/2:r_(0,i)||f_(0,o))}var Xm=Math.E,Jm=Math.tan,Km=Math.acos,Zm=Math.asin,Qm=Math.exp,e_=Math.atan,t_=Math.atan2,n_=Math.sin,a_=Math.cos,o_=Math.PI,r_=Math.min,i_=Math.round,s_=Math.LN2,d_=Math.abs,l_=Math.pow,p_=Math.LN10,c_=Math.log,u_=Math.floor,f_=Math.max,h_=Math.ceil,g_=Math.sqrt,m_=D(L),__=m_.right,r=m_.left,o=Array.prototype,i=o.slice,l=o.map,d=7.0710678118654755,h=3.1622776601683795,_=1.4142135623730951,y=Array.prototype.slice,C=1e-6,b={value:function(){}};A.prototype=O.prototype={constructor:A,on:function(s,d){var n=this._,i=(c=n,(s+"").trim().split(/^|\s+/).map(function(a){var o="",r=a.indexOf(".");if(0<=r&&(o=a.slice(r+1),a=a.slice(0,r)),a&&!c.hasOwnProperty(a))throw new Error("unknown type: "+a);return{type:a,name:o}})),o=-1,l=i.length,p,c;if(!(2>arguments.length)){if(null!=d&&"function"!=typeof d)throw new Error("invalid callback: "+d);for(;++o<l;)if(p=(s=i[o]).type)n[p]=N(n[p],s.name,d);else if(null==d)for(p in n)n[p]=N(n[p],s.name,null);return this}for(;++o<l;)if((p=(s=i[o]).type)&&(p=I(n[p],s.name)))return p},copy:function(){var a={},t=this._;for(var n in t)a[n]=t[n].slice();return new A(a)},call:function(a,t){if(0<(s=arguments.length-2))for(var n=Array(s),i=0,s,d;i<s;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(a))throw new Error("unknown type: "+a);for(i=0,s=(d=this._[a]).length;i<s;++i)d[i].value.apply(t,n)},apply:function(a,t,n){if(!this._.hasOwnProperty(a))throw new Error("unknown type: "+a);for(var e=this._[a],r=0,s=e.length;r<s;++r)e[r].value.apply(t,n)}};var F={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},V=function(e){return function(){return this.matches(e)}};if("undefined"!=typeof document){var U=document.documentElement;if(!U.matches){var nt=U.webkitMatchesSelector||U.msMatchesSelector||U.mozMatchesSelector||U.oMatchesSelector;V=function(e){return function(){return nt.call(this,e)}}}}var et=V;Y.prototype={constructor:Y,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};ot.prototype={add:function(e){0>this._names.indexOf(e)&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);0<=t&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return 0<=this._names.indexOf(e)}};var rt={};(G.event=null,"undefined"!=typeof document)&&("onmouseenter"in document.documentElement||(rt={mouseenter:"mouseover",mouseleave:"mouseout"}));var y_=[null];Et.prototype=kt.prototype={constructor:Et,select:function(d){"function"!=typeof d&&(d=H(d));for(var l=this._groups,n=l.length,e=Array(n),r=0;r<n;++r)for(var p=l[r],u=p.length,f=e[r]=Array(u),c=0,h,g;c<u;++c)(h=p[c])&&(g=d.call(h,h.__data__,c,p))&&("__data__"in h&&(g.__data__=h.__data__),f[c]=g);return new Et(e,this._parents)},selectAll:function(s){"function"!=typeof s&&(s=q(s));for(var d=this._groups,n=d.length,e=[],r=[],i=0;i<n;++i)for(var l=d[i],p=l.length,u=0,f;u<p;++u)(f=l[u])&&(e.push(s.call(f,f.__data__,u,l)),r.push(f));return new Et(e,r)},filter:function(s){"function"!=typeof s&&(s=et(s));for(var d=this._groups,n=d.length,e=Array(n),r=0;r<n;++r)for(var l=d[r],a=l.length,p=e[r]=[],u=0,f;u<a;++u)(f=l[u])&&s.call(f,f.__data__,u,l)&&p.push(f);return new Et(e,this._parents)},data:function(E,k){if(!E)return d=Array(this.size()),c=-1,this.each(function(e){d[++c]=e}),d;var n=k?J:X,r=this._parents,i=this._groups,o;"function"!=typeof E&&(o=E,E=function(){return o});for(var T=i.length,a=Array(T),w=Array(T),f=Array(T),c=0;c<T;++c){var S=r[c],l=i[c],h=l.length,d=E.call(S,S&&S.__data__,c,r),C=d.length,v=w[c]=Array(C),g=a[c]=Array(C);n(S,l,v,g,f[c]=Array(h),d,k);for(var y=0,A=0,P,I;y<C;++y)if(P=v[y]){for(y>=A&&(A=y+1);!(I=g[A])&&++A<C;);P._next=I||null}}return(a=new Et(a,r))._enter=w,a._exit=f,a},enter:function(){return new Et(this._enter||this._groups.map($),this._parents)},exit:function(){return new Et(this._exit||this._groups.map($),this._parents)},merge:function(p){for(var t=this._groups,n=p._groups,e=t.length,r=n.length,i=r_(e,r),o=Array(e),a=0;a<i;++a)for(var g=t[a],c=n[a],s=g.length,l=o[a]=Array(s),h=0,m;h<s;++h)(m=g[h]||c[h])&&(l[h]=m);for(;a<e;++a)o[a]=t[a];return new Et(o,this._parents)},order:function(){for(var s=this._groups,t=-1,d=s.length;++t<d;)for(var e=s[t],i=e.length-1,l=e[i],p;0<=--i;)(p=e[i])&&(l&&l!==p.nextSibling&&l.parentNode.insertBefore(p,l),l=p);return this},sort:function(d){function l(t,n){return t&&n?d(t.__data__,n.__data__):!t-!n}d||(d=K);for(var n=this._groups,e=n.length,r=Array(e),i=0;i<e;++i){for(var p=n[i],u=p.length,f=r[i]=Array(u),c=0,h;c<u;++c)(h=p[c])&&(f[c]=h);f.sort(l)}return new Et(r,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){var e=Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e},node:function(){for(var s=this._groups,t=0,d=s.length;t<d;++t)for(var e=s[t],r=0,l=e.length,o;r<l;++r)if(o=e[r],o)return o;return null},size:function(){var e=0;return this.each(function(){++e}),e},empty:function(){return!this.node()},each:function(s){for(var t=this._groups,n=0,d=t.length;n<d;++n)for(var r=t[n],o=0,l=r.length,p;o<l;++o)(p=r[o])&&s.call(p,p.__data__,o,r);return this},attr:function(a,t){var n=M(a);if(2>arguments.length){var e=this.node();return n.local?e.getAttributeNS(n.space,n.local):e.getAttribute(n)}return this.each((null==t?n.local?function(e){return function(){this.removeAttributeNS(e.space,e.local)}}:function(e){return function(){this.removeAttribute(e)}}:"function"==typeof t?n.local?function(a,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,n)}}:function(a,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(a):this.setAttribute(a,n)}}:n.local?function(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}:function(e,t){return function(){this.setAttribute(e,t)}})(n,t))},style:function(a,t,n){return 1<arguments.length?this.each((null==t?function(e){return function(){this.style.removeProperty(e)}}:"function"==typeof t?function(a,t,n){return function(){var e=t.apply(this,arguments);null==e?this.style.removeProperty(a):this.style.setProperty(a,e,n)}}:function(a,t,n){return function(){this.style.setProperty(a,t,n)}})(a,t,null==n?"":n)):Q(this.node(),a)},property:function(e,t){return 1<arguments.length?this.each((null==t?function(e){return function(){delete this[e]}}:"function"==typeof t?function(a,t){return function(){var n=t.apply(this,arguments);null==n?delete this[a]:this[a]=n}}:function(e,t){return function(){this[e]=t}})(e,t)):this.node()[e]},classed:function(a,t){var n=Je(a+"");if(2>arguments.length){for(var e=at(this.node()),r=-1,s=n.length;++r<s;)if(!e.contains(n[r]))return!1;return!0}return this.each(("function"==typeof t?function(e,t){return function(){(t.apply(this,arguments)?it:st)(this,e)}}:t?function(e){return function(){it(this,e)}}:function(e){return function(){st(this,e)}})(n,t))},text:function(e){return arguments.length?this.each(null==e?dt:("function"==typeof e?function(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}:function(e){return function(){this.textContent=e}})(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?lt:("function"==typeof e?function(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}:function(e){return function(){this.innerHTML=e}})(e)):this.node().innerHTML},raise:function(){return this.each(pt)},lower:function(){return this.each(ct)},append:function(e){var t="function"==typeof e?e:B(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(a,t){var n="function"==typeof a?a:B(a),e=null==t?ut:"function"==typeof t?t:H(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),e.apply(this,arguments)||null)})},remove:function(){return this.each(ft)},clone:function(e){return this.select(e?gt:ht)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(d,t,n){var l=function(e){return e.trim().split(/^|\s+/).map(function(a){var o="",r=a.indexOf(".");return 0<=r&&(o=a.slice(r+1),a=a.slice(0,r)),{type:a,name:o}})}(d+""),o=l.length,a,p;if(!(2>arguments.length)){for(h=t?bt:yt,null==n&&(n=!1),a=0;a<o;++a)this.each(h(l[a],t,n));return this}var h=this.node().__on;if(h)for(var g=0,m=h.length,s;g<m;++g)for(a=0,s=h[g];a<o;++a)if((p=l[a]).type===s.type&&p.name===s.name)return s.value},dispatch:function(e,t){return this.each(("function"==typeof t?function(e,t){return function(){return vt(this,e,t.apply(this,arguments))}}:function(e,t){return function(){return vt(this,e,t)}})(e,t))}};var zt=0;Ct.prototype=St.prototype={constructor:Ct,get:function(e){for(var a=this._;!(a in e);)if(!(e=e.parentNode))return;return e[a]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}},jt.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};var b_=/^#([0-9a-f]{3})$/,an=/^#([0-9a-f]{6})$/,un=/^rgb\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*\)$/,fn=/^rgb\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*\)$/,cn=/^rgba\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,sn=/^rgba\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,ln=/^hsl\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*\)$/,hn=/^hsla\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,dn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ht(qt,$t,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),Ht(Zt,Kt,Wt(qt,{brighter:function(e){return e=null==e?1/.7:l_(1/.7,e),new Zt(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:l_(.7,e),new Zt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&255>=this.r&&0<=this.g&&255>=this.g&&0<=this.b&&255>=this.b&&0<=this.opacity&&1>=this.opacity},hex:function(){return"#"+Qt(this.r)+Qt(this.g)+Qt(this.b)},toString:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:f_(0,r_(1,e)))?"rgb(":"rgba(")+f_(0,r_(255,i_(this.r)||0))+", "+f_(0,r_(255,i_(this.g)||0))+", "+f_(0,r_(255,i_(this.b)||0))+(1===e?")":", "+e+")")}})),Ht(nn,tn,Wt(qt,{brighter:function(e){return e=null==e?1/.7:l_(1/.7,e),new nn(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:l_(.7,e),new nn(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var a=this.h%360+360*(0>this.h),t=isNaN(a)||isNaN(this.s)?0:this.s,n=this.l,e=n+(.5>n?n:1-n)*t,o=2*n-e;return new Zt(on(240<=a?a-240:a+120,o,e),on(a,o,e),on(120>a?a+240:a-120,o,e),this.opacity)},displayable:function(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity}}));var pn=o_/180,Nn=180/o_,Sn=.96422,En=.82521,Cn=4/29,Pn=6/29,zn=3*Pn*Pn,Rn=Pn*Pn*Pn;Ht(mn,gn,Wt(qt,{brighter:function(e){return new mn(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new mn(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var a=(this.l+16)/116,o=isNaN(this.a)?a:a+this.a/500,r=isNaN(this.b)?a:a-this.b/200;return new Zt(bn(3.1338561*(o=Sn*yn(o))-1.6168667*(a=1*yn(a))-.4906146*(r=En*yn(r))),bn(-.9787684*o+1.9161415*a+.033454*r),bn(.0719453*o-.2289914*a+1.4052427*r),this.opacity)}})),Ht(Tn,kn,Wt(qt,{brighter:function(e){return new Tn(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new Tn(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return rn(this).rgb()}}));var Ln=-.14861,Xn=1.78277,Gn=-.29227,Vn=-.90649,$n=1.97294,Wn=$n*Vn,Zn=$n*Xn,Qn=Xn*Gn-Vn*Ln;Ht(An,wn,Wt(qt,{brighter:function(e){return e=null==e?1/.7:l_(1/.7,e),new An(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:l_(.7,e),new An(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var a=isNaN(this.h)?0:(this.h+120)*pn,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),e=a_(a),o=n_(a);return new Zt(255*(t+n*(Ln*e+Xn*o)),255*(t+n*(Gn*e+Vn*o)),255*(t+n*($n*e)),this.opacity)}}));var Jn=function a(t){function n(e,d){var l=s((e=Kt(e)).r,(d=Kt(d)).r),r=s(e.g,d.g),i=s(e.b,d.b),o=ue(e.opacity,d.opacity);return function(t){return e.r=l(t),e.g=r(t),e.b=i(t),e.opacity=o(t),e+""}}var s=ae(t);return n.gamma=a,n}(1),ce=fe(ne),le=fe(ee),he=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ye=new RegExp(he.source,"g"),_e=180/o_,Ne={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Se=Ee(function(e){return"none"===e?Ne:(rr||(rr=document.createElement("DIV"),S_=document.documentElement,A_=document.defaultView),rr.style.transform=e,e=A_.getComputedStyle(S_.appendChild(rr),null).getPropertyValue("transform"),S_.removeChild(rr),xe(+(e=e.slice(7,-1).split(","))[0],+e[1],+e[2],+e[3],+e[4],+e[5]))},"px, ","px)","deg)"),Ce=Ee(function(e){return null==e?Ne:(I_||(I_=document.createElementNS("http://www.w3.org/2000/svg","g")),I_.setAttribute("transform",e),(e=I_.transform.baseVal.consolidate())?xe((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):Ne)},", ",")",")"),Pe=Math.SQRT2,ze=1e-12,De=qe(oe),Ye=qe(ue),Be=Oe(oe),Ie=Oe(ue),je=Fe(oe),Xe=Fe(ue),Ge=0,x_=0,v_=0,E_=0,k_=0,T_=0,w_="object"==typeof performance&&performance.now?performance:Date,er="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)},rr,S_,A_,I_,L_,N_;On.prototype=Mn.prototype={constructor:On,restart:function(a,t,n){if("function"!=typeof a)throw new TypeError("callback is not a function");n=(null==n?He():+n)+(null==t?0:+t),this._next||N_===this||(N_?N_._next=this:L_=this,N_=this),this._call=a,this._time=n,Fn()},stop:function(){this._call&&(this._call=null,this._time=1/0,Fn())}};var O_=O("start","end","interrupt"),dr=[],pr=kt.prototype.constructor,kr=0,M_=kt.prototype;Ao.prototype=No.prototype={constructor:Ao,select:function(d){var p=this._name,n=this._id;"function"!=typeof d&&(d=H(d));for(var e=this._groups,r=e.length,i=Array(r),o=0;o<r;++o)for(var g=e[o],c=g.length,s=i[o]=Array(c),l=0,m,_;l<c;++l)(m=g[l])&&(_=d.call(m,m.__data__,l,g))&&("__data__"in m&&(_.__data__=m.__data__),s[l]=_,Hn(s[l],p,n,l,s,Kn(m,n)));return new Ao(i,this._parents,p,n)},selectAll:function(m){var _=this._name,n=this._id;"function"!=typeof m&&(m=q(m));for(var e=this._groups,r=e.length,i=[],o=[],a=0;a<r;++a)for(var y=e[a],c=y.length,s=0,b;s<c;++s)if(b=y[s]){for(var x=m.call(b,b.__data__,s,y),d=Kn(b,n),p=0,E=x.length,g;p<E;++p)(g=x[p])&&Hn(g,_,n,p,x,d);i.push(x),o.push(b)}return new Ao(i,o,_,n)},filter:function(s){"function"!=typeof s&&(s=et(s));for(var d=this._groups,n=d.length,e=Array(n),r=0;r<n;++r)for(var l=d[r],a=l.length,p=e[r]=[],u=0,f;u<a;++u)(f=l[u])&&s.call(f,f.__data__,u,l)&&p.push(f);return new Ao(e,this._parents,this._name,this._id)},merge:function(p){if(p._id!==this._id)throw new Error;for(var t=this._groups,n=p._groups,e=t.length,r=n.length,i=r_(e,r),o=Array(e),a=0;a<i;++a)for(var g=t[a],c=n[a],s=g.length,l=o[a]=Array(s),h=0,m;h<s;++h)(m=g[h]||c[h])&&(l[h]=m);for(;a<e;++a)o[a]=t[a];return new Ao(o,this._parents,this._name,this._id)},selection:function(){return new pr(this._groups,this._parents)},transition:function(){for(var d=this._name,t=this._id,n=ar(),e=this._groups,r=e.length,i=0;i<r;++i)for(var l=e[i],p=l.length,u=0,f;u<p;++u)if(f=l[u]){var h=Kn(f,t);Hn(f,d,n,u,l,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new Ao(e,this._parents,d,n)},call:M_.call,nodes:M_.nodes,node:M_.node,size:M_.size,empty:M_.empty,each:M_.each,on:function(a,t){var n=this._id;return 2>arguments.length?Kn(this.node(),n).on.on(a):this.each(function(s,t,n){var e=function(e){return(e+"").trim().split(/^|\s+/).every(function(e){var a=e.indexOf(".");return 0<=a&&(e=e.slice(0,a)),!e||"start"===e})}(t)?qn:Yn,o,d;return function(){var r=e(this,s),a=r.on;a!==o&&(d=(o=a).copy()).on(t,n),r.on=d}}(n,a,t))},attr:function(a,t){var n=M(a),e="transform"===n?Ce:To;return this.attrTween(a,"function"==typeof t?(n.local?function(s,t,n){var e,d,l;return function(){var o=n(this),r;return null==o?void this.removeAttributeNS(s.space,s.local):(r=this.getAttributeNS(s.space,s.local))===o?null:r===e&&o===d?l:l=t(e=r,d=o)}}:function(s,t,n){var e,d,l;return function(){var o=n(this),r;return null==o?void this.removeAttribute(s):(r=this.getAttribute(s))===o?null:r===e&&o===d?l:l=t(e=r,d=o)}})(n,e,pa(this,"attr."+a,t)):null==t?(n.local?function(e){return function(){this.removeAttributeNS(e.space,e.local)}}:function(e){return function(){this.removeAttribute(e)}})(n):(n.local?function(a,t,n){var e,s;return function(){var r=this.getAttributeNS(a.space,a.local);return r===n?null:r===e?s:s=t(e=r,n)}}:function(a,t,n){var e,s;return function(){var r=this.getAttribute(a);return r===n?null:r===e?s:s=t(e=r,n)}})(n,e,t+""))},attrTween:function(a,t){var n="attr."+a;if(2>arguments.length)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var o=M(a);return this.tween(n,(o.local?function(a,t){function n(){var o=this,e=t.apply(o,arguments);return e&&function(t){o.setAttributeNS(a.space,a.local,e(t))}}return n._value=t,n}:function(a,t){function n(){var o=this,e=t.apply(o,arguments);return e&&function(t){o.setAttribute(a,e(t))}}return n._value=t,n})(o,t))},style:function(a,o,n){var e="transform"==(a+="")?Se:To;return null==o?this.styleTween(a,function(s,t){var n,d,l;return function(){var e=Q(this,s),o=(this.style.removeProperty(s),Q(this,s));return e===o?null:e===n&&o===d?l:l=t(n=e,d=o)}}(a,e)).on("end.style."+a,function(e){return function(){this.style.removeProperty(e)}}(a)):this.styleTween(a,"function"==typeof o?function(s,t,n){var e,d,l;return function(){var o=Q(this,s),a=n(this);return null==a&&(this.style.removeProperty(s),a=Q(this,s)),o===a?null:o===e&&a===d?l:l=t(e=o,d=a)}}(a,e,pa(this,"style."+a,o)):function(a,t,n){var e,s;return function(){var r=Q(this,a);return r===n?null:r===e?s:s=t(e=r,n)}}(a,e,o+""),n)},styleTween:function(a,o,n){var e="style."+(a+="");if(2>arguments.length)return(e=this.tween(e))&&e._value;if(null==o)return this.tween(e,null);if("function"!=typeof o)throw new Error;return this.tween(e,function(a,t,o){function e(){var e=this,r=t.apply(e,arguments);return r&&function(t){e.style.setProperty(a,r(t),o)}}return e._value=t,e}(a,o,null==n?"":n))},text:function(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(pa(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},remove:function(){return this.on("end.remove",(n=this._id,function(){var t=this.parentNode;for(var a in this.__transition)if(+a!==n)return;t&&t.removeChild(this)}));var n},tween:function(s,d){var n=this._id;if(s+="",2>arguments.length){for(var e=Kn(this.node(),n).tween,i=0,l=e.length,a;i<l;++i)if((a=e[i]).name===s)return a.value;return null}return this.each((null==d?function(s,t){var n,d;return function(){var e=Yn(this,s),r=e.tween;if(r!==n)for(var o=0,i=(d=n=r).length;o<i;++o)if(d[o].name===t){(d=d.slice()).splice(o,1);break}e.tween=d}}:function(s,t,n){var e,d;if("function"!=typeof n)throw new Error;return function(){var r=Yn(this,s),o=r.tween;if(o!==e){d=(e=o).slice();for(var a={name:t,value:n},i=0,l=d.length;i<l;++i)if(d[i].name===t){d[i]=a;break}i===l&&d.push(a)}r.tween=d}})(n,s,d))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?function(e,t){return function(){qn(this,e).delay=+t.apply(this,arguments)}}:function(e,t){return t=+t,function(){qn(this,e).delay=t}})(t,e)):Kn(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?function(e,t){return function(){Yn(this,e).duration=+t.apply(this,arguments)}}:function(e,t){return t=+t,function(){Yn(this,e).duration=t}})(t,e)):Kn(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!=typeof t)throw new Error;return function(){Yn(this,e).ease=t}}(t,e)):Kn(this.node(),t).ease}};var Lr=function a(o){function t(e){return l_(e,o)}return o=+o,t.exponent=a,t}(3),qr=function a(o){function t(e){return 1-l_(1-e,o)}return o=+o,t.exponent=a,t}(3),Or=function a(o){function t(e){return(1>=(e*=2)?l_(e,o):2-l_(2-e,o))/2}return o=+o,t.exponent=a,t}(3),Yr=o_,Br=Yr/2,Fr=4/11,Xr=6/11,Gr=8/11,Vr=.75,$r=9/11,Wr=10/11,Zr=.9375,Qr=21/22,Jr=63/64,Kr=1/Fr/Fr,ti=function a(o){function t(e){return e*e*((o+1)*e-o)}return o=+o,t.overshoot=a,t}(1.70158),ei=function a(o){function t(e){return--e*e*((o+1)*e+o)+1}return o=+o,t.overshoot=a,t}(1.70158),ri=function a(o){function t(e){return(1>(e*=2)?e*e*((o+1)*e-o):(e-=2)*e*((o+1)*e+o)+2)/2}return o=+o,t.overshoot=a,t}(1.70158),ii=2*o_,oi=function a(o,s){function t(e){return o*l_(2,10*--e)*n_((i-e)/s)}var i=Zm(1/(o=f_(1,o)))*(s/=ii);return t.amplitude=function(e){return a(e,s*ii)},t.period=function(t){return a(o,t)},t}(1,.3),ai=function a(o,s){function t(e){return 1-o*l_(2,-10*(e=+e))*n_((e+i)/s)}var i=Zm(1/(o=f_(1,o)))*(s/=ii);return t.amplitude=function(e){return a(e,s*ii)},t.period=function(t){return a(o,t)},t}(1,.3),ui=function a(o,s){function t(e){return(0>(e=2*e-1)?o*l_(2,10*e)*n_((i-e)/s):2-o*l_(2,-10*e)*n_((i+e)/s))/2}var i=Zm(1/(o=f_(1,o)))*(s/=ii);return t.amplitude=function(e){return a(e,s*ii)},t.period=function(t){return a(o,t)},t}(1,.3),fi={time:null,delay:0,duration:250,ease:ir};kt.prototype.interrupt=function(e){return this.each(function(){da(this,e)})},kt.prototype.transition=function(s){var d,l;s instanceof Ao?(d=s._id,s=s._name):(d=ar(),(l=fi).time=He(),s=null==s?null:s+"");for(var p=this._groups,r=p.length,i=0;i<r;++i)for(var h=p[i],u=h.length,f=0,g;f<u;++f)(g=h[f])&&Hn(g,s,d,f,h,l||fr(g,d));return new Ao(p,this._parents,s,d)};var ci=[null],li={name:"drag"},gi={name:"space"},yi={name:"handle"},_i={name:"center"},bi={name:"x",handles:["e","w"].map(yr),input:function(e,t){return e&&[[e[0],t[0][1]],[e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},mi={name:"y",handles:["n","s"].map(yr),input:function(e,t){return e&&[[t[0][0],e[0]],[t[1][0],e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},xi={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(yr),input:function(e){return e},output:function(e){return e}},wi={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Mi={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Ai={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Ti={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Ni={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1},Si=a_,Li=n_,Di=o_,Ui=Di/2,qi=2*Di,Oi=f_,Yi=Array.prototype.slice,Bi=o_,Ii=2*Bi;Sr.prototype=Ar.prototype={constructor:Sr,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(a,t,n,e){this._+="Q"+ +a+","+ +t+","+(this._x1=+n)+","+(this._y1=+e)},bezierCurveTo:function(a,t,n,e,r,i){this._+="C"+ +a+","+ +t+","+ +n+","+ +e+","+(this._x1=+r)+","+(this._y1=+i)},arcTo:function(x,v,E,k,T){x=+x,v=+v,E=+E,k=+k,T=+T;var w=this._x1,o=this._y1,a=E-x,u=k-v,f=w-x,c=o-v,s=f*f+c*c;if(0>T)throw new Error("negative radius: "+T);if(null===this._x1)this._+="M"+(this._x1=x)+","+(this._y1=v);else if(!(1e-6<s));else if(1e-6<d_(c*a-u*f)&&T){var l=E-w,h=k-o,d=a*a+u*u,p=g_(d),g=g_(s),y=T*Jm((Bi-Km((d+s-(l*l+h*h))/(2*p*g)))/2),_=y/g,b=y/p;1e-6<d_(_-1)&&(this._+="L"+(x+_*f)+","+(v+_*c)),this._+="A"+T+","+T+",0,0,"+ +(c*l>f*h)+","+(this._x1=x+b*a)+","+(this._y1=v+b*u)}else this._+="L"+(this._x1=x)+","+(this._y1=v)},arc:function(d,p,h,g,r,i){d=+d,p=+p;var o=(h=+h)*a_(g),a=h*n_(g),u=d+o,f=p+a,c=1^i,s=i?g-r:r-g;if(0>h)throw new Error("negative radius: "+h);null===this._x1?this._+="M"+u+","+f:(1e-6<d_(this._x1-u)||1e-6<d_(this._y1-f))&&(this._+="L"+u+","+f),h&&(0>s&&(s=s%Ii+Ii),s>Ii-1e-6?this._+="A"+h+","+h+",0,1,"+c+","+(d-o)+","+(p-a)+"A"+h+","+h+",0,1,"+c+","+(this._x1=u)+","+(this._y1=f):1e-6<s&&(this._+="A"+h+","+h+",0,"+ +(s>=Bi)+","+c+","+(this._x1=d+h*a_(r))+","+(this._y1=p+h*n_(r))))},rect:function(a,t,n,e){this._+="M"+(this._x0=this._x1=+a)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +e+"h"+-n+"Z"},toString:function(){return this._}},jr.prototype=Rr.prototype={constructor:jr,has:function(e){return"$"+e in this},get:function(e){return this["$"+e]},set:function(e,t){return this["$"+e]=t,this},remove:function(e){var t="$"+e;return t in this&&delete this[t]},clear:function(){for(var e in this)"$"===e[0]&&delete this[e]},keys:function(){var e=[];for(var t in this)"$"===t[0]&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)"$"===t[0]&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)"$"===t[0]&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var a in this)"$"===a[0]&&++e;return e},empty:function(){for(var e in this)if("$"===e[0])return!1;return!0},each:function(e){for(var t in this)"$"===t[0]&&e(this[t],t.slice(1),this)}};var ji=Rr.prototype;ro.prototype=io.prototype={constructor:ro,has:ji.has,add:function(e){return this["$"+(e+="")]=e,this},remove:ji.remove,clear:ji.clear,values:ji.keys,size:ji.size,empty:ji.empty,each:ji.each};var oo=Array.prototype.slice,uo=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]],vo={},wo={},Mo=So(","),ko=Mo.parse,Co=Mo.parseRows,Po=Mo.format,zo=Mo.formatRows,Ro=So("\t"),Lo=Ro.parse,Do=Ro.parseRows,Uo=Ro.format,qo=Ro.formatRows,Oo=Io(ko),Ho=Io(Lo),Xo=Go("application/xml"),$o=Go("text/html"),Wo=Go("image/svg+xml"),Zo=ea.prototype=ra.prototype;Zo.copy=function(){var a=new ra(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,o,s;if(!e)return a;if(!e.length)return a._root=ia(e),a;for(o=[{source:e,target:a._root=[,,,,]}];e=o.pop();)for(var d=0;4>d;++d)(s=e.source[d])&&(s.length?o.push({source:s,target:e.target[d]=[,,,,]}):e.target[d]=ia(s));return a},Zo.add=function(a){var t=+this._x.call(null,a),n=+this._y.call(null,a);return Jo(this.cover(t,n),t,n,a)},Zo.addAll=function(d){var t=d.length,o=Array(t),a=Array(t),p=1/0,u=1/0,h=-1/0,g=-1/0,m,_,y,b;for(_=0;_<t;++_)isNaN(y=+this._x.call(null,m=d[_]))||isNaN(b=+this._y.call(null,m))||(o[_]=y,a[_]=b,y<p&&(p=y),y>h&&(h=y),b<u&&(u=b),b>g&&(g=b));for(h<p&&(p=this._x0,h=this._x1),g<u&&(u=this._y0,g=this._y1),this.cover(p,u).cover(h,g),_=0;_<t;++_)Jo(this,o[_],a[_],d[_]);return this},Zo.cover=function(s,d){if(isNaN(s=+s)||isNaN(d=+d))return this;var l=this._x0,p=this._y0,h=this._x1,g=this._y1;if(isNaN(l))h=(l=u_(s))+1,g=(p=u_(d))+1;else{if(!(l>s||s>h||p>d||d>g))return this;var m=h-l,_=this._root,y,b;switch(b=(d<(p+g)/2)<<1|s<(l+h)/2){case 0:do(y=[,,,,])[b]=_,_=y;while((g=p+(m*=2),s>(h=l+m)||d>g));break;case 1:do(y=[,,,,])[b]=_,_=y;while((g=p+(m*=2),(l=h-m)>s||d>g));break;case 2:do(y=[,,,,])[b]=_,_=y;while((p=g-(m*=2),s>(h=l+m)||p>d));break;case 3:do(y=[,,,,])[b]=_,_=y;while((p=g-(m*=2),(l=h-m)>s||p>d));}this._root&&this._root.length&&(this._root=_)}return this._x0=l,this._y0=p,this._x1=h,this._y1=g,this},Zo.data=function(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e},Zo.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Zo.find=function(E,t,n){var k=this._x0,T=this._y0,w=this._x1,S=this._y1,C=[],p=this._root,A,P,I,L,N,O,M;for(p&&C.push(new Ko(p,k,T,w,S)),null==n?n=1/0:(k=E-n,T=t-n,w=E+n,S=t+n,n*=n);O=C.pop();)if(!(!(p=O.node)||(P=O.x0)>w||(I=O.y0)>S||(L=O.x1)<k||(N=O.y1)<T))if(p.length){var D=(P+L)/2,g=(I+N)/2;C.push(new Ko(p[3],D,g,L,N),new Ko(p[2],P,g,D,N),new Ko(p[1],D,I,L,g),new Ko(p[0],P,I,D,g)),(M=(t>=g)<<1|E>=D)&&(O=C[C.length-1],C[C.length-1]=C[C.length-1-M],C[C.length-1-M]=O)}else{var y=E-+this._x.call(null,p.data),_=t-+this._y.call(null,p.data),b=y*y+_*_;if(b<n){var m=g_(n=b);k=E-m,T=t-m,w=E+m,S=t+m,A=p.data}}return A},Zo.remove=function(m){if(isNaN(C=+this._x.call(null,m))||isNaN(A=+this._y.call(null,m)))return this;var t=this._root,_=this._x0,b=this._y0,x=this._x1,E=this._y1,k,T,w,S,C,A,P,I,L,N,O,M;if(!t)return this;if(t.length)for(;;){if((L=C>=(P=(_+x)/2))?_=P:x=P,(N=A>=(I=(b+E)/2))?b=I:E=I,k=t,!(t=t[O=N<<1|L]))return this;if(!t.length)break;(k[3&O+1]||k[3&O+2]||k[3&O+3])&&(T=k,M=O)}for(;t.data!==m;)if(w=t,!(t=t.next))return this;return(S=t.next)&&delete t.next,w?(S?w.next=S:delete w.next,this):k?(S?k[O]=S:delete k[O],(t=k[0]||k[1]||k[2]||k[3])&&t===(k[3]||k[2]||k[1]||k[0])&&!t.length&&(T?T[M]=t:this._root=t),this):(this._root=S,this)},Zo.removeAll=function(a){for(var t=0,o=a.length;t<o;++t)this.remove(a[t]);return this},Zo.root=function(){return this._root},Zo.size=function(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e},Zo.visit=function(d){var t=[],l=this._root,p,u,h,g,m,_;for(l&&t.push(new Ko(l,this._x0,this._y0,this._x1,this._y1));p=t.pop();)if(!d(l=p.node,h=p.x0,g=p.y0,m=p.x1,_=p.y1)&&l.length){var y=(h+m)/2,c=(g+_)/2;(u=l[3])&&t.push(new Ko(u,y,c,m,_)),(u=l[2])&&t.push(new Ko(u,h,c,y,_)),(u=l[1])&&t.push(new Ko(u,y,g,m,c)),(u=l[0])&&t.push(new Ko(u,h,g,y,c))}return this},Zo.visitAfter=function(d){var t=[],e=[],r;for(this._root&&t.push(new Ko(this._root,this._x0,this._y0,this._x1,this._y1));r=t.pop();){var p=r.node;if(p.length){var i=r.x0,a=r.y0,u=r.x1,f=r.y1,c=(i+u)/2,s=(a+f)/2,l;(l=p[0])&&t.push(new Ko(l,i,a,c,s)),(l=p[1])&&t.push(new Ko(l,c,a,u,s)),(l=p[2])&&t.push(new Ko(l,i,s,c,f)),(l=p[3])&&t.push(new Ko(l,c,s,u,f))}e.push(r)}for(;r=e.pop();)d(r.node,r.x0,r.y0,r.x1,r.y1);return this},Zo.x=function(e){return arguments.length?(this._x=e,this):this._x},Zo.y=function(e){return arguments.length?(this._y=e,this):this._y};var aa=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i,_a;ga.prototype=ba.prototype,ba.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":f_(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+f_(0,0|this.precision))+(this.trim?"~":"")+this.type};var B_={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return i_(e).toString(2)},c:function(e){return e+""},d:function(e){return i_(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return i_(e).toString(8)},p:function(e,t){return ma(100*e,t)},r:ma,s:function(s,t){var n=ha(s,t);if(!n)return s+"";var e=n[0],r=n[1],i=r-(_a=3*f_(-8,r_(8,u_(r/3))))+1,o=e.length;return i===o?e:i>o?e+Array(i-o+1).join("0"):0<i?e.slice(0,i)+"."+e.slice(i):"0."+Array(1-i).join("0")+ha(s,f_(0,t+i-1))[0]},X:function(e){return i_(e).toString(16).toUpperCase()},x:function(e){return i_(e).toString(16)}},wa=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"],Ta;Na({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),Pa.prototype={constructor:Pa,reset:function(){this.s=this.t=0},add:function(e){za(R_,e,this.t),za(this,R_.s,this.s),this.s?this.t+=R_.t:this.s=R_.t},valueOf:function(){return this.s}};var R_=new Pa,Ra=1e-6,Da=1e-12,Ua=o_,qa=Ua/2,Oa=Ua/4,Ya=2*Ua,Ba=180/Ua,Fa=Ua/180,Ia=d_,ja=e_,Ha=t_,Xa=a_,Ga=h_,Va=Qm,$a=c_,Wa=l_,Za=n_,Qa=Math.sign||function(e){return 0<e?1:0>e?-1:0},Ja=g_,Ka=Jm,tu={Feature:function(e,t){si(e.geometry,t)},FeatureCollection:function(a,t){for(var n=a.features,e=-1,o=n.length;++e<o;)si(n[e].geometry,t)}},au={Sphere:function(e,t){t.sphere()},Point:function(e,a){e=e.coordinates,a.point(e[0],e[1],e[2])},MultiPoint:function(a,o){for(var n=a.coordinates,e=-1,s=n.length;++e<s;)a=n[e],o.point(a[0],a[1],a[2])},LineString:function(e,t){di(e.coordinates,t,0)},MultiLineString:function(a,t){for(var n=a.coordinates,e=-1,o=n.length;++e<o;)di(n[e],t,0)},Polygon:function(e,t){pi(e.coordinates,t)},MultiPolygon:function(a,t){for(var n=a.coordinates,e=-1,o=n.length;++e<o;)pi(n[e],t)},GeometryCollection:function(a,t){for(var n=a.geometries,e=-1,o=n.length;++e<o;)si(n[e],t)}},uu=Ca(),gu=Ca(),yu={point:ni,lineStart:ni,lineEnd:ni,polygonStart:function(){uu.reset(),yu.lineStart=vi,yu.lineEnd=Ei},polygonEnd:function(){var e=+uu;gu.add(0>e?Ya+e:e),this.lineStart=this.lineEnd=this.point=ni},sphere:function(){gu.add(Ya)}},_u=Ca(),ef={point:Wi,lineStart:Xi,lineEnd:Ji,polygonStart:function(){ef.point=Ki,ef.lineStart=Zi,ef.lineEnd=Qi,_u.reset(),yu.polygonStart()},polygonEnd:function(){yu.polygonEnd(),ef.point=Wi,ef.lineStart=Xi,ef.lineEnd=Ji,0>uu?(q_=-(J_=180),Y_=-(K_=90)):_u>Ra?K_=90:_u<-Ra&&(Y_=-90),oy[0]=q_,oy[1]=J_}},rf={sphere:ni,point:Jp,lineStart:Zp,lineEnd:ou,polygonStart:function(){rf.lineStart=ru,rf.lineEnd=iu},polygonEnd:function(){rf.lineStart=Zp,rf.lineEnd=ou}},vf,z_,F_,U_,W_,q_,Y_,J_,K_,Z_,Q_,ey,ny,ay,oy,ry,iy,sy,dy,ly,cy,fy,hy,yy,Ey,Cy,Py,Ly,Oy,Dy,jy;bu.invert=bu;var Ry=Ca(),Ff=lf(function(){return!0},function(s){var t=NaN,d=NaN,l=NaN,p;return{lineStart:function(){s.lineStart(),p=1},point:function(e,n){var a=0<e?Ua:-Ua,r=Ia(e-t);Ia(r-Ua)<Ra?(s.point(t,d=0<(d+n)/2?qa:-qa),s.point(l,d),s.lineEnd(),s.lineStart(),s.point(a,d),s.point(e,d),p=0):l!==a&&r>=Ua&&(Ia(t-l)<Ra&&(t-=l*Ra),Ia(e-a)<Ra&&(e-=a*Ra),d=function(s,t,n,e){var r=Za(s-n),a,d;return Ia(r)>Ra?ja((Za(t)*(d=Xa(e))*Za(n)-Za(e)*(a=Xa(t))*Za(s))/(a*d*r)):(t+e)/2}(t,d,e,n),s.point(l,d),s.lineEnd(),s.lineStart(),s.point(a,d),p=0),s.point(t=e,d=n),l=a},lineEnd:function(){s.lineEnd(),t=d=NaN},clean:function(){return 2-p}}},function(a,t,n,e){var r;if(null==a)r=n*qa,e.point(-Ua,r),e.point(0,r),e.point(Ua,r),e.point(Ua,0),e.point(Ua,-r),e.point(0,-r),e.point(-Ua,-r),e.point(-Ua,0),e.point(-Ua,r);else if(Ia(a[0]-t[0])>Ra){var s=a[0]<t[0]?Ua:-Ua;r=n*s/2,e.point(-s,r),e.point(0,r),e.point(s,r)}else e.point(t[0],t[1])},[-Ua,-qa]),Gf=Ca(),tc={sphere:ni,point:ni,lineStart:function(){tc.point=ec,tc.lineEnd=hf},lineEnd:ni,polygonStart:ni,polygonEnd:ni},nc=[null,null],ac={type:"LineString",coordinates:nc},uc={Feature:function(e,t){return fc(e.geometry,t)},FeatureCollection:function(a,t){for(var n=a.features,e=-1,o=n.length;++e<o;)if(fc(n[e].geometry,t))return!0;return!1}},cc={Sphere:function(){return!0},Point:function(e,t){return lc(e.coordinates,t)},MultiPoint:function(a,t){for(var n=a.coordinates,e=-1,o=n.length;++e<o;)if(lc(n[e],t))return!0;return!1},LineString:function(e,t){return hc(e.coordinates,t)},MultiLineString:function(a,t){for(var n=a.coordinates,e=-1,o=n.length;++e<o;)if(hc(n[e],t))return!0;return!1},Polygon:function(e,t){return dc(e.coordinates,t)},MultiPolygon:function(a,t){for(var n=a.coordinates,e=-1,o=n.length;++e<o;)if(dc(n[e],t))return!0;return!1},GeometryCollection:function(a,t){for(var n=a.geometries,e=-1,o=n.length;++e<o;)if(fc(n[e],t))return!0;return!1}},sc=Ca(),Tc=Ca(),Nc={point:ni,lineStart:ni,lineEnd:ni,polygonStart:function(){Nc.lineStart=mc,Nc.lineEnd=Cc},polygonEnd:function(){Nc.lineStart=Nc.lineEnd=Nc.point=ni,sc.add(Ia(Tc)),Tc.reset()},result:function(){return sc.reset(),sc/2}},Sc=1/0,zy=Sc,Fy=-Sc,Uy=Fy,Gy={point:function(e,t){e<Sc&&(Sc=e),e>Fy&&(Fy=e),t<zy&&(zy=t),t>Uy&&(Uy=t)},lineStart:ni,lineEnd:ni,polygonStart:ni,polygonEnd:ni,result:function(){var e=[[Sc,zy],[Fy,Uy]];return Fy=Uy=-(zy=Sc=1/0),e}},Uc=0,$y=0,Yy=0,Xy=0,Jy=0,Ky=0,Zy=0,eb=0,nb=0,ab={point:Pc,lineStart:Qc,lineEnd:ts,polygonStart:function(){ab.lineStart=ns,ab.lineEnd=es},polygonEnd:function(){ab.point=Pc,ab.lineStart=Qc,ab.lineEnd=ts},result:function(){var e=nb?[Zy/nb,eb/nb]:Ky?[Xy/Ky,Jy/Ky]:Yy?[Uc/Yy,$y/Yy]:[NaN,NaN];return Uc=$y=Yy=Xy=Jy=Ky=Zy=eb=nb=0,e}},Zc,ob,rb,ib,sb,db,lb,pb,cb,ub,fb;os.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,Ya);}},result:ni};var hb=Ca(),hs={point:ni,lineStart:function(){hs.point=as},lineEnd:function(){ds&&ps(gb,mb),hs.point=ni},polygonStart:function(){ds=!0},polygonEnd:function(){ds=null},result:function(){return hb.reset(),+hb}},ds,gb,mb,_b,yb;vs.prototype={_radius:4.5,_circle:gs(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._string.push("M",e,",",t),this._point=1;break;case 1:this._string.push("L",e,",",t);break;default:null==this._circle&&(this._circle=gs(this._radius)),this._string.push("M",e,",",t,this._circle);}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}return null}},_s.prototype={constructor:_s,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var bb=Xa(30*Fa),Ns=ys({point:function(e,t){this.stream.point(e*Fa,t*Fa)}}),Es=Ds(function(e){return Ja(2/(1+e))});Es.invert=Us(function(e){return 2*Ur(e/2)});var Os=Ds(function(e){return(e=La(e))&&e/Za(e)});Os.invert=Us(function(e){return e}),qs.invert=function(e,t){return[e,2*ja(Va(t))-qa]},js.invert=js,Xs.invert=Us(ja),Vs.invert=function(s,t){var n=t,d=25,l;do{var p=n*n,c=p*p;n-=l=(n*(1.007226+p*(.015085+c*(.028874*p-.044475-.005916*c)))-t)/(1.007226+p*(.045255+c*(.259866*p-.311325-11*.005916*c)))}while(Ia(l)>Ra&&0<--d);return[s/(.8707+(p=n*n)*(p*(p*p*p*(.003971-.001529*p)-.013791)-.131979)),n]},$s.invert=Us(Ur),Ws.invert=Us(function(e){return 2*ja(e)}),Zs.invert=function(e,t){return[-t,2*ja(Va(e))-qa]},ol.prototype=nl.prototype={constructor:ol,count:function(){return this.eachAfter(tl)},each:function(s){var t=this,d=[t],l,p,c,u;do for(l=d.reverse(),d=[];t=l.pop();)if(s(t),p=t.children)for(c=0,u=p.length;c<u;++c)d.push(p[c]);while(d.length);return this},eachAfter:function(s){for(var t=this,d=[t],o=[],a,l,p;t=d.pop();)if(o.push(t),a=t.children)for(l=0,p=a.length;l<p;++l)d.push(a[l]);for(;t=o.pop();)s(t);return this},eachBefore:function(a){for(var t=this,o=[t],i,s;t=o.pop();)if(a(t),i=t.children)for(s=i.length-1;0<=s;--s)o.push(i[s]);return this},sum:function(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,a=t.children,o=a&&a.length;0<=--o;)n+=a[o].value;t.value=n})},sort:function(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})},path:function(a){for(var o=this,s=function(a,o){if(a===o)return a;var s=a.ancestors(),e=o.ancestors(),r=null;for(a=s.pop(),o=e.pop();a===o;)r=a,a=s.pop(),o=e.pop();return r}(o,a),e=[o];o!==s;)o=o.parent,e.push(o);for(var r=e.length;a!==s;)e.splice(r,0,a),a=a.parent;return e},ancestors:function(){for(var e=this,a=[e];e=e.parent;)a.push(e);return a},descendants:function(){var e=[];return this.each(function(t){e.push(t)}),e},leaves:function(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e},links:function(){var a=this,t=[];return a.each(function(n){n!==a&&t.push({source:n.parent,target:n})}),t},copy:function(){return nl(this).eachBefore(rl)}};var Ys=Array.prototype.slice,ul="$",Cl={depth:-1},Pl={};Yl.prototype=Object.create(ol.prototype);var zl=(1+2.23606797749979)/2,Il=function a(s){function t(n,t,e,a,r){Fl(s,n,t,e,a,r)}return t.ratio=function(e){return a(1<(e=+e)?e:1)},t}(zl),Hl=function a(p){function t(n,t,g,m,i){if((y=n._squarify)&&y.ratio===p)for(var o=-1,_=y.length,h=n.value,y,b,x,v,E;++o<_;){for(x=(b=y[o]).children,v=b.value=0,E=x.length;v<E;++v)b.value+=x[v].value;b.dice?El(b,t,g,m,g+=(i-g)*b.value/h):Bl(b,t,g,t+=(m-t)*b.value/h,i),h-=b.value}else n._squarify=y=Fl(p,n,t,g,m,i),y.ratio=p}return t.ratio=function(e){return a(1<(e=+e)?e:1)},t}(zl),Xl=function a(o){function t(n,a){return n=null==n?0:+n,a=null==a?1:+a,1===arguments.length?(a=n,n=0):a-=n,function(){return o()*a+n}}return t.source=a,t}(Vl),Wl=function a(t){function n(n,a){var s,d;return n=null==n?0:+n,a=null==a?1:+a,function(){var e;if(null!=s)e=s,s=null;else do s=2*t()-1,e=2*t()-1,d=s*s+e*e;while(!d||1<d);return n+a*e*g_(-2*c_(d)/d)}}return n.source=a,n}(Vl),Zl=function a(o){function t(){var e=Wl.source(o).apply(this,arguments);return function(){return Qm(e())}}return t.source=a,t}(Vl),Ql=function a(o){function t(e){return function(){for(var t=0,n=0;n<e;++n)t+=o();return t}}return t.source=a,t}(Vl),Jl=function a(o){function t(n){var t=Ql.source(o)(n);return function(){return t()/n}}return t.source=a,t}(Vl),Kl=function a(o){function t(e){return function(){return-c_(1-o())/e}}return t.source=a,t}(Vl),th=Array.prototype,nh=th.map,eh=th.slice,rh={name:"implicit"},ih=[0,1],ch=new Date,Th=new Date,Nh=Mf(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});Nh.every=function(a){return a=u_(a),isFinite(a)&&0<a?1<a?Mf(function(e){e.setTime(u_(e/a)*a)},function(t,n){t.setTime(+t+n*a)},function(t,n){return(n-t)/a}):Nh:null};var Eh=Nh.range,kh=Mf(function(e){e.setTime(1e3*u_(e/1e3))},function(e,t){e.setTime(+e+1e3*t)},function(e,t){return(t-e)/1e3},function(e){return e.getUTCSeconds()}),zh=kh.range,Rh=Mf(function(e){e.setTime(u_(e/60000)*60000)},function(e,t){e.setTime(+e+t*60000)},function(e,t){return(t-e)/60000},function(e){return e.getMinutes()}),Lh=Rh.range,Dh=Mf(function(e){var t=e.getTimezoneOffset()*60000%36e5;0>t&&(t+=36e5),e.setTime(36e5*u_((+e-t)/36e5)+t)},function(e,t){e.setTime(+e+36e5*t)},function(e,t){return(t-e)/36e5},function(e){return e.getHours()}),Uh=Dh.range,qh=Mf(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*60000)/864e5},function(e){return e.getDate()-1}),Oh=qh.range,Yh=Df(0),Fh=Df(1),Ih=Df(2),jh=Df(3),Hh=Df(4),Xh=Df(5),Gh=Df(6),Vh=Yh.range,$h=Fh.range,Wh=Ih.range,Zh=jh.range,Qh=Hh.range,Jh=Xh.range,Kh=Gh.range,td=Mf(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())},function(e){return e.getMonth()}),nd=td.range,ed=Mf(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});ed.every=function(a){return isFinite(a=u_(a))&&0<a?Mf(function(e){e.setFullYear(u_(e.getFullYear()/a)*a),e.setMonth(0,1),e.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n*a)}):null};var rd=ed.range,id=Mf(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+t*60000)},function(e,t){return(t-e)/60000},function(e){return e.getUTCMinutes()}),od=id.range,ad=Mf(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+36e5*t)},function(e,t){return(t-e)/36e5},function(e){return e.getUTCHours()}),ud=ad.range,fd=Mf(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/864e5},function(e){return e.getUTCDate()-1}),cd=fd.range,sd=Bf(0),hd=Bf(1),dd=Bf(2),pd=Bf(3),vd=Bf(4),gd=Bf(5),yd=Bf(6),_d=sd.range,bd=hd.range,md=dd.range,xd=pd.range,wd=vd.range,Md=gd.range,Ad=yd.range,Td=Mf(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())},function(e){return e.getUTCMonth()}),Nd=Td.range,Sd=Mf(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});Sd.every=function(a){return isFinite(a=u_(a))&&0<a?Mf(function(e){e.setUTCFullYear(u_(e.getUTCFullYear()/a)*a),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*a)}):null};var Ed=Sd.range,kd={"-":"",_:" ",0:"0"},Dd=/^\s*\d+/,Ud=/^%/,qd=/[\\^$*+?|[\]().{}]/g,Od;Hp({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var xb=Date.prototype.toISOString?function(e){return e.toISOString()}:G.utcFormat("%Y-%m-%dT%H:%M:%S.%LZ"),Gp=+new Date("2000-01-01T00:00:00.000Z")?function(e){var t=new Date(e);return isNaN(t)?null:t}:G.utcParse("%Y-%m-%dT%H:%M:%S.%LZ"),Vp=24*(60*(60*1e3)),Qp=zf("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),vb=zf("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Eb=zf("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),kb=zf("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Tb=zf("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),wb=zf("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Sb=zf("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Cb=zf("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Ab=zf("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),Pb=[,,,].concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(zf),Ib=Vf(Pb),Lb=[,,,].concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(zf),Nb=Vf(Lb),Ob=[,,,].concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(zf),Mb=Vf(Ob),Db=[,,,].concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(zf),Bb=Vf(Db),jb=[,,,].concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(zf),Rb=Vf(jb),zb=[,,,].concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(zf),Fb=Vf(zb),Vb=[,,,].concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(zf),Ub=Vf(Vb),Gb=[,,,].concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(zf),Hb=Vf(Gb),Wb=[,,,].concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(zf),qb=Vf(Wb),$b=[,,,].concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(zf),Yb=Vf($b),Xb=[,,,].concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(zf),Jb=Vf(Xb),Kb=[,,,].concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(zf),Zb=Vf(Kb),Qb=[,,,].concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(zf),ex=Vf(Qb),tx=[,,,].concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(zf),nx=Vf(tx),ax=[,,,].concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(zf),ox=Vf(ax),rx=[,,,].concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(zf),ix=Vf(rx),sx=[,,,].concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(zf),dx=Vf(sx),lx=[,,,].concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(zf),px=Vf(lx),cx=[,,,].concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(zf),ux=Vf(cx),fx=[,,,].concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(zf),hx=Vf(fx),tg=[,,,].concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(zf),ng=Vf(tg),eg=[,,,].concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(zf),rg=Vf(eg),ig=[,,,].concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(zf),og=Vf(ig),ag=[,,,].concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(zf),ug=Vf(ag),fg=[,,,].concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(zf),cg=Vf(fg),sg=[,,,].concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(zf),lg=Vf(sg),hg=[,,,].concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(zf),dg=Vf(hg),pg=Xe(wn(300,.5,0),wn(-240,.5,1)),vg=Xe(wn(-100,.75,.35),wn(80,1.5,.8)),gg=Xe(wn(260,.75,.35),wn(80,1.5,.8)),yg=wn(),_g=Kt(),bg=Uf(zf("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),Mg=Uf(zf("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Ag=Uf(zf("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Tg=Uf(zf("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),Ng=d_,Eg=t_,kg=a_,Cg=f_,Pg=r_,zg=n_,Rg=g_,Lg=1e-12,Dg=o_,Ug=Dg/2,qg=2*Dg;oh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,a){switch(e=+e,a=+a,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,a):this._context.moveTo(e,a);break;case 1:this._point=2;default:this._context.lineTo(e,a);}}};var Og=mh(sh);gh.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*n_(e),t*-a_(e))}};var ty=Array.prototype.slice,uy={draw:function(a,t){var n=g_(t/Dg);a.moveTo(n,0),a.arc(0,0,n,0,qg)}},py={draw:function(a,t){var n=g_(t/5)/2;a.moveTo(-3*n,-n),a.lineTo(-n,-n),a.lineTo(-n,-3*n),a.lineTo(n,-3*n),a.lineTo(n,-n),a.lineTo(3*n,-n),a.lineTo(3*n,n),a.lineTo(n,n),a.lineTo(n,3*n),a.lineTo(-n,3*n),a.lineTo(-n,n),a.lineTo(-3*n,n),a.closePath()}},vy=0.5773502691896257,gy={draw:function(a,t){var n=g_(t/(2*vy)),e=n*vy;a.moveTo(0,-n),a.lineTo(e,0),a.lineTo(0,n),a.lineTo(-e,0),a.closePath()}},_y=n_(Dg/10)/n_(7*Dg/10),by=n_(qg/10)*_y,my=-a_(qg/10)*_y,xy={draw:function(s,t){var n=g_(.8908130915292852*t),e=by*n,r=my*n;s.moveTo(0,-n),s.lineTo(e,r);for(var i=1;5>i;++i){var d=qg*i/5,a=a_(d),l=n_(d);s.lineTo(l*n,-a*n),s.lineTo(a*e-l*r,l*e+a*r)}s.closePath()}},wy={draw:function(a,t){var n=g_(t),e=-n/2;a.rect(e,e,n,n)}},My=1.7320508075688772,Ay={draw:function(a,t){var n=-g_(t/(3*My));a.moveTo(0,2*n),a.lineTo(-My*n,-n),a.lineTo(My*n,-n),a.closePath()}},Ty=1.7320508075688772/2,Ny=1/3.4641016151377544,Sy={draw:function(s,t){var n=g_(t/(3*(Ny/2+1))),e=n/2,r=n*Ny,i=e,o=n*Ny+n,a=-i,d=o;s.moveTo(e,r),s.lineTo(i,o),s.lineTo(a,d),s.lineTo(-.5*e-Ty*r,Ty*e+-.5*r),s.lineTo(-.5*i-Ty*o,Ty*i+-.5*o),s.lineTo(-.5*a-Ty*d,Ty*a+-.5*d),s.lineTo(-.5*e+Ty*r,-.5*r-Ty*e),s.lineTo(-.5*i+Ty*o,-.5*o-Ty*i),s.lineTo(-.5*a+Ty*d,-.5*d-Ty*a),s.closePath()}};mg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Bh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,a){switch(e=+e,a=+a,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,a):this._context.moveTo(e,a);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Bh(this,e,a);}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=a}},xg.prototype={areaStart:Mh,areaEnd:Mh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);}},point:function(e,a){switch(e=+e,a=+a,this._point){case 0:this._point=1,this._x2=e,this._y2=a;break;case 1:this._point=2,this._x3=e,this._y3=a;break;case 2:this._point=3,this._x4=e,this._y4=a,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+a)/6);break;default:Bh(this,e,a);}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=a}},wg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(a,o){switch(a=+a,o=+o,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var i=(this._x0+4*this._x1+a)/6,e=(this._y0+4*this._y1+o)/6;this._line?this._context.lineTo(i,e):this._context.moveTo(i,e);break;case 3:this._point=4;default:Bh(this,a,o);}this._x0=this._x1,this._x1=a,this._y0=this._y1,this._y1=o}},Sg.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var s=this._x,t=this._y,n=s.length-1;if(0<n)for(var e=s[0],i=t[0],o=s[n]-e,a=t[n]-i,d=-1,l;++d<=n;)l=d/n,this._basis.point(this._beta*s[d]+(1-this._beta)*(e+l*o),this._beta*t[d]+(1-this._beta)*(i+l*a));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};var ky=function a(o){function t(e){return 1===o?new mg(e):new Sg(e,o)}return t.beta=function(e){return a(+e)},t}(.85);Bg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Ig(this,this._x1,this._y1);}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,a){switch(e=+e,a=+a,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,a):this._context.moveTo(e,a);break;case 1:this._point=2,this._x1=e,this._y1=a;break;case 2:this._point=3;default:Ig(this,e,a);}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=a}};var qy=function a(o){function t(e){return new Bg(e,o)}return t.tension=function(e){return a(+e)},t}(0);jg.prototype={areaStart:Mh,areaEnd:Mh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);}},point:function(e,a){switch(e=+e,a=+a,this._point){case 0:this._point=1,this._x3=e,this._y3=a;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=a);break;case 2:this._point=3,this._x5=e,this._y5=a;break;default:Ig(this,e,a);}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=a}};var By=function a(o){function t(e){return new jg(e,o)}return t.tension=function(e){return a(+e)},t}(0);Fg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,a){switch(e=+e,a=+a,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ig(this,e,a);}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=a}};var Iy=function a(o){function t(e){return new Fg(e,o)}return t.tension=function(e){return a(+e)},t}(0);Gg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(a,o){if(a=+a,o=+o,this._point){var i=this._x2-a,e=this._y2-o;this._l23_a=g_(this._l23_2a=l_(i*i+e*e,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(a,o):this._context.moveTo(a,o);break;case 1:this._point=2;break;case 2:this._point=3;default:Vg(this,a,o);}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=a,this._y0=this._y1,this._y1=this._y2,this._y2=o}};var Hy=function a(o){function t(e){return o?new Gg(e,o):new Bg(e,0)}return t.alpha=function(e){return a(+e)},t}(.5);Hg.prototype={areaStart:Mh,areaEnd:Mh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);}},point:function(a,o){if(a=+a,o=+o,this._point){var i=this._x2-a,e=this._y2-o;this._l23_a=g_(this._l23_2a=l_(i*i+e*e,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=a,this._y3=o;break;case 1:this._point=2,this._context.moveTo(this._x4=a,this._y4=o);break;case 2:this._point=3,this._x5=a,this._y5=o;break;default:Vg(this,a,o);}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=a,this._y0=this._y1,this._y1=this._y2,this._y2=o}};var Vy=function a(o){function t(e){return o?new Hg(e,o):new jg(e,0)}return t.alpha=function(e){return a(+e)},t}(.5);Wg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(a,o){if(a=+a,o=+o,this._point){var i=this._x2-a,e=this._y2-o;this._l23_a=g_(this._l23_2a=l_(i*i+e*e,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Vg(this,a,o);}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=a,this._y0=this._y1,this._y1=this._y2,this._y2=o}};var Wy=function a(o){function t(e){return o?new Wg(e,o):new Fg(e,0)}return t.alpha=function(e){return a(+e)},t}(.5);$g.prototype={areaStart:Mh,areaEnd:Mh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,a){e=+e,a=+a,this._point?this._context.lineTo(e,a):(this._point=1,this._context.moveTo(e,a))}},Zg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Kg(this,this._t0,Jg(this,this._t0));}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(a,o){var r=NaN;if(o=+o,(a=+a)!==this._x1||o!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(a,o):this._context.moveTo(a,o);break;case 1:this._point=2;break;case 2:this._point=3,Kg(this,Jg(this,r=Xg(this,a,o)),r);break;default:Kg(this,this._t0,r=Xg(this,a,o));}this._x0=this._x1,this._x1=a,this._y0=this._y1,this._y1=o,this._t0=r}}},(Qg.prototype=Object.create(Zg.prototype)).point=function(e,t){Zg.prototype.point.call(this,t,e)},em.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(a,t,n,e,r,i){this._context.bezierCurveTo(t,a,e,n,i,r)}},tm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var s=this._x,t=this._y,n=s.length;if(n)if(this._line?this._context.lineTo(s[0],t[0]):this._context.moveTo(s[0],t[0]),2===n)this._context.lineTo(s[1],t[1]);else for(var e=nm(s),r=nm(t),i=0,d=1;d<n;++i,++d)this._context.bezierCurveTo(e[0][i],r[0][i],e[1][i],r[1][i],s[d],t[d]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},am.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&1>this._t&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),0<=this._line&&(this._t=1-this._t,this._line=1-this._line)},point:function(a,o){switch(a=+a,o=+o,this._point){case 0:this._point=1,this._line?this._context.lineTo(a,o):this._context.moveTo(a,o);break;case 1:this._point=2;default:if(0>=this._t)this._context.lineTo(this._x,o),this._context.lineTo(a,o);else{var r=this._x*(1-this._t)+a*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,o)}}this._x=a,this._y=o}},um.prototype={constructor:um,insert:function(a,o){var n,s,d;if(a){if(o.P=a,o.N=a.N,a.N&&(a.N.P=o),a.N=o,a.R){for(a=a.R;a.L;)a=a.L;a.L=o}else a.R=o;n=a}else this._?(a=mm(this._),o.P=null,o.N=a,a.P=a.L=o,n=a):(o.P=o.N=null,this._=o,n=null);for(o.L=o.R=null,o.U=n,o.C=!0,a=o;n&&n.C;)n===(s=n.U).L?(d=s.R)&&d.C?(n.C=d.C=!1,s.C=!0,a=s):(a===n.R&&(hm(this,n),n=(a=n).U),n.C=!1,s.C=!0,gm(this,s)):(d=s.L)&&d.C?(n.C=d.C=!1,s.C=!0,a=s):(a===n.L&&(gm(this,n),n=(a=n).U),n.C=!1,s.C=!0,hm(this,s)),n=a.U;this._.C=!1},remove:function(s){s.N&&(s.N.P=s.P),s.P&&(s.P.N=s.N),s.N=s.P=null;var d=s.U,l=s.L,o=s.R,a,p,c;if(p=l?o?mm(o):l:o,d?d.L===s?d.L=p:d.R=p:this._=p,l&&o?(c=p.C,p.C=s.C,p.L=l,l.U=p,p===o?(p.U=d,d=p,s=p.R):(d=p.U,p.U=s.U,s=p.R,d.L=s,p.R=o,o.U=p)):(c=s.C,s=p),s&&(s.U=d),!c)if(s&&s.C)s.C=!1;else{do{if(s===this._)break;if(s===d.L){if((a=d.R).C&&(a.C=!1,d.C=!0,hm(this,d),a=d.R),a.L&&a.L.C||a.R&&a.R.C){a.R&&a.R.C||(a.L.C=!1,a.C=!0,gm(this,a),a=d.R),a.C=d.C,d.C=a.R.C=!1,hm(this,d),s=this._;break}}else if((a=d.L).C&&(a.C=!1,d.C=!0,gm(this,d),a=d.L),a.L&&a.L.C||a.R&&a.R.C){a.L&&a.L.C||(a.R.C=!1,a.C=!0,hm(this,a),a=d.L),a.C=d.C,d.C=a.L.C=!1,gm(this,d),s=this._;break}a.C=!0,s=d,d=d.U}while(!s.C);s&&(s.C=!1)}}};var Qy=[],P_=[],D_=1e-6,V_=1e-12,$_,gx,mx,_x,yx;Bm.prototype={constructor:Bm,polygons:function(){var a=this.edges;return this.cells.map(function(t){var n=t.halfedges.map(function(n){return km(t,a[n])});return n.data=t.site.data,n})},triangles:function(){var p=[],t=this.edges;return this.cells.forEach(function(n,e){if(y=(_=n.halfedges).length)for(var r=n.site,s=-1,g=t[_[y-1]],m=g.left===r?g.right:g.left,_,y,b,x,v,E;++s<y;)b=m,m=(g=t[_[s]]).left===r?g.right:g.left,b&&m&&e<b.index&&e<m.index&&(v=b,E=m,0>((x=r)[0]-E[0])*(v[1]-x[1])-(x[0]-v[0])*(E[1]-x[1]))&&p.push([r.data,b.data,m.data])}),p},links:function(){return this.edges.filter(function(e){return e.right}).map(function(e){return{source:e.left.data,target:e.right.data}})},find:function(d,t,n){for(var p=this,e=p._found||0,o=p.cells.length,l,h;!(h=p.cells[e]);)if(++e>=o)return null;var u=d-h.site[0],f=t-h.site[1],g=u*u+f*f;do h=p.cells[l=e],e=null,h.halfedges.forEach(function(n){var a=p.edges[n],o=a.left;if(o!==h.site&&o||(o=a.right)){var r=d-o[0],i=t-o[1],s=r*r+i*i;s<g&&(g=s,e=o.index)}});while(null!==e);return p._found=l,null==n||g<=n*n?h.site:null}},zm.prototype={constructor:zm,scale:function(e){return 1===e?this:new zm(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new zm(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var bx=new zm(1,0,0);Fm.prototype=zm.prototype,G.version="5.6.0",G.bisect=__,G.bisectRight=__,G.bisectLeft=r,G.ascending=L,G.bisector=D,G.cross=function(a,t,n){var d=a.length,l=t.length,p=Array(d*l),s,c,f,h;for(null==n&&(n=R),s=f=0;s<d;++s)for(h=a[s],c=0;c<l;++c,++f)p[f]=n(h,t[c]);return p},G.descending=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},G.deviation=u,G.extent=c,G.histogram=function(){function a(e){var t=e.length,n=Array(t),r,i;for(r=0;r<t;++r)n[r]=d(e[r],r,e);var u=g(n),c=u[0],s=u[1],l=m(n,c,s);Array.isArray(l)||(l=Re(c,s,l),l=Le(h_(c/l)*l,u_(s/l)*l,l));for(var f=l.length;l[0]<=c;)l.shift(),--f;for(;l[f-1]>s;)l.pop(),--f;var _=Array(f+1),y;for(r=0;r<=f;++r)(y=_[r]=[]).x0=0<r?l[r-1]:c,y.x1=r<f?l[r]:s;for(r=0;r<t;++r)c<=(i=n[r])&&i<=s&&_[__(l,i,0,f)].push(e[r]);return _}var d=p,g=c,m=f;return a.value=function(e){return arguments.length?(d="function"==typeof e?e:s(e),a):d},a.domain=function(e){return arguments.length?(g="function"==typeof e?e:s([e[0],e[1]]),a):g},a.thresholds=function(e){return arguments.length?(m="function"==typeof e?e:Array.isArray(e)?s(i.call(e)):s(e),a):m},a},G.thresholdFreedmanDiaconis=function(n,a,e){return n=l.call(n,z).sort(L),h_((e-a)/(2*(x(n,.75)-x(n,.25))*l_(n.length,-1/3)))},G.thresholdScott=function(a,t,n){return h_((n-t)/(3.5*u(a)*l_(a.length,-1/3)))},G.thresholdSturges=f,G.max=e,G.mean=function(s,t){var n=s.length,r=n,d=-1,l=0,p;if(null==t)for(;++d<n;)isNaN(p=z(s[d]))?--r:l+=p;else for(;++d<n;)isNaN(p=z(t(s[d],d,s)))?--r:l+=p;return r?l/r:void 0},G.median=function(n,t){var e=n.length,i=-1,s=[],a;if(null==t)for(;++i<e;)isNaN(a=z(n[i]))||s.push(a);else for(;++i<e;)isNaN(a=z(t(n[i],i,n)))||s.push(a);return x(s.sort(L),.5)},G.merge=T,G.min=v,G.pairs=function(a,t){null==t&&(t=R);for(var s=0,d=a.length-1,r=a[0],l=Array(0>d?0:d);s<d;)l[s]=t(r,r=a[++s]);return l},G.permute=function(a,t){for(var n=t.length,o=Array(n);n--;)o[n]=a[t[n]];return o},G.quantile=x,G.range=Le,G.scan=function(n,t){if(p=n.length){var s=0,d=0,l=n[d],p,c;for(null==t&&(t=L);++s<p;)(0>t(c=n[s],l)||0!==t(l,l))&&(l=c,d=s);return 0===t(l,l)?d:void 0}},G.shuffle=function(a,t,s){for(var e=(null==s?a.length:s)-(t=null==t?0:+t),d,l;e;)l=0|Math.random()*e--,d=a[e+t],a[e+t]=a[l+t],a[l+t]=d;return a},G.sum=function(a,t){var n=a.length,r=-1,s=0,d;if(null==t)for(;++r<n;)(d=+a[r])&&(s+=d);else for(;++r<n;)(d=+t(a[r],r,a))&&(s+=d);return s},G.ticks=g,G.tickIncrement=m,G.tickStep=Re,G.transpose=t,G.variance=a,G.zip=function(){return t(arguments)},G.axisTop=function(e){return n(1,e)},G.axisRight=function(e){return n(2,e)},G.axisBottom=function(e){return n(3,e)},G.axisLeft=function(e){return n(4,e)},G.brush=function(){return Tr(xi)},G.brushX=function(){return Tr(bi)},G.brushY=function(){return Tr(mi)},G.brushSelection=function(e){var t=e.__brush;return t?t.dim.output(t.selection):null},G.chord=function(){function a(e){var t=e.length,n=[],r=Le(t),i=[],d=[],l=d.groups=Array(t),p=Array(t*t),h,_,y,S,C,P;for(h=0,C=-1;++C<t;){for(_=0,P=-1;++P<t;)_+=e[C][P];n.push(_),i.push(Le(t)),h+=_}for(v&&r.sort(function(a,t){return v(n[a],n[t])}),E&&i.forEach(function(a,o){a.sort(function(n,t){return E(e[o][n],e[o][t])})}),S=(h=Oi(0,qi-g*t)/h)?g:qi/t,_=0,C=-1;++C<t;){for(y=_,P=-1;++P<t;){var I=r[C],b=i[I][P],m=e[I][b],x=_,w=_+=m*h;p[b*t+I]={index:I,subindex:b,startAngle:x,endAngle:w,value:m}}l[I]={index:I,startAngle:y,endAngle:_,value:n[I]},_+=S}for(C=-1;++C<t;)for(P=C-1;++P<t;){var L=p[P*t+C],A=p[C*t+P];(L.value||A.value)&&d.push(L.value<A.value?{source:A,target:L}:{source:L,target:A})}return k?d.sort(k):d}var g=0,v=null,E=null,k=null;return a.padAngle=function(e){return arguments.length?(g=Oi(0,e),a):g},a.sortGroups=function(e){return arguments.length?(v=e,a):v},a.sortSubgroups=function(e){return arguments.length?(E=e,a):E},a.sortChords=function(e){return arguments.length?(null==e?k=null:(o=e,k=function(n,t){return o(n.source.value+n.target.value,t.source.value+t.target.value)})._=e,a):k&&k._;var o},a},G.ribbon=function(){function s(){var e=Yi.call(arguments),t=m.apply(this,e),n=_.apply(this,e),o=+b.apply(this,(e[0]=t,e)),r=x.apply(this,e)-Ui,i=E.apply(this,e)-Ui,s=o*Si(r),d=o*Li(r),l=+b.apply(this,(e[0]=n,e)),p=x.apply(this,e)-Ui,c=E.apply(this,e)-Ui,u;if(k||(k=u=Ar()),k.moveTo(s,d),k.arc(0,0,o,r,i),r==p&&i==c||(k.quadraticCurveTo(0,0,l*Si(p),l*Li(p)),k.arc(0,0,l,p,c)),k.quadraticCurveTo(0,0,s,d),k.closePath(),u)return k=null,u+""||null}var m=Pr,_=Ir,b=Nr,x=Mr,E=Dr,k=null;return s.radius=function(e){return arguments.length?(b="function"==typeof e?e:wr(+e),s):b},s.startAngle=function(e){return arguments.length?(x="function"==typeof e?e:wr(+e),s):x},s.endAngle=function(e){return arguments.length?(E="function"==typeof e?e:wr(+e),s):E},s.source=function(e){return arguments.length?(m=e,s):m},s.target=function(e){return arguments.length?(_=e,s):_},s.context=function(e){return arguments.length?(k=null==e?null:e,s):k},s},G.nest=function(){function s(t,e,r,a){if(e>=g.length)return null!=o&&t.sort(o),null==m?t:m(t);for(var n=-1,u=t.length,h=g[e++],d=Rr(),p=r(),_,y,b;++n<u;)(b=d.get(_=h(y=t[n])+""))?b.push(y):d.set(_,[y]);return d.each(function(o,t){a(p,t,s(o,e,r,a))}),p}var g=[],r=[],o,m,a;return a={object:function(e){return s(e,0,zr,to)},map:function(e){return s(e,0,no,eo)},entries:function(e){return function i(t,s){if(++s>g.length)return t;var e=r[s-1],d;return null!=m&&s>=g.length?d=t.entries():(d=[],t.each(function(t,n){d.push({key:n,values:i(t,s)})})),null==e?d:d.sort(function(a,t){return e(a.key,t.key)})}(s(e,0,no,eo),0)},key:function(e){return g.push(e),a},sortKeys:function(e){return r[g.length-1]=e,a},sortValues:function(e){return o=e,a},rollup:function(e){return m=e,a}}},G.set=io,G.map=Rr,G.keys=function(a){var t=[];for(var n in a)t.push(n);return t},G.values=function(a){var t=[];for(var n in a)t.push(a[n]);return t},G.entries=function(a){var t=[];for(var n in a)t.push({key:n,value:a[n]});return t},G.color=$t,G.rgb=Kt,G.hsl=tn,G.lab=gn,G.hcl=kn,G.lch=function(a,t,n,e){return 1===arguments.length?vn(a):new Tn(n,t,a,null==e?1:e)},G.gray=function(e,t){return new mn(e,0,0,null==t?1:t)},G.cubehelix=wn,G.contours=po,G.contourDensity=function(){function g(t){var n=new Float32Array(w*S),a=new Float32Array(w*S);t.forEach(function(e,t,a){var o=+_(e,t,a)+T>>k,r=+y(e,t,a)+T>>k,i=+b(e,t,a);0<=o&&o<w&&0<=r&&r<S&&(n[o+r*w]+=i)}),go({width:w,height:S,data:n},{width:w,height:S,data:a},E>>k),yo({width:w,height:S,data:a},{width:w,height:S,data:n},E>>k),go({width:w,height:S,data:n},{width:w,height:S,data:a},E>>k),yo({width:w,height:S,data:a},{width:w,height:S,data:n},E>>k),go({width:w,height:S,data:n},{width:w,height:S,data:a},E>>k),yo({width:w,height:S,data:a},{width:w,height:S,data:n},E>>k);var o=C(n);if(!Array.isArray(o)){var r=e(n);o=Re(0,r,o),(o=Le(0,u_(r/o)*o,o)).shift()}return po().thresholds(o).size([w,S])(n).map(m)}function m(e){return e.value*=l_(2,-2*k),e.coordinates.forEach(l),e}function l(e){e.forEach(d)}function d(e){e.forEach(p)}function p(e){e[0]=e[0]*l_(2,k)-T,e[1]=e[1]*l_(2,k)-T}function h(){return w=x+2*(T=3*E)>>k,S=v+2*T>>k,g}var _=_o,y=bo,b=mo,x=960,v=500,E=20,k=2,T=3*E,w=x+2*T>>k,S=v+2*T>>k,C=fo(20);return g.x=function(e){return arguments.length?(_="function"==typeof e?e:fo(+e),g):_},g.y=function(e){return arguments.length?(y="function"==typeof e?e:fo(+e),g):y},g.weight=function(e){return arguments.length?(b="function"==typeof e?e:fo(+e),g):b},g.size=function(a){if(!arguments.length)return[x,v];var t=h_(a[0]),n=h_(a[1]);if(!(0<=t||0<=t))throw new Error("invalid size");return x=t,v=n,h()},g.cellSize=function(e){if(!arguments.length)return 1<<k;if(!(1<=(e=+e)))throw new Error("invalid cell size");return k=u_(c_(e)/s_),h()},g.thresholds=function(e){return arguments.length?(C="function"==typeof e?e:Array.isArray(e)?fo(oo.call(e)):fo(e),g):C},g.bandwidth=function(e){if(!arguments.length)return g_(E*(E+1));if(!(0<=(e=+e)))throw new Error("invalid bandwidth");return E=i_((g_(4*e*e+1)-1)/2),h()},g},G.dispatch=O,G.drag=function(){function x(e){e.on("mousedown.drag",d).filter(k).on("touchstart.drag",g).on("touchmove.drag",y).on("touchend.drag touchcancel.drag",_).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(){if(!P&&m.apply(this,arguments)){var e=b("mouse",v.apply(this,arguments),Lt,this,arguments);e&&(wt(G.event.view).on("mousemove.drag",t,!0).on("mouseup.drag",p,!0),Mt(G.event.view),It(),A=!1,S=G.event.clientX,C=G.event.clientY,e("start"))}}function t(){if(Ot(),!A){var e=G.event.clientX-S,t=G.event.clientY-C;A=e*e+t*t>w}T.mouse("drag")}function p(){wt(G.event.view).on("mousemove.drag mouseup.drag",null),Dt(G.event.view,A),Ot(),T.mouse("end")}function g(){if(m.apply(this,arguments)){var t=G.event.changedTouches,a=v.apply(this,arguments),o=t.length,r,i;for(r=0;r<o;++r)(i=b(t[r].identifier,a,Nt,this,arguments))&&(It(),i("start"))}}function y(){var t=G.event.changedTouches,a=t.length,o,r;for(o=0;o<a;++o)(r=T[t[o].identifier])&&(Ot(),r("drag"))}function _(){var t=G.event.changedTouches,a=t.length,o,r;for(P&&clearTimeout(P),P=setTimeout(function(){P=null},500),o=0;o<a;++o)(r=T[t[o].identifier])&&(It(),r("end"))}function b(d,n,e,r,i){var o=e(n,d),l=c.copy(),m,_,y;if(xt(new jt(x,"beforestart",m,d,s,o[0],o[1],0,0,l),function(){return null!=(G.event.subject=m=E.apply(r,i))&&(_=m.x-o[0]||0,y=m.y-o[1]||0,!0)}))return function a(t){var p=o,c;switch(t){case"start":T[d]=a,c=s++;break;case"end":delete T[d],--s;case"drag":o=e(n,d),c=s;}xt(new jt(x,t,m,d,c,o[0]+_,o[1]+y,o[0]-p[0],o[1]-p[1],l),l.apply,l,[t,r,i])}}var m=Rt,v=Ft,E=Vt,k=Gt,T={},c=O("start","drag","end"),s=0,w=0,S,C,A,P;return x.filter=function(e){return arguments.length?(m="function"==typeof e?e:Bt(!!e),x):m},x.container=function(e){return arguments.length?(v="function"==typeof e?e:Bt(e),x):v},x.subject=function(e){return arguments.length?(E="function"==typeof e?e:Bt(e),x):E},x.touchable=function(e){return arguments.length?(k="function"==typeof e?e:Bt(!!e),x):k},x.on=function(){var e=c.on.apply(c,arguments);return e===c?x:e},x.clickDistance=function(e){return arguments.length?(w=(e=+e)*e,x):g_(w)},x},G.dragDisable=Mt,G.dragEnable=Dt,G.dsvFormat=So,G.csvParse=ko,G.csvParseRows=Co,G.csvFormat=Po,G.csvFormatRows=zo,G.tsvParse=Lo,G.tsvParseRows=Do,G.tsvFormat=Uo,G.tsvFormatRows=qo,G.easeLinear=function(e){return+e},G.easeQuad=or,G.easeQuadIn=function(e){return e*e},G.easeQuadOut=function(e){return e*(2-e)},G.easeQuadInOut=or,G.easeCubic=ir,G.easeCubicIn=function(e){return e*e*e},G.easeCubicOut=function(e){return--e*e*e+1},G.easeCubicInOut=ir,G.easePoly=Or,G.easePolyIn=Lr,G.easePolyOut=qr,G.easePolyInOut=Or,G.easeSin=sr,G.easeSinIn=function(e){return 1-a_(e*Br)},G.easeSinOut=function(e){return n_(e*Br)},G.easeSinInOut=sr,G.easeExp=lr,G.easeExpIn=function(e){return l_(2,10*e-10)},G.easeExpOut=function(e){return 1-l_(2,-10*e)},G.easeExpInOut=lr,G.easeCircle=cr,G.easeCircleIn=function(e){return 1-g_(1-e*e)},G.easeCircleOut=function(e){return g_(1- --e*e)},G.easeCircleInOut=cr,G.easeBounce=ur,G.easeBounceIn=function(e){return 1-ur(1-e)},G.easeBounceOut=ur,G.easeBounceInOut=function(e){return(1>=(e*=2)?1-ur(1-e):ur(e-1)+1)/2},G.easeBack=ri,G.easeBackIn=ti,G.easeBackOut=ei,G.easeBackInOut=ri,G.easeElastic=ai,G.easeElasticIn=oi,G.easeElasticOut=ai,G.easeElasticInOut=ui,G.blob=function(e,t){return fetch(e,t).then(Eo)},G.buffer=function(e,t){return fetch(e,t).then(Yo)},G.dsv=function(a,t,n,o){3===arguments.length&&"function"==typeof n&&(o=n,n=void 0);var s=So(a);return Fo(t,n).then(function(e){return s.parse(e,o)})},G.csv=Oo,G.tsv=Ho,G.image=function(a,e){return new Promise(function(t,n){var r=new Image;for(var i in e)r[i]=e[i];r.onerror=n,r.onload=function(){t(r)},r.src=a})},G.json=function(e,t){return fetch(e,t).then(jo)},G.text=Fo,G.xml=Xo,G.html=$o,G.svg=Wo,G.forceCenter=function(s,d){function a(){var e=l.length,t=0,n=0,o,p;for(o=0;o<e;++o)t+=(p=l[o]).x,n+=p.y;for(t=t/e-s,n=n/e-d,o=0;o<e;++o)(p=l[o]).x-=t,p.y-=n}var l;return null==s&&(s=0),null==d&&(d=0),a.initialize=function(e){l=e},a.x=function(e){return arguments.length?(s=+e,a):s},a.y=function(e){return arguments.length?(d=+e,a):d},a},G.forceCollide=function(s){function d(){function e(r,t,n,e,i){var s=r.data,a=r.r,l=b+a;if(!s)return t>_+l||e<_-l||n>y+l||i<y-l;if(s.index>m.index){var c=_-s.x-s.vx,u=y-s.y-s.vy,f=c*c+u*u;f<l*l&&(0===c&&(f+=(c=Qo())*c),0===u&&(f+=(u=Qo())*u),f=(l-(f=g_(f)))/f*o,m.vx+=(c*=f)*(l=(a*=a)/(x+a)),m.vy+=(u*=f)*l,s.vx-=c*(l=1-l),s.vy-=u*l)}}for(var n=f.length,a=0,r,i,m,_,y,b,x;a<c;++a)for(i=ea(f,oa,ua).visitAfter(l),r=0;r<n;++r)m=f[r],b=g[m.index],x=b*b,_=m.x+m.vx,y=m.y+m.vy,i.visit(e)}function l(e){if(e.data)return e.r=g[e.data.index];for(var t=e.r=0;4>t;++t)e[t]&&e[t].r>e.r&&(e.r=e[t].r)}function a(){if(f){var e=f.length,t,n;for(g=Array(e),t=0;t<e;++t)n=f[t],g[n.index]=+s(n,t,f)}}var o=1,c=1,f,g;return"function"!=typeof s&&(s=Vo(null==s?1:+s)),d.initialize=function(e){f=e,a()},d.iterations=function(e){return arguments.length?(c=+e,d):c},d.strength=function(e){return arguments.length?(o=+e,d):o},d.radius=function(e){return arguments.length?(s="function"==typeof e?e:Vo(+e),a(),d):s},d},G.forceLink=function(g){function p(e){for(var t=0,n=g.length;t<y;++t)for(var a=0,o,r,c,m,_,E,T;a<n;++a)r=(o=g[a]).source,m=(c=o.target).x+c.vx-r.x-r.vx||Qo(),_=c.y+c.vy-r.y-r.vy||Qo(),m*=E=((E=g_(m*m+_*_))-x[a])/E*e*b[a],_*=E,c.vx-=m*(T=k[a]),c.vy-=_*T,r.vx+=m*(T=1-T),r.vy+=_*T}function s(){if(v){var e=v.length,t=g.length,n=Rr(v,d),a,o;for(a=0,E=Array(e);a<t;++a)(o=g[a]).index=a,"object"!=typeof o.source&&(o.source=ca(n,o.source)),"object"!=typeof o.target&&(o.target=ca(n,o.target)),E[o.source.index]=(E[o.source.index]||0)+1,E[o.target.index]=(E[o.target.index]||0)+1;for(a=0,k=Array(t);a<t;++a)o=g[a],k[a]=E[o.source.index]/(E[o.source.index]+E[o.target.index]);b=Array(t),m(),x=Array(t),h()}}function m(){if(v)for(var t=0,n=g.length;t<n;++t)b[t]=+l(g[t],t,g)}function h(){if(v)for(var e=0,t=g.length;e<t;++e)x[e]=+_(g[e],e,g)}var d=fa,l=function(e){return 1/r_(E[e.source.index],E[e.target.index])},_=Vo(30),y=1,b,x,v,E,k;return null==g&&(g=[]),p.initialize=function(e){v=e,s()},p.links=function(e){return arguments.length?(g=e,s(),p):g},p.id=function(e){return arguments.length?(d=e,p):d},p.iterations=function(e){return arguments.length?(y=+e,p):y},p.strength=function(e){return arguments.length?(l="function"==typeof e?e:Vo(+e),m(),p):l},p.distance=function(e){return arguments.length?(_="function"==typeof e?e:Vo(+e),h(),p):_},p},G.forceManyBody=function(){function d(e){var t=f.length,n=ea(f,sa,la).visitAfter(c),a;for(b=e,a=0;a<t;++a)y=f[a],n.visit(s)}function p(){if(f){var t=f.length,a,o;for(x=Array(t),a=0;a<t;++a)o=f[a],x[o.index]=+l(o,a,f)}}function c(r){var t=0,s=0,d,l,p,c,h;if(r.length){for(p=c=h=0;4>h;++h)(d=r[h])&&(l=d_(d.value))&&(t+=d.value,s+=l,p+=l*d.x,c+=l*d.y);r.x=p/s,r.y=c/s}else{(d=r).x=d.data.x,d.y=d.data.y;do t+=x[d.data.index];while(d=d.next)}r.value=t}function s(e,n,a,o){if(!e.value)return!0;var r=e.x-y.x,i=e.y-y.y,p=o-n,c=r*r+i*i;if(p*p/_<c)return c<m&&(0===r&&(c+=(r=Qo())*r),0===i&&(c+=(i=Qo())*i),c<g&&(c=g_(g*c)),y.vx+=r*e.value*b/c,y.vy+=i*e.value*b/c),!0;if(!(e.length||c>=m)){(e.data!==y||e.next)&&(0===r&&(c+=(r=Qo())*r),0===i&&(c+=(i=Qo())*i),c<g&&(c=g_(g*c)));do e.data!==y&&(p=x[e.data.index]*b/c,y.vx+=r*p,y.vy+=i*p);while(e=e.next)}}var l=Vo(-30),g=1,m=1/0,_=.81,f,y,b,x;return d.initialize=function(e){f=e,p()},d.strength=function(e){return arguments.length?(l="function"==typeof e?e:Vo(+e),p(),d):l},d.distanceMin=function(e){return arguments.length?(g=e*e,d):g_(g)},d.distanceMax=function(e){return arguments.length?(m=e*e,d):g_(m)},d.theta=function(e){return arguments.length?(_=e*e,d):g_(_)},d},G.forceRadial=function(s,d,p){function l(e){for(var t=0,n=g.length;t<n;++t){var o=g[t],r=o.x-d||1e-6,i=o.y-p||1e-6,s=g_(r*r+i*i),l=(_[t]-s)*m[t]*e/s;o.vx+=r*l,o.vy+=i*l}}function c(){if(g){var t=g.length,e;for(m=Array(t),_=Array(t),e=0;e<t;++e)_[e]=+s(g[e],e,g),m[e]=isNaN(_[e])?0:+u(g[e],e,g)}}var u=Vo(.1),g,m,_;return"function"!=typeof s&&(s=Vo(+s)),null==d&&(d=0),null==p&&(p=0),l.initialize=function(e){g=e,c()},l.strength=function(e){return arguments.length?(u="function"==typeof e?e:Vo(+e),c(),l):u},l.radius=function(e){return arguments.length?(s="function"==typeof e?e:Vo(+e),c(),l):s},l.x=function(e){return arguments.length?(d=+e,l):d},l.y=function(e){return arguments.length?(p=+e,l):p},l},G.forceSimulation=function(p){function g(){s(),f.call("tick",c),d<m&&(u.stop(),f.call("end",c))}function s(){var e=p.length,t,a;for(d+=(y-d)*_,x.each(function(e){e(d)}),t=0;t<e;++t)null==(a=p[t]).fx?a.x+=a.vx*=b:(a.x=a.fx,a.vx=0),null==a.fy?a.y+=a.vy*=b:(a.y=a.fy,a.vy=0)}function l(){for(var t=0,a=p.length,r;t<a;++t){if((r=p[t]).index=t,isNaN(r.x)||isNaN(r.y)){var s=10*g_(t),i=t*(o_*(3-2.23606797749979));r.x=s*a_(i),r.y=s*n_(i)}(isNaN(r.vx)||isNaN(r.vy))&&(r.vx=r.vy=0)}}function h(e){return e.initialize&&e.initialize(p),e}var d=1,m=.001,_=1-l_(m,1/300),y=0,b=.6,x=Rr(),u=Mn(g),f=O("tick","end"),c;return null==p&&(p=[]),l(),c={tick:s,restart:function(){return u.restart(g),c},stop:function(){return u.stop(),c},nodes:function(t){return arguments.length?(p=t,l(),x.each(h),c):p},alpha:function(e){return arguments.length?(d=+e,c):d},alphaMin:function(e){return arguments.length?(m=+e,c):m},alphaDecay:function(e){return arguments.length?(_=+e,c):+_},alphaTarget:function(e){return arguments.length?(y=+e,c):y},velocityDecay:function(e){return arguments.length?(b=1-e,c):1-b},force:function(n,t){return 1<arguments.length?(null==t?x.remove(n):x.set(n,h(t)),c):x.get(n)},find:function(t,n,e){var d=0,l=p.length,s,h,g,m,_;for(null==e?e=1/0:e*=e,d=0;d<l;++d)(g=(s=t-(m=p[d]).x)*s+(h=n-m.y)*h)<e&&(_=m,e=g);return _},on:function(n,t){return 1<arguments.length?(f.on(n,t),c):f.on(n)}}},G.forceX=function(s){function d(e){for(var t=0,n=p.length,a;t<n;++t)(a=p[t]).vx+=(u[t]-a.x)*c[t]*e}function o(){if(p){var e=p.length,t;for(c=Array(e),u=Array(e),t=0;t<e;++t)c[t]=isNaN(u[t]=+s(p[t],t,p))?0:+l(p[t],t,p)}}var l=Vo(.1),p,c,u;return"function"!=typeof s&&(s=Vo(null==s?0:+s)),d.initialize=function(e){p=e,o()},d.strength=function(e){return arguments.length?(l="function"==typeof e?e:Vo(+e),o(),d):l},d.x=function(e){return arguments.length?(s="function"==typeof e?e:Vo(+e),o(),d):s},d},G.forceY=function(s){function d(e){for(var t=0,n=p.length,a;t<n;++t)(a=p[t]).vy+=(u[t]-a.y)*c[t]*e}function o(){if(p){var e=p.length,t;for(c=Array(e),u=Array(e),t=0;t<e;++t)c[t]=isNaN(u[t]=+s(p[t],t,p))?0:+l(p[t],t,p)}}var l=Vo(.1),p,c,u;return"function"!=typeof s&&(s=Vo(null==s?0:+s)),d.initialize=function(e){p=e,o()},d.strength=function(e){return arguments.length?(l="function"==typeof e?e:Vo(+e),o(),d):l},d.y=function(e){return arguments.length?(s="function"==typeof e?e:Vo(+e),o(),d):s},d},G.formatDefaultLocale=Na,G.formatLocale=Ma,G.formatSpecifier=ga,G.precisionFixed=Sa,G.precisionPrefix=Ea,G.precisionRound=ka,G.geoArea=function(e){return gu.reset(),hi(e,yu),2*gu},G.geoBounds=function(s){var t,d,l,p,c,f,h;if(K_=J_=-(q_=Y_=1/0),ay=[],hi(s,ef),d=ay.length){for(ay.sort(Wp),t=1,c=[l=ay[0]];t<d;++t)$p(l,(p=ay[t])[0])||$p(l,p[1])?(Ts(l[0],p[1])>Ts(l[0],l[1])&&(l[1]=p[1]),Ts(p[0],l[1])>Ts(l[0],l[1])&&(l[0]=p[0])):c.push(l=p);for(f=-1/0,t=0,l=c[d=c.length-1];t<=d;l=p,++t)p=c[t],(h=Ts(l[1],p[0]))>f&&(f=h,q_=p[0],J_=l[1])}return ay=oy=null,q_===1/0||Y_===1/0?[[NaN,NaN],[NaN,NaN]]:[[q_,Y_],[J_,K_]]},G.geoCentroid=function(a){ry=iy=sy=dy=ly=cy=fy=hy=yy=Ey=Cy=0,hi(a,rf);var t=yy,o=Ey,s=Cy,d=t*t+o*o+s*s;return d<Da&&(t=cy,o=fy,s=hy,iy<Ra&&(t=sy,o=dy,s=ly),(d=t*t+o*o+s*s)<Da)?[NaN,NaN]:[Ha(o,t)*Ba,Ur(s/Ja(d))*Ba]},G.geoCircle=function(){function s(){var e=d.apply(this,arguments),t=l.apply(this,arguments)*Fa,n=p.apply(this,arguments)*Fa;return o=[],h=xu(-e[0]*Fa,-e[1]*Fa,0).invert,Su(c,t,n,1),e={type:"Polygon",coordinates:[o]},o=h=null,e}var d=fu([0,0]),l=fu(90),p=fu(6),c={point:function(t,n){o.push(t=h(t,n)),t[0]*=Ba,t[1]*=Ba}},o,h;return s.center=function(e){return arguments.length?(d="function"==typeof e?e:fu([+e[0],+e[1]]),s):d},s.radius=function(e){return arguments.length?(l="function"==typeof e?e:fu(+e),s):l},s.precision=function(e){return arguments.length?(p="function"==typeof e?e:fu(+e),s):p},s},G.geoClipAntimeridian=Ff,G.geoClipCircle=uf,G.geoClipExtent=function(){var s=0,d=0,l=960,p=500,c,f,h;return h={stream:function(t){return c&&f===t?c:c=ff(s,d,l,p)(f=t)},extent:function(e){return arguments.length?(s=+e[0][0],d=+e[0][1],l=+e[1][0],p=+e[1][1],c=f=null,h):[[s,d],[l,p]]}}},G.geoClipRectangle=ff,G.geoContains=function(e,t){return(e&&uc.hasOwnProperty(e.type)?uc[e.type]:fc)(e,t)},G.geoDistance=oc,G.geoGraticule=_c,G.geoGraticule10=function(){return _c()()},G.geoInterpolate=function(m,t){var n=m[0]*Fa,e=m[1]*Fa,r=t[0]*Fa,i=t[1]*Fa,o=Xa(e),a=Za(e),u=Xa(i),f=Za(i),c=o*Xa(n),s=o*Za(n),l=u*Xa(r),h=u*Za(r),d=2*Ur(Ja(Hr(i-e)+o*u*Hr(r-n))),p=Za(d),_=d?function(o){var u=Za(o*=d)/p,n=Za(d-o)/p,e=n*c+u*l,r=n*s+u*h;return[Ha(r,e)*Ba,Ha(n*a+u*f,Ja(e*e+r*r))*Ba]}:function(){return[n*Ba,e*Ba]};return _.distance=d,_},G.geoLength=ic,G.geoPath=function(a,s){function d(e){return e&&("function"==typeof o&&p.pointRadius(+o.apply(this,arguments)),hi(e,l(p))),p.result()}var o=4.5,l,p;return d.area=function(e){return hi(e,l(Nc)),Nc.result()},d.measure=function(e){return hi(e,l(hs)),hs.result()},d.bounds=function(e){return hi(e,l(Gy)),Gy.result()},d.centroid=function(e){return hi(e,l(ab)),ab.result()},d.projection=function(e){return arguments.length?(l=null==e?(a=null,bc):(a=e).stream,d):a},d.context=function(e){return arguments.length?(p=null==e?(s=null,new vs):new os(s=e),"function"!=typeof o&&p.pointRadius(o),d):s},d.pointRadius=function(e){return arguments.length?(o="function"==typeof e?e:(p.pointRadius(+e),+e),d):o},d.projection(a).context(s)},G.geoAlbers=Ls,G.geoAlbersUsa=function(){function d(e){var t=e[0],n=e[1];return _=null,h.point(t,n),_||(g.point(t,n),_)||(m.point(t,n),_)}function p(){return s=c=null,d}var l=Ls(),a=Rs().rotate([154,0]).center([-2,58.5]).parallels([55,65]),u=Rs().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f={point:function(e,t){_=[e,t]}},s,c,h,g,m,_;return d.invert=function(o){var t=l.scale(),n=l.translate(),e=(o[0]-n[0])/t,r=(o[1]-n[1])/t;return(.12<=r&&.234>r&&-.425<=e&&-.214>e?a:.166<=r&&.234>r&&-.214<=e&&-.115>e?u:l).invert(o)},d.stream=function(t){return s&&c===t?s:(o=[l.stream(c=t),a.stream(t),u.stream(t)],d=o.length,s={point:function(a,t){for(var n=-1;++n<d;)o[n].point(a,t)},sphere:function(){for(var e=-1;++e<d;)o[e].sphere()},lineStart:function(){for(var e=-1;++e<d;)o[e].lineStart()},lineEnd:function(){for(var e=-1;++e<d;)o[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<d;)o[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<d;)o[e].polygonEnd()}});var o,d},d.precision=function(e){return arguments.length?(l.precision(e),a.precision(e),u.precision(e),p()):l.precision()},d.scale=function(e){return arguments.length?(l.scale(e),a.scale(.35*e),u.scale(e),d.translate(l.translate())):l.scale()},d.translate=function(e){if(!arguments.length)return l.translate();var t=l.scale(),n=+e[0],o=+e[1];return h=l.translate(e).clipExtent([[n-.455*t,o-.238*t],[n+.455*t,o+.238*t]]).stream(f),g=a.translate([n-.307*t,o+.201*t]).clipExtent([[n-.425*t+Ra,o+.12*t+Ra],[n-.214*t-Ra,o+.234*t-Ra]]).stream(f),m=u.translate([n-.205*t,o+.212*t]).clipExtent([[n-.214*t+Ra,o+.166*t+Ra],[n-.115*t-Ra,o+.234*t-Ra]]).stream(f),p()},d.fitExtent=function(e,t){return ms(d,e,t)},d.fitSize=function(e,t){return xs(d,e,t)},d.fitWidth=function(e,t){return ws(d,e,t)},d.fitHeight=function(e,t){return Ms(d,e,t)},d.scale(1070)},G.geoAzimuthalEqualArea=function(){return ks(Es).scale(124.75).clipAngle(179.999)},G.geoAzimuthalEqualAreaRaw=Es,G.geoAzimuthalEquidistant=function(){return ks(Os).scale(79.4188).clipAngle(179.999)},G.geoAzimuthalEquidistantRaw=Os,G.geoConicConformal=function(){return Ps(Is).scale(109.5).parallels([30,30])},G.geoConicConformalRaw=Is,G.geoConicEqualArea=Rs,G.geoConicEqualAreaRaw=zs,G.geoConicEquidistant=function(){return Ps(Hs).scale(131.154).center([0,13.9389])},G.geoConicEquidistantRaw=Hs,G.geoEquirectangular=function(){return ks(js).scale(152.63)},G.geoEquirectangularRaw=js,G.geoGnomonic=function(){return ks(Xs).scale(144.049).clipAngle(60)},G.geoGnomonicRaw=Xs,G.geoIdentity=function(){function g(){return S=C=null,A}var p=1,m=0,_=0,y=1,b=1,x=bc,v=null,E=bc,k,T,w,S,C,A;return A={stream:function(e){return S&&C===e?S:S=x(E(C=e))},postclip:function(e){return arguments.length?(E=e,v=k=T=w=null,g()):E},clipExtent:function(e){return arguments.length?(E=null==e?(v=k=T=w=null,bc):ff(v=+e[0][0],k=+e[0][1],T=+e[1][0],w=+e[1][1]),g()):null==v?null:[[v,k],[T,w]]},scale:function(e){return arguments.length?(x=Gs((p=+e)*y,p*b,m,_),g()):p},translate:function(e){return arguments.length?(x=Gs(p*y,p*b,m=+e[0],_=+e[1]),g()):[m,_]},reflectX:function(e){return arguments.length?(x=Gs(p*(y=e?-1:1),p*b,m,_),g()):0>y},reflectY:function(e){return arguments.length?(x=Gs(p*y,p*(b=e?-1:1),m,_),g()):0>b},fitExtent:function(e,t){return ms(A,e,t)},fitSize:function(e,t){return xs(A,e,t)},fitWidth:function(e,t){return ws(A,e,t)},fitHeight:function(e,t){return Ms(A,e,t)}}},G.geoProjection=ks,G.geoProjectionMutator=Cs,G.geoMercator=function(){return Bs(qs).scale(961/Ya)},G.geoMercatorRaw=qs,G.geoNaturalEarth1=function(){return ks(Vs).scale(175.295)},G.geoNaturalEarth1Raw=Vs,G.geoOrthographic=function(){return ks($s).scale(249.5).clipAngle(90+Ra)},G.geoOrthographicRaw=$s,G.geoStereographic=function(){return ks(Ws).scale(250).clipAngle(142)},G.geoStereographicRaw=Ws,G.geoTransverseMercator=function(){var a=Bs(Zs),o=a.center,n=a.rotate;return a.center=function(e){return arguments.length?o([-e[1],e[0]]):[(e=o())[1],-e[0]]},a.rotate=function(e){return arguments.length?n([e[0],e[1],2<e.length?e[2]+90:90]):[(e=n())[0],e[1],e[2]-90]},n([0,0,90]).scale(159.155)},G.geoTransverseMercatorRaw=Zs,G.geoRotation=wu,G.geoStream=hi,G.geoTransform=function(e){return{stream:ys(e)}},G.cluster=function(){function a(e){var t=0,r;e.eachAfter(function(a){var n=a.children;n?(a.x=function(e){return e.reduce(Js,0)/e.length}(n),a.y=function(e){return 1+e.reduce(Ks,0)}(n)):(a.x=r?t+=d(a,r):0,a.y=0,r=a)});var n=function(e){for(var a;a=e.children;)e=a[0];return e}(e),i=function(e){for(var a;a=e.children;)e=a[a.length-1];return e}(e),u=n.x-d(n,i)/2,c=i.x+d(i,n)/2;return e.eachAfter(p?function(n){n.x=(n.x-e.x)*o,n.y=(e.y-n.y)*l}:function(n){n.x=(n.x-u)/(c-u)*o,n.y=(1-(e.y?n.y/e.y:1))*l})}var d=Qs,o=1,l=1,p=!1;return a.separation=function(e){return arguments.length?(d=e,a):d},a.size=function(e){return arguments.length?(p=!1,o=+e[0],l=+e[1],a):p?null:[o,l]},a.nodeSize=function(e){return arguments.length?(p=!0,o=+e[0],l=+e[1],a):p?[o,l]:null},a},G.hierarchy=nl,G.pack=function(){function a(e){return e.x=s/2,e.y=d/2,o?e.eachBefore(Al(o)).eachAfter(Tl(l,.5)).eachBefore(Nl(1)):e.eachBefore(Al(Ml)).eachAfter(Tl(xl,1)).eachAfter(Tl(l,e.r/r_(s,d))).eachBefore(Nl(r_(s,d)/(2*e.r))),e}var o=null,s=1,d=1,l=xl;return a.radius=function(t){return arguments.length?(o=null==(n=t)?null:ml(n),a):o;var n},a.size=function(e){return arguments.length?(s=+e[0],d=+e[1],a):[s,d]},a.padding=function(e){return arguments.length?(l="function"==typeof e?e:wl(+e),a):l},a},G.packSiblings=function(e){return bl(e),e},G.packEnclose=al,G.partition=function(){function a(e){var t=e.height+1;return e.x0=e.y0=l,e.x1=s,e.y1=d/t,e.eachBefore(function(e,t){return function(n){n.children&&El(n,n.x0,e*(n.depth+1)/t,n.x1,e*(n.depth+2)/t);var r=n.x0,s=n.y0,d=n.x1-l,p=n.y1-l;d<r&&(r=d=(r+d)/2),p<s&&(s=p=(s+p)/2),n.x0=r,n.y0=s,n.x1=d,n.y1=p}}(d,t)),p&&e.eachBefore(Sl),e}var s=1,d=1,l=0,p=!1;return a.round=function(e){return arguments.length?(p=!!e,a):p},a.size=function(t){return arguments.length?(s=+t[0],d=+t[1],a):[s,d]},a.padding=function(e){return arguments.length?(l=+e,a):l},a},G.stratify=function(){function a(t){var e=t.length,n=Array(e),d={},l,p,h,g,m,_,y;for(p=0;p<e;++p)l=t[p],m=n[p]=new ol(l),null!=(_=o(l,p,t))&&(_+="")&&(d[y=ul+(m.id=_)]=y in d?Pl:m);for(p=0;p<e;++p)if(m=n[p],null!=(_=r(t[p],p,t))&&(_+="")){if(!(g=d[ul+_]))throw new Error("missing: "+_);if(g===Pl)throw new Error("ambiguous: "+_);g.children?g.children.push(m):g.children=[m],m.parent=g}else{if(h)throw new Error("multiple roots");h=m}if(!h)throw new Error("no root");if(h.parent=Cl,h.eachBefore(function(n){n.depth=n.parent.depth+1,--e}).eachBefore(il),h.parent=null,0<e)throw new Error("cycle");return h}var o=kl,r=Rl;return a.id=function(e){return arguments.length?(o=ml(e),a):o},a.parentId=function(e){return arguments.length?(r=ml(e),a):r},a},G.tree=function(){function s(e){var t=function(s){for(var t=new Yl(s,0),a=[t],d,l,p,c,u;d=a.pop();)if(p=d._.children)for(d.children=Array(u=p.length),c=u-1;0<=c;--c)a.push(l=d.children[c]=new Yl(p[c],c)),l.parent=d;return(t.parent=new Yl(null,0)).children=[t],t}(e);if(t.eachAfter(g),t.parent.m=-t.z,t.eachBefore(o),_)e.eachBefore(a);else{var n=e,r=e,i=e;e.eachBefore(function(e){e.x<n.x&&(n=e),e.x>r.x&&(r=e),e.depth>i.depth&&(i=e)});var y=n===r?1:m(n,r)/2,h=y-n.x,d=u/(r.x+y+h),p=f/(i.depth||1);e.eachBefore(function(e){e.x=(e.x+h)*d,e.y=e.depth*p})}return e}function g(t){var n=t.children,e=t.parent.children,a=t.i?e[t.i-1]:null;if(n){!function(a){for(var t=0,s=0,d=a.children,i=d.length,l;0<=--i;)(l=d[i]).z+=t,l.m+=t,t+=l.s+(s+=l.c)}(t);var r=(n[0].z+n[n.length-1].z)/2;a?(t.z=a.z+m(t._,a._),t.m=t.z-r):t.z=r}else a&&(t.z=a.z+m(t._,a._));t.parent.A=function(t,n,e){if(n){for(var d=t,p=t,g=n,_=d.parent.children[0],y=d.m,b=p.m,x=g.m,v=_.m,E;g=Ul(g),d=Dl(d),g&&d;)_=Dl(_),(p=Ul(p)).a=t,0<(E=g.z+x-d.z-y+m(g._,d._))&&(ql(Ol(g,t,e),t,E),y+=E,b+=E),x+=g.m,y+=d.m,v+=_.m,b+=p.m;g&&!Ul(p)&&(p.t=g,p.m+=x-b),d&&!Dl(_)&&(_.t=d,_.m+=y-v,e=t)}return e}(t,a,t.parent.A||e[0])}function o(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function a(e){e.x*=u,e.y=e.depth*f}var m=Ll,u=1,f=1,_=null;return s.separation=function(e){return arguments.length?(m=e,s):m},s.size=function(e){return arguments.length?(_=!1,u=+e[0],f=+e[1],s):_?null:[u,f]},s.nodeSize=function(e){return arguments.length?(_=!0,u=+e[0],f=+e[1],s):_?[u,f]:null},s},G.treemap=function(){function d(e){return e.x0=e.y0=0,e.x1=h,e.y1=g,e.eachBefore(s),m=[0],l&&e.eachBefore(Sl),e}function s(t){var n=m[t.depth],a=t.x0+n,o=t.y0+n,i=t.x1-n,d=t.y1-n;i<a&&(a=i=(a+i)/2),d<o&&(o=d=(o+d)/2),t.x0=a,t.y0=o,t.x1=i,t.y1=d,t.children&&(n=m[t.depth+1]=_(t)/2,a+=v(t)-n,o+=y(t)-n,(i-=b(t)-n)<a&&(a=i=(a+i)/2),(d-=x(t)-n)<o&&(o=d=(o+d)/2),p(t,a,o,i,d))}var p=Il,l=!1,h=1,g=1,m=[0],_=xl,y=xl,b=xl,x=xl,v=xl;return d.round=function(e){return arguments.length?(l=!!e,d):l},d.size=function(e){return arguments.length?(h=+e[0],g=+e[1],d):[h,g]},d.tile=function(e){return arguments.length?(p=ml(e),d):p},d.padding=function(e){return arguments.length?d.paddingInner(e).paddingOuter(e):d.paddingInner()},d.paddingInner=function(e){return arguments.length?(_="function"==typeof e?e:wl(+e),d):_},d.paddingOuter=function(e){return arguments.length?d.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):d.paddingTop()},d.paddingTop=function(e){return arguments.length?(y="function"==typeof e?e:wl(+e),d):y},d.paddingRight=function(e){return arguments.length?(b="function"==typeof e?e:wl(+e),d):b},d.paddingBottom=function(e){return arguments.length?(x="function"==typeof e?e:wl(+e),d):x},d.paddingLeft=function(e){return arguments.length?(v="function"==typeof e?e:wl(+e),d):v},d},G.treemapBinary=function(s,t,n,e,r){var d=s.children,i=d.length,u=Array(i+1),l,p;for(u[0]=p=l=0;l<i;++l)u[l+1]=p+=d[l].value;!function c(t,n,e,r,i,o,a){if(t>=n-1){var f=d[t];return f.x0=r,f.y0=i,f.x1=o,void(f.y1=a)}for(var s=u[t],l=e/2+s,h=t+1,m=n-1,x;h<m;)x=h+m>>>1,u[x]<l?h=x+1:m=x;l-u[h-1]<u[h]-l&&t+1<h&&--h;var E=u[h]-s,g=e-E;if(o-r>a-i){var y=(r*g+o*E)/e;c(t,h,E,r,i,y,a),c(h,n,g,y,i,o,a)}else{var _=(i*g+a*E)/e;c(t,h,E,r,i,o,_),c(h,n,g,r,_,o,a)}}(0,i,s.value,t,n,e,r)},G.treemapDice=El,G.treemapSlice=Bl,G.treemapSliceDice=function(a,t,n,e,o){(1&a.depth?Bl:El)(a,t,n,e,o)},G.treemapSquarify=Il,G.treemapResquarify=Hl,G.interpolate=be,G.interpolateArray=se,G.interpolateBasis=ne,G.interpolateBasisClosed=ee,G.interpolateDate=de,G.interpolateNumber=pe,G.interpolateObject=ve,G.interpolateRound=me,G.interpolateString=ge,G.interpolateTransformCss=Se,G.interpolateTransformSvg=Ce,G.interpolateZoom=Ue,G.interpolateRgb=Jn,G.interpolateRgbBasis=ce,G.interpolateRgbBasisClosed=le,G.interpolateHsl=De,G.interpolateHslLong=Ye,G.interpolateLab=function(a,s){var d=ue((a=gn(a)).l,(s=gn(s)).l),e=ue(a.a,s.a),r=ue(a.b,s.b),i=ue(a.opacity,s.opacity);return function(t){return a.l=d(t),a.a=e(t),a.b=r(t),a.opacity=i(t),a+""}},G.interpolateHcl=Be,G.interpolateHclLong=Ie,G.interpolateCubehelix=je,G.interpolateCubehelixLong=Xe,G.piecewise=function(a,t){for(var n=0,s=t.length-1,r=t[0],d=Array(0>s?0:s);n<s;)d[n]=a(r,r=t[++n]);return function(e){var a=f_(0,r_(s-1,u_(e*=s)));return d[a](e-a)}},G.quantize=function(a,t){for(var n=Array(t),e=0;e<t;++e)n[e]=a(e/(t-1));return n},G.path=Ar,G.polygonArea=function(a){for(var t=-1,s=a.length,r=a[s-1],d=0,l;++t<s;)l=r,r=a[t],d+=l[1]*r[0]-l[0]*r[1];return d/2},G.polygonCentroid=function(s){for(var t=-1,d=s.length,i=0,l=0,p=s[d-1],c=0,h,g;++t<d;)h=p,p=s[t],c+=g=h[0]*p[1]-p[0]*h[1],i+=(h[0]+p[0])*g,l+=(h[1]+p[1])*g;return[i/(c*=3),l/c]},G.polygonHull=function(s){if(3>(d=s.length))return null;var t=Array(d),r=Array(d),i,d;for(i=0;i<d;++i)t[i]=[+s[i][0],+s[i][1],i];for(t.sort(jl),i=0;i<d;++i)r[i]=[t[i][0],-t[i][1]];var l=Gl(t),o=Gl(r),a=o[0]===l[0],p=o[o.length-1]===l[l.length-1],u=[];for(i=l.length-1;0<=i;--i)u.push(s[t[l[i]][2]]);for(i=+a;i<o.length-p;++i)u.push(s[t[o[i]][2]]);return u},G.polygonContains=function(d,t){for(var n=d.length,i=d[n-1],p=t[0],a=t[1],u=i[0],h=i[1],g=!1,m=0,_,y;m<n;++m)_=(i=d[m])[0],(y=i[1])>a!=h>a&&p<(u-_)*(a-y)/(h-y)+_&&(g=!g),u=_,h=y;return g},G.polygonLength=function(s){for(var t=-1,d=s.length,i=s[d-1],l=i[0],p=i[1],c=0,h,g;++t<d;)h=l,g=p,h-=l=(i=s[t])[0],g-=p=i[1],c+=g_(h*h+g*g);return c},G.quadtree=ea,G.randomUniform=Xl,G.randomNormal=Wl,G.randomLogNormal=Zl,G.randomBates=Jl,G.randomIrwinHall=Ql,G.randomExponential=Kl,G.scaleBand=gf,G.scalePoint=function(){return function a(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return a(n())},t}(gf().paddingInner(1))},G.scaleIdentity=function a(){function o(e){return+e}var e=[0,1];return o.invert=o,o.domain=o.range=function(n){return arguments.length?(e=nh.call(n,_f),o):e.slice()},o.copy=function(){return a().domain(e)},Tf(o)},G.scaleLinear=function e(){var t=kf(yf,pe);return t.copy=function(){return Ef(t,e())},Tf(t)},G.scaleLog=function t(){function n(){return y=If(_),b=Pf(_),0>m()[0]&&(y=Lf(y),b=Lf(b)),s}var s=kf(Sf,Cf).domain([1,10]),m=s.domain,_=10,y=If(10),b=Pf(10);return s.base=function(e){return arguments.length?(_=+e,n()):_},s.domain=function(e){return arguments.length?(m(e),n()):m()},s.ticks=function(a){var t=m(),e=t[0],o=t[t.length-1],r;(r=o<e)&&(i=e,e=o,o=i);var i=y(e),x=y(o),E=null==a?10:+a,p=[],k,T,w;if(!(!(_%1)&&x-i<E))p=g(i,x,r_(x-i,E)).map(b);else if(i=i_(i)-1,x=i_(x)+1,0<e){for(;i<x;++i)for(T=1,k=b(i);T<_;++T)if(!((w=k*T)<e)){if(w>o)break;p.push(w)}}else for(;i<x;++i)for(T=_-1,k=b(i);1<=T;--T)if(!((w=k*T)<e)){if(w>o)break;p.push(w)}return r?p.reverse():p},s.tickFormat=function(e,a){if(null==a&&(a=10==_?".0e":","),"function"!=typeof a&&(a=G.format(a)),e===1/0)return a;null==e&&(e=10);var o=f_(1,_*e/s.ticks().length);return function(e){var t=e/b(i_(y(e)));return t*_<_-.5&&(t*=_),t<=o?a(e):""}},s.nice=function(){return m(wf(m(),{floor:function(e){return b(u_(y(e)))},ceil:function(e){return b(h_(y(e)))}}))},s.copy=function(){return Ef(s,t().base(_))},s},G.scaleOrdinal=$l,G.scaleImplicit=rh,G.scalePow=Of,G.scaleSqrt=function(){return Of().exponent(.5)},G.scaleQuantile=function n(){function s(){var e=0,o=f_(1,i.length);for(l=Array(o-1);++e<o;)l[e-1]=x(d,e/o);return a}function a(e){if(!isNaN(e=+e))return i[__(l,e)]}var d=[],i=[],l=[];return a.invertExtent=function(e){var t=i.indexOf(e);return 0>t?[NaN,NaN]:[0<t?l[t-1]:d[0],t<l.length?l[t]:d[d.length-1]]},a.domain=function(e){if(!arguments.length)return d.slice();d=[];for(var t=0,n=e.length,a;t<n;++t)null==(a=e[t])||isNaN(a=+a)||d.push(a);return d.sort(L),s()},a.range=function(e){return arguments.length?(i=eh.call(e),s()):i.slice()},a.quantiles=function(){return l.slice()},a.copy=function(){return n().domain(d).range(i)},a},G.scaleQuantize=function i(){function s(e){if(e<=e)return f[__(u,e,0,c)]}function d(){var e=-1;for(u=Array(c);++e<c;)u[e]=((e+1)*p-(e-c)*l)/(c+1);return s}var l=0,p=1,c=1,u=[.5],f=[0,1];return s.domain=function(e){return arguments.length?(l=+e[0],p=+e[1],d()):[l,p]},s.range=function(e){return arguments.length?(c=(f=eh.call(e)).length-1,d()):f.slice()},s.invertExtent=function(e){var t=f.indexOf(e);return 0>t?[NaN,NaN]:1>t?[l,u[0]]:t>=c?[u[c-1],p]:[u[t-1],u[t]]},s.copy=function(){return i().domain([l,p]).range(f)},Tf(s)},G.scaleThreshold=function a(){function i(e){if(e<=e)return s[__(o,e,0,d)]}var o=[.5],s=[0,1],d=1;return i.domain=function(e){return arguments.length?(o=eh.call(e),d=r_(o.length,s.length-1),i):o.slice()},i.range=function(e){return arguments.length?(s=eh.call(e),d=r_(o.length,s.length-1),i):s.slice()},i.invertExtent=function(e){var t=s.indexOf(e);return[o[t-1],o[t]]},i.copy=function(){return a().domain(o).range(s)},i},G.scaleTime=function(){return Rf(ed,td,Yh,qh,Dh,Rh,kh,Nh,G.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},G.scaleUtc=function(){return Rf(Sd,Td,sd,fd,ad,id,kh,Nh,G.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])},G.scaleSequential=function s(d){function l(e){var t=(e-a)*c;return d(u?f_(0,r_(1,t)):t)}var a=0,p=1,c=1,u=!1;return l.domain=function(e){return arguments.length?(a=+e[0],p=+e[1],c=a==p?0:1/(p-a),l):[a,p]},l.clamp=function(e){return arguments.length?(u=!!e,l):u},l.interpolator=function(e){return arguments.length?(d=e,l):d},l.copy=function(){return s(d).domain([a,p]).clamp(u)},Tf(l)},G.scaleDiverging=function s(d){function l(n){var a=.5+((n=+n)-c)*(n<c?h:g);return d(m?f_(0,r_(1,a)):a)}var p=0,c=.5,f=1,h=1,g=1,m=!1;return l.domain=function(e){return arguments.length?(p=+e[0],c=+e[1],f=+e[2],h=p==c?0:.5/(c-p),g=c==f?0:.5/(f-c),l):[p,c,f]},l.clamp=function(e){return arguments.length?(m=!!e,l):m},l.interpolator=function(e){return arguments.length?(d=e,l):d},l.copy=function(){return s(d).domain([p,c,f]).clamp(m)},Tf(l)},G.schemeCategory10=Qp,G.schemeAccent=vb,G.schemeDark2=Eb,G.schemePaired=kb,G.schemePastel1=Tb,G.schemePastel2=wb,G.schemeSet1=Sb,G.schemeSet2=Cb,G.schemeSet3=Ab,G.interpolateBrBG=Ib,G.schemeBrBG=Pb,G.interpolatePRGn=Nb,G.schemePRGn=Lb,G.interpolatePiYG=Mb,G.schemePiYG=Ob,G.interpolatePuOr=Bb,G.schemePuOr=Db,G.interpolateRdBu=Rb,G.schemeRdBu=jb,G.interpolateRdGy=Fb,G.schemeRdGy=zb,G.interpolateRdYlBu=Ub,G.schemeRdYlBu=Vb,G.interpolateRdYlGn=Hb,G.schemeRdYlGn=Gb,G.interpolateSpectral=qb,G.schemeSpectral=Wb,G.interpolateBuGn=Yb,G.schemeBuGn=$b,G.interpolateBuPu=Jb,G.schemeBuPu=Xb,G.interpolateGnBu=Zb,G.schemeGnBu=Kb,G.interpolateOrRd=ex,G.schemeOrRd=Qb,G.interpolatePuBuGn=nx,G.schemePuBuGn=tx,G.interpolatePuBu=ox,G.schemePuBu=ax,G.interpolatePuRd=ix,G.schemePuRd=rx,G.interpolateRdPu=dx,G.schemeRdPu=sx,G.interpolateYlGnBu=px,G.schemeYlGnBu=lx,G.interpolateYlGn=ux,G.schemeYlGn=cx,G.interpolateYlOrBr=hx,G.schemeYlOrBr=fx,G.interpolateYlOrRd=ng,G.schemeYlOrRd=tg,G.interpolateBlues=rg,G.schemeBlues=eg,G.interpolateGreens=og,G.schemeGreens=ig,G.interpolateGreys=ug,G.schemeGreys=ag,G.interpolatePurples=cg,G.schemePurples=fg,G.interpolateReds=lg,G.schemeReds=sg,G.interpolateOranges=dg,G.schemeOranges=hg,G.interpolateCubehelixDefault=pg,G.interpolateRainbow=function(e){(0>e||1<e)&&(e-=u_(e));var a=d_(e-.5);return yg.h=360*e-100,yg.s=1.5-1.5*a,yg.l=.8-.9*a,yg+""},G.interpolateWarm=vg,G.interpolateCool=gg,G.interpolateSinebow=function(e){var a;return e=(.5-e)*o_,_g.r=255*(a=n_(e))*a,_g.g=255*(a=n_(e+o_/3))*a,_g.b=255*(a=n_(e+2*o_/3))*a,_g+""},G.interpolateViridis=bg,G.interpolateMagma=Mg,G.interpolateInferno=Ag,G.interpolatePlasma=Tg,G.create=function(e){return wt(B(e).call(document.documentElement))},G.creator=B,G.local=St,G.matcher=et,G.mouse=Lt,G.namespace=M,G.namespaces=F,G.clientPoint=Pt,G.select=wt,G.selectAll=function(e){return"string"==typeof e?new Et([document.querySelectorAll(e)],[document.documentElement]):new Et([null==e?[]:e],y_)},G.selection=kt,G.selector=H,G.selectorAll=q,G.style=Q,G.touch=Nt,G.touches=function(a,t){null==t&&(t=At().touches);for(var o=0,s=t?t.length:0,r=Array(s);o<s;++o)r[o]=Pt(a,t[o]);return r},G.window=Z,G.customEvent=xt,G.arc=function(){function s(){var e=+V.apply(this,arguments),t=+W.apply(this,arguments),n=$.apply(this,arguments)-Ug,a=J.apply(this,arguments)-Ug,o=Ng(a-n),r=a>n,i,d,p;if(!(Z||(Z=i=Ar()),t<e&&(d=t,t=e,e=d),t>Lg))Z.moveTo(0,0);else if(o>qg-Lg)Z.moveTo(t*kg(n),t*zg(n)),Z.arc(0,0,t,n,a,!r),e>Lg&&(Z.moveTo(e*kg(a),e*zg(a)),Z.arc(0,0,e,a,n,r));else{var u=n,g=a,v=n,Q=a,ee=o,te=o,ne=K.apply(this,arguments)/2,T=ne>Lg&&(f?+f.apply(this,arguments):Rg(e*e+t*t)),N=Pg(Ng(t-e)/2,+c.apply(this,arguments)),S=N,ae=N,oe,re;if(T>Lg){var ie=Wf(T/e*zg(ne)),se=Wf(T/t*zg(ne));(ee-=2*ie)>Lg?(v+=ie*=r?1:-1,Q-=ie):(ee=0,v=Q=(n+a)/2),(te-=2*se)>Lg?(u+=se*=r?1:-1,g-=se):(te=0,u=g=(n+a)/2)}var de=t*kg(u),z=t*zg(u),R=e*kg(Q),L=e*zg(Q);if(N>Lg){var D=t*kg(g),U=t*zg(g),q=e*kg(v),O=e*zg(v);if(o<Dg){var Y=ee>Lg?function(d,t,n,e,r,i,o,a){var p=n-d,u=e-t,c=o-r,s=a-i,l=(c*(t-i)-s*(d-r))/(s*p-c*u);return[d+l*p,t+l*u]}(de,z,q,O,D,U,R,L):[R,L],B=de-Y[0],F=z-Y[1],I=D-Y[0],j=U-Y[1],H=1/zg((1<(p=(B*I+F*j)/(Rg(B*B+F*F)*Rg(I*I+j*j)))?0:-1>p?Dg:Km(p))/2),X=Rg(Y[0]*Y[0]+Y[1]*Y[1]);S=Pg(N,(e-X)/(H-1)),ae=Pg(N,(t-X)/(H+1))}}te>Lg?ae>Lg?(oe=ah(q,O,de,z,t,ae,r),re=ah(D,U,R,L,t,ae,r),Z.moveTo(oe.cx+oe.x01,oe.cy+oe.y01),ae<N?Z.arc(oe.cx,oe.cy,ae,Eg(oe.y01,oe.x01),Eg(re.y01,re.x01),!r):(Z.arc(oe.cx,oe.cy,ae,Eg(oe.y01,oe.x01),Eg(oe.y11,oe.x11),!r),Z.arc(0,0,t,Eg(oe.cy+oe.y11,oe.cx+oe.x11),Eg(re.cy+re.y11,re.cx+re.x11),!r),Z.arc(re.cx,re.cy,ae,Eg(re.y11,re.x11),Eg(re.y01,re.x01),!r))):(Z.moveTo(de,z),Z.arc(0,0,t,u,g,!r)):Z.moveTo(de,z),e>Lg&&ee>Lg?S>Lg?(oe=ah(R,L,D,U,e,-S,r),re=ah(de,z,q,O,e,-S,r),Z.lineTo(oe.cx+oe.x01,oe.cy+oe.y01),S<N?Z.arc(oe.cx,oe.cy,S,Eg(oe.y01,oe.x01),Eg(re.y01,re.x01),!r):(Z.arc(oe.cx,oe.cy,S,Eg(oe.y01,oe.x01),Eg(oe.y11,oe.x11),!r),Z.arc(0,0,e,Eg(oe.cy+oe.y11,oe.cx+oe.x11),Eg(re.cy+re.y11,re.cx+re.x11),r),Z.arc(re.cx,re.cy,S,Eg(re.y11,re.x11),Eg(re.y01,re.x01),!r))):Z.arc(0,0,e,Q,v,r):Z.lineTo(R,L)}return(Z.closePath(),i)?(Z=null,i+""||null):void 0}var V=qf,W=$f,c=Hf(0),f=null,$=Yf,J=Xf,K=Zf,Z=null;return s.centroid=function(){var t=(+V.apply(this,arguments)+ +W.apply(this,arguments))/2,e=(+$.apply(this,arguments)+ +J.apply(this,arguments))/2-Dg/2;return[kg(e)*t,zg(e)*t]},s.innerRadius=function(e){return arguments.length?(V="function"==typeof e?e:Hf(+e),s):V},s.outerRadius=function(e){return arguments.length?(W="function"==typeof e?e:Hf(+e),s):W},s.cornerRadius=function(e){return arguments.length?(c="function"==typeof e?e:Hf(+e),s):c},s.padRadius=function(e){return arguments.length?(f=null==e?null:"function"==typeof e?e:Hf(+e),s):f},s.startAngle=function(e){return arguments.length?($="function"==typeof e?e:Hf(+e),s):$},s.endAngle=function(e){return arguments.length?(J="function"==typeof e?e:Hf(+e),s):J},s.padAngle=function(e){return arguments.length?(K="function"==typeof e?e:Hf(+e),s):K},s.context=function(e){return arguments.length?(Z=null==e?null:e,s):Z},s},G.area=uh,G.line=ph,G.pie=function(){function s(e){var t=e.length,n=0,a=Array(t),o=Array(t),r=+E.apply(this,arguments),i=r_(qg,f_(-qg,k.apply(this,arguments)-r)),p=r_(d_(i)/t,T.apply(this,arguments)),h=p*(0>i?-1:1),_,y,b,v,w;for(_=0;_<t;++_)0<(w=o[a[_]=_]=+d(e[_],_,e))&&(n+=w);for(null==m?null!=x&&a.sort(function(a,t){return x(e[a],e[t])}):a.sort(function(n,t){return m(o[n],o[t])}),_=0,b=n?(i-t*h)/n:0;_<t;++_,r=v)y=a[_],v=r+(0<(w=o[y])?w*b:0)+h,o[y]={data:e[y],index:_,value:w,startAngle:r,endAngle:v,padAngle:p};return o}var d=hh,m=fh,x=null,E=Hf(0),k=Hf(qg),T=Hf(0);return s.value=function(e){return arguments.length?(d="function"==typeof e?e:Hf(+e),s):d},s.sortValues=function(e){return arguments.length?(m=e,x=null,s):m},s.sort=function(e){return arguments.length?(x=e,m=null,s):x},s.startAngle=function(e){return arguments.length?(E="function"==typeof e?e:Hf(+e),s):E},s.endAngle=function(e){return arguments.length?(k="function"==typeof e?e:Hf(+e),s):k},s.padAngle=function(e){return arguments.length?(T="function"==typeof e?e:Hf(+e),s):T},s},G.areaRadial=bh,G.radialArea=bh,G.lineRadial=yh,G.radialLine=yh,G.pointRadial=xh,G.linkHorizontal=function(){return Sh(Ch)},G.linkVertical=function(){return Sh(Ah)},G.linkRadial=function(){var e=Sh(Ph);return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e},G.symbol=function(){function a(){var e;if(s||(s=e=Ar()),o.apply(this,arguments).draw(s,+i.apply(this,arguments)),e)return s=null,e+""||null}var o=Hf(uy),i=Hf(64),s=null;return a.type=function(e){return arguments.length?(o="function"==typeof e?e:Hf(e),a):o},a.size=function(e){return arguments.length?(i="function"==typeof e?e:Hf(+e),a):i},a.context=function(e){return arguments.length?(s=null==e?null:e,a):s},a},G.symbols=[uy,py,gy,wy,xy,Ay,Sy],G.symbolCircle=uy,G.symbolCross=py,G.symbolDiamond=gy,G.symbolSquare=wy,G.symbolStar=xy,G.symbolTriangle=Ay,G.symbolWye=Sy,G.curveBasisClosed=function(e){return new xg(e)},G.curveBasisOpen=function(e){return new wg(e)},G.curveBasis=function(e){return new mg(e)},G.curveBundle=ky,G.curveCardinalClosed=By,G.curveCardinalOpen=Iy,G.curveCardinal=qy,G.curveCatmullRomClosed=Vy,G.curveCatmullRomOpen=Wy,G.curveCatmullRom=Hy,G.curveLinearClosed=function(e){return new $g(e)},G.curveLinear=sh,G.curveMonotoneX=function(e){return new Zg(e)},G.curveMonotoneY=function(e){return new Qg(e)},G.curveNatural=function(e){return new tm(e)},G.curveStep=function(e){return new am(e,.5)},G.curveStepAfter=function(e){return new am(e,1)},G.curveStepBefore=function(e){return new am(e,0)},G.stack=function(){function a(e){var t=g.apply(this,arguments),n=e.length,r=t.length,u=Array(r),s,f;for(s=0;s<r;++s){for(var _=t[s],h=u[s]=Array(n),d=0,y;d<n;++d)h[d]=y=[0,+c(e[d],_,d,e)],y.data=e[d];h.key=_}for(s=0,f=i(u);s<r;++s)u[f[s]].index=s;return m(u,f),u}var g=Hf([]),i=rm,m=om,c=im;return a.keys=function(e){return arguments.length?(g="function"==typeof e?e:Hf(ty.call(e)),a):g},a.value=function(e){return arguments.length?(c="function"==typeof e?e:Hf(+e),a):c},a.order=function(e){return arguments.length?(i=null==e?rm:"function"==typeof e?e:Hf(ty.call(e)),a):i},a.offset=function(e){return arguments.length?(m=null==e?om:e,a):m},a},G.stackOffsetExpand=function(s,t){if(0<(l=s.length)){for(var n=0,d=s[0].length,a,l,p;n<d;++n){for(p=a=0;a<l;++a)p+=s[a][n][1]||0;if(p)for(a=0;a<l;++a)s[a][n][1]/=p}om(s,t)}},G.stackOffsetDiverging=function(s,t){if(1<(m=s.length))for(var n=0,d=s[t[0]].length,l,p,c,h,g,m;n<d;++n)for(h=g=0,l=0;l<m;++l)0<=(c=(p=s[t[l]][n])[1]-p[0])?(p[0]=h,p[1]=h+=c):0>c?(p[1]=g,p[0]=g+=c):p[0]=h},G.stackOffsetNone=om,G.stackOffsetSilhouette=function(s,t){if(0<(o=s.length)){for(var n=0,d=s[t[0]],i=d.length,o;n<i;++n){for(var l=0,p=0;l<o;++l)p+=s[l][n][1]||0;d[n][1]+=d[n][0]=-p/2}om(s,t)}},G.stackOffsetWiggle=function(g,t){if(0<(b=g.length)&&0<(y=(_=g[t[0]]).length)){for(var n=0,m=1,_,y,b;m<y;++m){for(var x=0,v=0,E=0;x<b;++x){for(var k=g[t[x]],s=k[m][1]||0,l=(s-(k[m-1][1]||0))/2,T=0,w;T<x;++T)w=g[t[T]],l+=(w[m][1]||0)-(w[m-1][1]||0);v+=s,E+=l*s}_[m-1][1]+=_[m-1][0]=n,v&&(n-=E/v)}_[m-1][1]+=_[m-1][0]=n,om(g,t)}},G.stackOrderAscending=sm,G.stackOrderDescending=function(e){return sm(e).reverse()},G.stackOrderInsideOut=function(s){var t=s.length,r=s.map(dm),i=rm(s).sort(function(e,t){return r[t]-r[e]}),o=0,d=0,l=[],p=[],c,f;for(c=0;c<t;++c)f=i[c],o<d?(o+=r[f],l.push(f)):(d+=r[f],p.push(f));return p.reverse().concat(l)},G.stackOrderNone=rm,G.stackOrderReverse=function(e){return rm(e).reverse()},G.timeInterval=Mf,G.timeMillisecond=Nh,G.timeMilliseconds=Eh,G.utcMillisecond=Nh,G.utcMilliseconds=Eh,G.timeSecond=kh,G.timeSeconds=zh,G.utcSecond=kh,G.utcSeconds=zh,G.timeMinute=Rh,G.timeMinutes=Lh,G.timeHour=Dh,G.timeHours=Uh,G.timeDay=qh,G.timeDays=Oh,G.timeWeek=Yh,G.timeWeeks=Vh,G.timeSunday=Yh,G.timeSundays=Vh,G.timeMonday=Fh,G.timeMondays=$h,G.timeTuesday=Ih,G.timeTuesdays=Wh,G.timeWednesday=jh,G.timeWednesdays=Zh,G.timeThursday=Hh,G.timeThursdays=Qh,G.timeFriday=Xh,G.timeFridays=Jh,G.timeSaturday=Gh,G.timeSaturdays=Kh,G.timeMonth=td,G.timeMonths=nd,G.timeYear=ed,G.timeYears=rd,G.utcMinute=id,G.utcMinutes=od,G.utcHour=ad,G.utcHours=ud,G.utcDay=fd,G.utcDays=cd,G.utcWeek=sd,G.utcWeeks=_d,G.utcSunday=sd,G.utcSundays=_d,G.utcMonday=hd,G.utcMondays=bd,G.utcTuesday=dd,G.utcTuesdays=md,G.utcWednesday=pd,G.utcWednesdays=xd,G.utcThursday=vd,G.utcThursdays=wd,G.utcFriday=gd,G.utcFridays=Md,G.utcSaturday=yd,G.utcSaturdays=Ad,G.utcMonth=Td,G.utcMonths=Nd,G.utcYear=Sd,G.utcYears=Ed,G.timeFormatDefaultLocale=Hp,G.timeFormatLocale=zd,G.isoFormat=xb,G.isoParse=Gp,G.now=He,G.timer=Mn,G.timerFlush=Dn,G.timeout=Un,G.interval=function(s,t,d){var l=new On,r=t;return null==t?(l.restart(s,t,d),l):(t=+t,d=null==d?He():+d,l.restart(function e(n){n+=r,l.restart(e,r+=t,d),s(n)},t,d),l)},G.transition=No,G.active=function(a,t){var o=a.__transition,i,s;if(o)for(s in t=null==t?null:t+"",o)if((i=o[s]).state>1&&i.name===t)return new Ao([[a]],ci,t,+s);return null},G.interrupt=da,G.voronoi=function(){function a(t){return new Bm(t.map(function(n,e){var a=[i_(s(n,e,t)/D_)*D_,i_(d(n,e,t)/D_)*D_];return a.index=e,a.data=n,a}),o)}var s=pm,d=cm,o=null;return a.polygons=function(e){return a(e).polygons()},a.links=function(e){return a(e).links()},a.triangles=function(e){return a(e).triangles()},a.x=function(e){return arguments.length?(s="function"==typeof e?e:lm(+e),a):s},a.y=function(e){return arguments.length?(d="function"==typeof e?e:lm(+e),a):d},a.extent=function(e){return arguments.length?(o=null==e?null:[[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]],a):o&&[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},a.size=function(e){return arguments.length?(o=null==e?null:[[0,0],[+e[0],+e[1]]],a):o&&[o[1][0]-o[0][0],o[1][1]-o[0][1]]},a},G.zoom=function(){function p(e){e.property("__zoom",Wm).on("wheel.zoom",w).on("mousedown.zoom",C).on("dblclick.zoom",T).filter(N).on("touchstart.zoom",A).on("touchmove.zoom",S).on("touchend.zoom touchcancel.zoom",E).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function y(e,t){return(t=f_(M[0],r_(M[1],t)))===e.k?e:new zm(t,e.x,e.y)}function _(a,t,n){var e=t[0]-n[0]*a.k,o=t[1]-n[1]*a.k;return e===a.x&&o===a.y?a:new zm(a.k,e,o)}function b(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function m(a,i,n){a.on("start.zoom",function(){x(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){x(this,arguments).end()}).tween("zoom",function(){var e=arguments,d=x(this,e),t=P.apply(this,e),o=n||b(t),a=f_(t[1][0]-t[0][0],t[1][1]-t[0][1]),r=this.__zoom,l="function"==typeof i?i.apply(this,e):i,p=B(r.invert(o).concat(a/r.k),l.invert(o).concat(a/l.k));return function(r){if(1===r)r=l;else{var i=p(r),n=a/i[2];r=new zm(n,o[0]-i[0]*n,o[1]-i[1]*n)}d.zoom(null,r)}})}function x(a,t){for(var n=0,o=f.length,i;n<o;++n)if((i=f[n]).that===a)return i;return new v(a,t)}function v(e,t){this.that=e,this.args=t,this.index=-1,this.active=0,this.extent=P.apply(e,t)}function w(){if(k.apply(this,arguments)){var a=x(this,arguments),t=this.__zoom,n=f_(M[0],r_(M[1],t.k*l_(2,L.apply(this,arguments)))),e=Lt(this);if(a.wheel)a.mouse[0][0]===e[0]&&a.mouse[0][1]===e[1]||(a.mouse[1]=t.invert(a.mouse[0]=e)),clearTimeout(a.wheel);else{if(t.k===n)return;a.mouse=[e,t.invert(e)],da(this),a.start()}Um(),a.wheel=setTimeout(function(){a.wheel=null,a.end()},150),a.zoom("mouse",I(_(y(t,n),a.mouse[0],a.mouse[1]),a.extent,D))}}function C(){if(!j&&k.apply(this,arguments)){var t=x(this,arguments),e=wt(G.event.view).on("mousemove.zoom",function(){if(Um(),!t.moved){var n=G.event.clientX-a,e=G.event.clientY-o;t.moved=n*n+e*e>d}t.zoom("mouse",I(_(t.that.__zoom,t.mouse[0]=Lt(t.that),t.mouse[1]),t.extent,D))},!0).on("mouseup.zoom",function(){e.on("mousemove.zoom mouseup.zoom",null),Dt(G.event.view,t.moved),Um(),t.end()},!0),n=Lt(this),a=G.event.clientX,o=G.event.clientY;Mt(G.event.view),Vm(),t.mouse=[n,this.__zoom.invert(n)],da(this),t.start()}}function T(){if(k.apply(this,arguments)){var t=this.__zoom,n=Lt(this),e=t.invert(n),a=t.k*(G.event.shiftKey?.5:2),o=I(_(y(t,a),n,e),P.apply(this,arguments),D);Um(),0<c?wt(this).transition().duration(c).call(m,o,n):wt(this).call(p.transform,o)}}function A(){if(k.apply(this,arguments)){var n=x(this,arguments),r=G.event.changedTouches,s=r.length,d,l,p,c;for(Vm(),l=0;l<s;++l)c=[c=Nt(this,r,(p=r[l]).identifier),this.__zoom.invert(c),p.identifier],n.touch0?n.touch1||(n.touch1=c):(n.touch0=c,d=!0);if(t&&(t=clearTimeout(t),!n.touch1))return n.end(),void((c=wt(this).on("dblclick.zoom"))&&c.apply(this,arguments));d&&(t=setTimeout(function(){t=null},500),da(this),n.start())}}function S(){var n=x(this,arguments),o=G.event.changedTouches,c=o.length,s,u,f,m;for(Um(),t&&(t=clearTimeout(t)),s=0;s<c;++s)f=Nt(this,o,(u=o[s]).identifier),n.touch0&&n.touch0[2]===u.identifier?n.touch0[0]=f:n.touch1&&n.touch1[2]===u.identifier&&(n.touch1[0]=f);if(u=n.that.__zoom,n.touch1){var b=n.touch0[0],l=n.touch0[1],h=n.touch1[0],d=n.touch1[1],p=(p=h[0]-b[0])*p+(p=h[1]-b[1])*p,E=(E=d[0]-l[0])*E+(E=d[1]-l[1])*E;u=y(u,g_(p/E)),f=[(b[0]+h[0])/2,(b[1]+h[1])/2],m=[(l[0]+d[0])/2,(l[1]+d[1])/2]}else{if(!n.touch0)return;f=n.touch0[0],m=n.touch0[1]}n.zoom("touch",I(_(u,f,m),n.extent,D))}function E(){var e=x(this,arguments),t=G.event.changedTouches,o=t.length,a,i;for(Vm(),j&&clearTimeout(j),j=setTimeout(function(){j=null},500),a=0;a<o;++a)i=t[a],e.touch0&&e.touch0[2]===i.identifier?delete e.touch0:e.touch1&&e.touch1[2]===i.identifier&&delete e.touch1;e.touch1&&!e.touch0&&(e.touch0=e.touch1,delete e.touch1),e.touch0?e.touch0[1]=this.__zoom.invert(e.touch0[0]):e.end()}var k=Gm,P=Hm,I=Ym,L=qm,N=$m,M=[0,1/0],D=[[-1/0,-1/0],[1/0,1/0]],c=250,B=Ue,f=[],h=O("start","zoom","end"),d=0,t,j;return p.transform=function(a,t){var n=a.selection?a.selection():a;n.property("__zoom",Wm),a===n?n.interrupt().each(function(){x(this,arguments).start().zoom(null,"function"==typeof t?t.apply(this,arguments):t).end()}):m(a,t)},p.scaleBy=function(e,t){p.scaleTo(e,function(){return this.__zoom.k*("function"==typeof t?t.apply(this,arguments):t)})},p.scaleTo=function(e,o){p.transform(e,function(){var n=P.apply(this,arguments),t=this.__zoom,e=b(n),r=t.invert(e),a="function"==typeof o?o.apply(this,arguments):o;return I(_(y(t,a),e,r),n,D)})},p.translateBy=function(a,t,n){p.transform(a,function(){return I(this.__zoom.translate("function"==typeof t?t.apply(this,arguments):t,"function"==typeof n?n.apply(this,arguments):n),P.apply(this,arguments),D)})},p.translateTo=function(a,o,n){p.transform(a,function(){var e=P.apply(this,arguments),t=this.__zoom,r=b(e);return I(bx.translate(r[0],r[1]).scale(t.k).translate("function"==typeof o?-o.apply(this,arguments):-o,"function"==typeof n?-n.apply(this,arguments):-n),e,D)})},v.prototype={start:function(){return 1==++this.active&&(this.index=f.push(this)-1,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0==--this.active&&(f.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(e){xt(new Rm(p,e,this.that.__zoom),h.apply,h,[e,this.that,this.args])}},p.wheelDelta=function(e){return arguments.length?(L="function"==typeof e?e:jm(+e),p):L},p.filter=function(e){return arguments.length?(k="function"==typeof e?e:jm(!!e),p):k},p.touchable=function(e){return arguments.length?(N="function"==typeof e?e:jm(!!e),p):N},p.extent=function(e){return arguments.length?(P="function"==typeof e?e:jm([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),p):P},p.scaleExtent=function(e){return arguments.length?(M[0]=+e[0],M[1]=+e[1],p):[M[0],M[1]]},p.translateExtent=function(e){return arguments.length?(D[0][0]=+e[0][0],D[1][0]=+e[1][0],D[0][1]=+e[0][1],D[1][1]=+e[1][1],p):[[D[0][0],D[0][1]],[D[1][0],D[1][1]]]},p.constrain=function(e){return arguments.length?(I=e,p):I},p.duration=function(e){return arguments.length?(c=+e,p):c},p.interpolate=function(e){return arguments.length?(B=e,p):B},p.on=function(){var e=h.on.apply(h,arguments);return e===h?p:e},p.clickDistance=function(e){return arguments.length?(d=(e=+e)*e,p):g_(d)},p},G.zoomTransform=Fm,G.zoomIdentity=bx,Object.defineProperty(G,"__esModule",{value:!0})}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"==typeof window?"undefined"==typeof global?"undefined"==typeof self?this:self:global:window,t.dagre=e()}}(function(){var e=Number.POSITIVE_INFINITY,t=Math.min,n=Math.abs,a=Math.floor,o=Math.max,r=Math.ceil,i;return function d(p,e,t){function a(r,o){if(!e[r]){if(!p[r]){var i="function"==typeof require&&require;if(!o&&i)return i(r,!0);if(n)return n(r,!0);var s=new Error("Cannot find module '"+r+"'");throw s.code="MODULE_NOT_FOUND",s}var c=e[r]={exports:{}};p[r][0].call(c.exports,function(t){var e=p[r][1][t];return a(e?e:t)},c,c.exports,d,p,e,t)}return e[r].exports}for(var n="function"==typeof require&&require,r=0;r<t.length;r++)a(t[r]);return a}({1:[function(e,t){t.exports={graphlib:e("./lib/graphlib"),layout:e("./lib/layout"),debug:e("./lib/debug"),util:{time:e("./lib/util").time,notime:e("./lib/util").notime},version:e("./lib/version")}},{"./lib/debug":6,"./lib/graphlib":7,"./lib/layout":9,"./lib/util":29,"./lib/version":30}],2:[function(e,t){"use strict";function n(e){function t(i){a.has(r,i)||(r[i]=!0,o[i]=!0,a.forEach(e.outEdges(i),function(r){a.has(o,r.w)?n.push(r):t(r.w)}),delete o[i])}var n=[],o={},r={};return a.forEach(e.nodes(),t),n}var a=e("./lodash"),o=e("./greedy-fas");t.exports={run:function(t){var e="greedy"===t.graph().acyclicer?o(t,function(t){return function(n){return t.edge(n).weight}}(t)):n(t);a.forEach(e,function(n){var e=t.edge(n);t.removeEdge(n),e.forwardName=n.name,e.reversed=!0,t.setEdge(n.w,n.v,e,a.uniqueId("rev"))})},undo:function(t){a.forEach(t.edges(),function(n){var e=t.edge(n);if(e.reversed){t.removeEdge(n);var a=e.forwardName;delete e.reversed,delete e.forwardName,t.setEdge(n.w,n.v,e,a)}})}}},{"./greedy-fas":8,"./lodash":10}],3:[function(e,t){function n(e,t,n,a,r,i){var s=r[t][i-1],d=o.addDummyNode(e,"border",{width:0,height:0,rank:i,borderType:t},n);r[t][i]=d,e.setParent(d,a),s&&e.setEdge(s,d,{weight:1})}var a=e("./lodash"),o=e("./util");t.exports=function(e){function t(o){var r=e.children(o),i=e.node(o);if(r.length&&a.forEach(r,t),a.has(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var s=i.minRank,d=i.maxRank+1;s<d;++s)n(e,"borderLeft","_bl",o,i,s),n(e,"borderRight","_br",o,i,s)}}a.forEach(e.children(),t)}},{"./lodash":10,"./util":29}],4:[function(e,t){"use strict";function n(t){d.forEach(t.nodes(),function(e){a(t.node(e))}),d.forEach(t.edges(),function(n){a(t.edge(n))})}function a(e){var t=e.width;e.width=e.height,e.height=t}function o(t){d.forEach(t.nodes(),function(e){r(t.node(e))}),d.forEach(t.edges(),function(n){var e=t.edge(n);d.forEach(e.points,r),d.has(e,"y")&&r(e)})}function r(e){e.y=-e.y}function i(t){d.forEach(t.nodes(),function(e){s(t.node(e))}),d.forEach(t.edges(),function(n){var e=t.edge(n);d.forEach(e.points,s),d.has(e,"x")&&s(e)})}function s(e){var t=e.x;e.x=e.y,e.y=t}var d=e("./lodash");t.exports={adjust:function(e){var t=e.graph().rankdir.toLowerCase();("lr"===t||"rl"===t)&&n(e)},undo:function(e){var t=e.graph().rankdir.toLowerCase();("bt"===t||"rl"===t)&&o(e),("lr"===t||"rl"===t)&&(i(e),n(e))}}},{"./lodash":10}],5:[function(e,t){function n(){var e={};e._next=e._prev=e,this._sentinel=e}function a(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function o(e,t){if("_next"!==e&&"_prev"!==e)return t}t.exports=n,n.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return a(t),t},n.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&a(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t},n.prototype.toString=function(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,o)),n=n._prev;return"["+e.join(", ")+"]"}},{}],6:[function(e,t){var n=e("./lodash"),a=e("./util"),o=e("./graphlib").Graph;t.exports={debugOrdering:function(e){var t=a.buildLayerMatrix(e),r=new o({compound:!0,multigraph:!0}).setGraph({});return n.forEach(e.nodes(),function(t){r.setNode(t,{label:t}),r.setParent(t,"layer"+e.node(t).rank)}),n.forEach(e.edges(),function(t){r.setEdge(t.v,t.w,{},t.name)}),n.forEach(t,function(e,t){r.setNode("layer"+t,{rank:"same"}),n.reduce(e,function(e,t){return r.setEdge(e,t,{style:"invis"}),t})}),r}}},{"./graphlib":7,"./lodash":10,"./util":29}],7:[function(e,t){var n;if("function"==typeof e)try{n=e("graphlib")}catch(t){}n||(n=window.graphlib),t.exports=n},{graphlib:31}],8:[function(e,t){function n(e,t,n){for(var o=[],r=t[t.length-1],s=t[0],d;e.nodeCount();){for(;d=s.dequeue();)a(e,t,n,d);for(;d=r.dequeue();)a(e,t,n,d);if(e.nodeCount())for(var l=t.length-2;0<l;--l)if(d=t[l].dequeue(),d){o=o.concat(a(e,t,n,d,!0));break}}return o}function a(e,t,n,a,o){var r=o?[]:void 0;return s.forEach(e.inEdges(a.v),function(a){var s=e.edge(a),d=e.node(a.v);o&&r.push({v:a.v,w:a.w}),d.out-=s,i(t,n,d)}),s.forEach(e.outEdges(a.v),function(a){var o=e.edge(a),r=a.w,s=e.node(r);s["in"]-=o,i(t,n,s)}),e.removeNode(a.v),r}function r(e,t){var n=new d,a=0,r=0;s.forEach(e.nodes(),function(e){n.setNode(e,{v:e,in:0,out:0})}),s.forEach(e.edges(),function(i){var e=n.edge(i.v,i.w)||0,s=t(i);n.setEdge(i.v,i.w,e+s),r=o(r,n.node(i.v).out+=s),a=o(a,n.node(i.w)["in"]+=s)});var p=s.range(r+a+3).map(function(){return new l}),c=a+1;return s.forEach(n.nodes(),function(e){i(p,c,n.node(e))}),{graph:n,buckets:p,zeroIdx:c}}function i(e,t,n){n.out?n["in"]?e[n.out-n["in"]+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}var s=e("./lodash"),d=e("./graphlib").Graph,l=e("./data/list");t.exports=function(t,e){if(1>=t.nodeCount())return[];var a=r(t,e||p),o=n(a.graph,a.buckets,a.zeroIdx);return s.flatten(s.map(o,function(n){return t.outEdges(n.v,n.w)}),!0)};var p=s.constant(1)},{"./data/list":5,"./graphlib":7,"./lodash":10}],9:[function(a,r){"use strict";function i(e,t){t("    makeSpaceForEdgeLabels",function(){l(e)}),t("    removeSelfEdges",function(){x(e)}),t("    acyclic",function(){_.run(e)}),t("    nestingGraph.run",function(){L.run(e)}),t("    rank",function(){C(B.asNonCompoundGraph(e))}),t("    injectEdgeLabelProxies",function(){p(e)}),t("    removeEmptyRanks",function(){I(e)}),t("    nestingGraph.cleanup",function(){L.cleanup(e)}),t("    normalizeRanks",function(){A(e)}),t("    assignRankMinMax",function(){c(e)}),t("    removeEdgeLabelProxies",function(){u(e)}),t("    normalize.run",function(){S.run(e)}),t("    parentDummyChains",function(){P(e)}),t("    addBorderSegments",function(){N(e)}),t("    order",function(){M(e)}),t("    insertSelfEdges",function(){v(e)}),t("    adjustCoordinateSystem",function(){O.adjust(e)}),t("    position",function(){D(e)}),t("    positionSelfEdges",function(){E(e)}),t("    removeBorderNodes",function(){b(e)}),t("    normalize.undo",function(){S.undo(e)}),t("    fixupEdgeLabelCoords",function(){m(e)}),t("    undoCoordinateSystem",function(){O.undo(e)}),t("    translateGraph",function(){f(e)}),t("    assignNodeIntersects",function(){h(e)}),t("    reversePoints",function(){y(e)}),t("    acyclic.undo",function(){_.undo(e)})}function s(t,n){w.forEach(t.nodes(),function(e){var a=t.node(e),o=n.node(e);a&&(a.x=o.x,a.y=o.y,n.children(e).length&&(a.width=o.width,a.height=o.height))}),w.forEach(t.edges(),function(a){var e=t.edge(a),o=n.edge(a);e.points=o.points,w.has(o,"x")&&(e.x=o.x,e.y=o.y)}),t.graph().width=n.graph().width,t.graph().height=n.graph().height}function d(t){var n=new j({multigraph:!0,compound:!0}),e=T(t.graph());return n.setGraph(w.merge({},z,k(e,R),w.pick(e,F))),w.forEach(t.nodes(),function(e){var a=T(t.node(e));n.setNode(e,w.defaults(k(a,V),U)),n.setParent(e,t.parent(e))}),w.forEach(t.edges(),function(a){var e=T(t.edge(a));n.setEdge(a,w.merge({},H,k(e,G),w.pick(e,W)))}),n}function l(t){var n=t.graph();n.ranksep/=2,w.forEach(t.edges(),function(a){var e=t.edge(a);e.minlen*=2,"c"!==e.labelpos.toLowerCase()&&("TB"===n.rankdir||"BT"===n.rankdir?e.width+=e.labeloffset:e.height+=e.labeloffset)})}function p(t){w.forEach(t.edges(),function(n){var e=t.edge(n);if(e.width&&e.height){var a=t.node(n.v),o=t.node(n.w),r={rank:(o.rank-a.rank)/2+a.rank,e:n};B.addDummyNode(t,"edge-proxy",r,"_ep")}})}function c(e){var t=0;w.forEach(e.nodes(),function(n){var a=e.node(n);a.borderTop&&(a.minRank=e.node(a.borderTop).rank,a.maxRank=e.node(a.borderBottom).rank,t=w.max(t,a.maxRank))}),e.graph().maxRank=t}function u(e){w.forEach(e.nodes(),function(t){var n=e.node(t);"edge-proxy"===n.dummy&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))})}function f(n){function a(e){var n=e.x,a=e.y,l=e.width,p=e.height;r=t(r,n-l/2),i=o(i,n+l/2),s=t(s,a-p/2),d=o(d,a+p/2)}var r=e,i=0,s=e,d=0,l=n.graph(),p=l.marginx||0,c=l.marginy||0;w.forEach(n.nodes(),function(e){a(n.node(e))}),w.forEach(n.edges(),function(t){var e=n.edge(t);w.has(e,"x")&&a(e)}),r-=p,s-=c,w.forEach(n.nodes(),function(e){var t=n.node(e);t.x-=r,t.y-=s}),w.forEach(n.edges(),function(t){var e=n.edge(t);w.forEach(e.points,function(e){e.x-=r,e.y-=s}),w.has(e,"x")&&(e.x-=r),w.has(e,"y")&&(e.y-=s)}),l.width=i-r+p,l.height=d-s+c}function h(t){w.forEach(t.edges(),function(n){var e=t.edge(n),a=t.node(n.v),o=t.node(n.w),r,i;e.points?(r=e.points[0],i=e.points[e.points.length-1]):(e.points=[],r=o,i=a),e.points.unshift(B.intersectRect(a,r)),e.points.push(B.intersectRect(o,i))})}function m(t){w.forEach(t.edges(),function(n){var e=t.edge(n);if(w.has(e,"x"))switch(("l"===e.labelpos||"r"===e.labelpos)&&(e.width-=e.labeloffset),e.labelpos){case"l":e.x-=e.width/2+e.labeloffset;break;case"r":e.x+=e.width/2+e.labeloffset;}})}function y(t){w.forEach(t.edges(),function(n){var e=t.edge(n);e.reversed&&e.points.reverse()})}function b(e){w.forEach(e.nodes(),function(a){if(e.children(a).length){var o=e.node(a),i=e.node(o.borderTop),t=e.node(o.borderBottom),s=e.node(w.last(o.borderLeft)),d=e.node(w.last(o.borderRight));o.width=n(d.x-s.x),o.height=n(t.y-i.y),o.x=s.x+o.width/2,o.y=i.y+o.height/2}}),w.forEach(e.nodes(),function(t){"border"===e.node(t).dummy&&e.removeNode(t)})}function x(t){w.forEach(t.edges(),function(n){if(n.v===n.w){var e=t.node(n.v);e.selfEdges||(e.selfEdges=[]),e.selfEdges.push({e:n,label:t.edge(n)}),t.removeEdge(n)}})}function v(e){var t=B.buildLayerMatrix(e);w.forEach(t,function(t){var n=0;w.forEach(t,function(t,a){var o=e.node(t);o.order=a+n,w.forEach(o.selfEdges,function(t){B.addDummyNode(e,"selfedge",{width:t.label.width,height:t.label.height,rank:o.rank,order:a+ ++n,e:t.e,label:t.label},"_se")}),delete o.selfEdges})})}function E(e){w.forEach(e.nodes(),function(t){var n=e.node(t);if("selfedge"===n.dummy){var a=e.node(n.e.v),o=a.x+a.width/2,r=a.y,i=n.x-o,s=a.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:o+2*i/3,y:r-s},{x:o+5*i/6,y:r-s},{x:o+i,y:r},{x:o+5*i/6,y:r+s},{x:o+2*i/3,y:r+s}],n.label.x=n.x,n.label.y=n.y}})}function k(e,t){return w.mapValues(w.pick(e,t),Number)}function T(e){var t={};return w.forEach(e,function(e,n){t[n.toLowerCase()]=e}),t}var w=a("./lodash"),_=a("./acyclic"),S=a("./normalize"),C=a("./rank"),A=a("./util").normalizeRanks,P=a("./parent-dummy-chains"),I=a("./util").removeEmptyRanks,L=a("./nesting-graph"),N=a("./add-border-segments"),O=a("./coordinate-system"),M=a("./order"),D=a("./position"),B=a("./util"),j=a("./graphlib").Graph;r.exports=function(e,t){var n=t&&t.debugTiming?B.time:B.notime;n("layout",function(){var t=n("  buildLayoutGraph",function(){return d(e)});n("  runLayout",function(){i(t,n)}),n("  updateInputGraph",function(){s(e,t)})})};var R=["nodesep","edgesep","ranksep","marginx","marginy"],z={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},F=["acyclicer","ranker","rankdir","align"],V=["width","height"],U={width:0,height:0},G=["minlen","weight","width","height","labeloffset"],H={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},W=["labelpos"]},{"./acyclic":2,"./add-border-segments":3,"./coordinate-system":4,"./graphlib":7,"./lodash":10,"./nesting-graph":11,"./normalize":12,"./order":17,"./parent-dummy-chains":22,"./position":24,"./rank":26,"./util":29}],10:[function(e,t){var n;if("function"==typeof e)try{n=e("lodash")}catch(t){}n||(n=window._),t.exports=n},{lodash:51}],11:[function(e,t){function n(e,t,a,o,s,d,l){var p=e.children(l);if(!p.length)return void(l!==t&&e.setEdge(t,l,{weight:0,minlen:a}));var c=i.addBorderNode(e,"_bt"),u=i.addBorderNode(e,"_bb"),f=e.node(l);e.setParent(c,l),f.borderTop=c,e.setParent(u,l),f.borderBottom=u,r.forEach(p,function(r){n(e,t,a,o,s,d,r);var i=e.node(r),p=i.borderTop?i.borderTop:r,f=i.borderBottom?i.borderBottom:r,h=i.borderTop?o:2*o,g=p===f?s-d[l]+1:1;e.setEdge(c,p,{weight:h,minlen:g,nestingEdge:!0}),e.setEdge(f,u,{weight:h,minlen:g,nestingEdge:!0})}),e.parent(l)||e.setEdge(t,c,{weight:0,minlen:s+d[l]})}function a(e){function t(a,o){var i=e.children(a);i&&i.length&&r.forEach(i,function(e){t(e,o+1)}),n[a]=o}var n={};return r.forEach(e.children(),function(e){t(e,1)}),n}function o(t){return r.reduce(t.edges(),function(n,a){return n+t.edge(a).weight},0)}var r=e("./lodash"),i=e("./util");t.exports={run:function(t){var e=i.addDummyNode(t,"root",{},"_root"),s=a(t),d=r.max(r.values(s))-1,l=2*d+1;t.graph().nestingRoot=e,r.forEach(t.edges(),function(n){t.edge(n).minlen*=l});var p=o(t)+1;r.forEach(t.children(),function(a){n(t,e,l,p,d,s,a)}),t.graph().nodeRankFactor=l},cleanup:function(t){var e=t.graph();t.removeNode(e.nestingRoot),delete e.nestingRoot,r.forEach(t.edges(),function(n){var e=t.edge(n);e.nestingEdge&&t.removeEdge(n)})}}},{"./lodash":10,"./util":29}],12:[function(e,t){"use strict";function n(t,n){var e=n.v,a=t.node(e).rank,r=n.w,s=t.node(r).rank,d=n.name,l=t.edge(n),p=l.labelRank;if(s!==a+1){t.removeEdge(n);var c,u,f;for(f=0,++a;a<s;++f,++a)l.points=[],u={width:0,height:0,edgeLabel:l,edgeObj:n,rank:a},c=o.addDummyNode(t,"edge",u,"_d"),a===p&&(u.width=l.width,u.height=l.height,u.dummy="edge-label",u.labelpos=l.labelpos),t.setEdge(e,c,{weight:l.weight},d),0===f&&t.graph().dummyChains.push(c),e=c;t.setEdge(e,r,{weight:l.weight},d)}}var a=e("./lodash"),o=e("./util");t.exports={run:function(e){e.graph().dummyChains=[],a.forEach(e.edges(),function(t){n(e,t)})},undo:function(e){a.forEach(e.graph().dummyChains,function(t){var n=e.node(t),a=n.edgeLabel,o;for(e.setEdge(n.edgeObj,a);n.dummy;)o=e.successors(t)[0],e.removeNode(t),a.points.push({x:n.x,y:n.y}),"edge-label"===n.dummy&&(a.x=n.x,a.y=n.y,a.width=n.width,a.height=n.height),t=o,n=e.node(t)})}}},{"./lodash":10,"./util":29}],13:[function(e,t){var n=e("../lodash");t.exports=function(e,t,a){var o={},r;n.forEach(a,function(n){for(var a=e.parent(n),i,s;a;){if(i=e.parent(a),i?(s=o[i],o[i]=a):(s=r,r=a),s&&s!==a)return void t.setEdge(s,a);a=i}})}},{"../lodash":10}],14:[function(e,t){var n=e("../lodash");t.exports=function(t,e){return n.map(e,function(e){var a=t.inEdges(e);if(!a.length)return{v:e};var o=n.reduce(a,function(n,a){var e=t.edge(a),o=t.node(a.v);return{sum:n.sum+e.weight*o.order,weight:n.weight+e.weight}},{sum:0,weight:0});return{v:e,barycenter:o.sum/o.weight,weight:o.weight}})}},{"../lodash":10}],15:[function(e,t){function n(e){for(var t;e.hasNode(t=a.uniqueId("_root")););return t}var a=e("../lodash"),o=e("../graphlib").Graph;t.exports=function(t,e,r){var i=n(t),s=new o({compound:!0}).setGraph({root:i}).setDefaultNodeLabel(function(e){return t.node(e)});return a.forEach(t.nodes(),function(n){var o=t.node(n),d=t.parent(n);(o.rank===e||o.minRank<=e&&e<=o.maxRank)&&(s.setNode(n),s.setParent(n,d||i),a.forEach(t[r](n),function(o){var e=o.v===n?o.w:o.v,r=s.edge(e,n),i=a.isUndefined(r)?0:r.weight;s.setEdge(e,n,{weight:t.edge(o).weight+i})}),a.has(o,"minRank")&&s.setNode(n,{borderLeft:o.borderLeft[e],borderRight:o.borderRight[e]}))}),s}},{"../graphlib":7,"../lodash":10}],16:[function(e,t){"use strict";function n(t,e,n){for(var o=a.zipObject(n,a.map(n,function(e,t){return t})),r=a.flatten(a.map(e,function(e){return a.chain(t.outEdges(e)).map(function(n){return{pos:o[n.w],weight:t.edge(n).weight}}).sortBy("pos").value()}),!0),i=1;i<n.length;)i<<=1;var s=2*i-1;i-=1;var d=a.map(Array(s),function(){return 0}),l=0;return a.forEach(r.forEach(function(e){var t=e.pos+i;d[t]+=e.weight;for(var n=0;0<t;)t%2&&(n+=d[t+1]),t=t-1>>1,d[t]+=e.weight;l+=e.weight*n})),l}var a=e("../lodash");t.exports=function(e,t){for(var a=0,o=1;o<t.length;++o)a+=n(e,t[o-1],t[o]);return a}},{"../lodash":10}],17:[function(t,n){"use strict";function a(e,t,n){return s.map(t,function(t){return p(e,t,n)})}function o(e,t){var n=new u;s.forEach(e,function(e){var a=e.graph().root,o=i(e,a,n,t);s.forEach(o.vs,function(t,n){e.node(t).order=n}),c(e,n,o.vs)})}function r(e,t){s.forEach(t,function(t){s.forEach(t,function(t,n){e.node(t).order=n})})}var s=t("../lodash"),d=t("./init-order"),l=t("./cross-count"),i=t("./sort-subgraph"),p=t("./build-layer-graph"),c=t("./add-subgraph-constraints"),u=t("../graphlib").Graph,f=t("../util");n.exports=function(t){var n=f.maxRank(t),p=a(t,s.range(1,n+1),"inEdges"),c=a(t,s.range(n-1,-1,-1),"outEdges"),u=d(t);r(t,u);for(var h=e,g=0,m=0,_;4>m;++g,++m){o(g%2?p:c,2<=g%4),u=f.buildLayerMatrix(t);var y=l(t,u);y<h&&(m=0,_=s.cloneDeep(u),h=y)}r(t,_)}},{"../graphlib":7,"../lodash":10,"../util":29,"./add-subgraph-constraints":13,"./build-layer-graph":15,"./cross-count":16,"./init-order":18,"./sort-subgraph":20}],18:[function(e,t){"use strict";var n=e("../lodash");t.exports=function(e){function t(o){if(!n.has(a,o)){a[o]=!0;var r=e.node(o);i[r.rank].push(o),n.forEach(e.successors(o),t)}}var a={},o=n.filter(e.nodes(),function(t){return!e.children(t).length}),r=n.max(n.map(o,function(t){return e.node(t).rank})),i=n.map(n.range(r+1),function(){return[]}),s=n.sortBy(o,function(t){return e.node(t).rank});return n.forEach(s,t),i}},{"../lodash":10}],19:[function(e,n){"use strict";function a(e){function t(e){return function(t){t.merged||(r.isUndefined(t.barycenter)||r.isUndefined(e.barycenter)||t.barycenter>=e.barycenter)&&o(e,t)}}function n(t){return function(n){n["in"].push(t),0==--n.indegree&&e.push(n)}}for(var a=[];e.length;){var i=e.pop();a.push(i),r.forEach(i["in"].reverse(),t(i)),r.forEach(i.out,n(i))}return r.chain(a).filter(function(e){return!e.merged}).map(function(e){return r.pick(e,["vs","i","barycenter","weight"])}).value()}function o(e,n){var a=0,o=0;e.weight&&(a+=e.barycenter*e.weight,o+=e.weight),n.weight&&(a+=n.barycenter*n.weight,o+=n.weight),e.vs=n.vs.concat(e.vs),e.barycenter=a/o,e.weight=o,e.i=t(n.i,e.i),n.merged=!0}var r=e("../lodash");n.exports=function(e,t){var n={};r.forEach(e,function(e,t){var a=n[e.v]={indegree:0,in:[],out:[],vs:[e.v],i:t};r.isUndefined(e.barycenter)||(a.barycenter=e.barycenter,a.weight=e.weight)}),r.forEach(t.edges(),function(t){var e=n[t.v],a=n[t.w];r.isUndefined(e)||r.isUndefined(a)||(a.indegree++,e.out.push(n[t.w]))});var o=r.filter(n,function(e){return!e.indegree});return a(o)}},{"../lodash":10}],20:[function(e,t){function n(e,t,l,p){var c=e.children(t),u=e.node(t),f=u?u.borderLeft:void 0,h=u?u.borderRight:void 0,g={};f&&(c=r.filter(c,function(e){return e!==f&&e!==h}));var m=i(e,c);r.forEach(m,function(t){if(e.children(t.v).length){var a=n(e,t.v,l,p);g[t.v]=a,r.has(a,"barycenter")&&o(t,a)}});var _=s(m,l);a(_,g);var y=d(_,p);if(f&&(y.vs=r.flatten([f,y.vs,h],!0),e.predecessors(f).length)){var b=e.node(e.predecessors(f)[0]),x=e.node(e.predecessors(h)[0]);r.has(y,"barycenter")||(y.barycenter=0,y.weight=0),y.barycenter=(y.barycenter*y.weight+b.order+x.order)/(y.weight+2),y.weight+=2}return y}function a(e,t){r.forEach(e,function(e){e.vs=r.flatten(e.vs.map(function(e){return t[e]?t[e].vs:e}),!0)})}function o(e,t){r.isUndefined(e.barycenter)?(e.barycenter=t.barycenter,e.weight=t.weight):(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight)}var r=e("../lodash"),i=e("./barycenter"),s=e("./resolve-conflicts"),d=e("./sort");t.exports=n},{"../lodash":10,"./barycenter":14,"./resolve-conflicts":19,"./sort":21}],21:[function(e,t){function n(e,t,n){for(var a;t.length&&(a=o.last(t)).i<=n;)t.pop(),e.push(a.vs),n++;return n}function a(e){return function(t,n){if(t.barycenter<n.barycenter)return-1;return t.barycenter>n.barycenter?1:e?n.i-t.i:t.i-n.i}}var o=e("../lodash"),r=e("../util");t.exports=function(e,t){var i=r.partition(e,function(e){return o.has(e,"barycenter")}),s=i.lhs,d=o.sortBy(i.rhs,function(e){return-e.i}),l=[],p=0,c=0,u=0;s.sort(a(!!t)),u=n(l,d,u),o.forEach(s,function(e){u+=e.vs.length,l.push(e.vs),p+=e.barycenter*e.weight,c+=e.weight,u=n(l,d,u)});var f={vs:o.flatten(l,!0)};return c&&(f.barycenter=p/c,f.weight=c),f}},{"../lodash":10,"../util":29}],22:[function(e,n){function a(e,n,a,r){var i=[],s=[],d=t(n[a].low,n[r].low),l=o(n[a].lim,n[r].lim),p,c;p=a;do p=e.parent(p),i.push(p);while(p&&(n[p].low>d||l>n[p].lim));for(c=p,p=r;(p=e.parent(p))!==c;)s.push(p);return{path:i.concat(s.reverse()),lca:c}}function r(e){function t(o){var r=a;i.forEach(e.children(o),t),n[o]={low:r,lim:a++}}var n={},a=0;return i.forEach(e.children(),t),n}var i=e("./lodash");n.exports=function(e){var t=r(e);i.forEach(e.graph().dummyChains,function(n){for(var o=e.node(n),r=o.edgeObj,i=a(e,t,r.v,r.w),s=i.path,d=i.lca,l=0,p=s[l],c=!0;n!==r.w;){if(o=e.node(n),c){for(;(p=s[l])!==d&&e.node(p).maxRank<o.rank;)l++;p===d&&(c=!1)}if(!c){for(;l<s.length-1&&e.node(p=s[l+1]).minRank<=o.rank;)l++;p=s[l]}e.setParent(n,p),n=e.successors(n)[0]}})}},{"./lodash":10}],23:[function(n,i){"use strict";function s(e,t){var n={};return k.reduce(t,function(t,a){var o=0,r=0,s=t.length,d=k.last(a);return k.forEach(a,function(t,c){var i=l(e,t),f=i?e.node(i).order:s;(i||t===d)&&(k.forEach(a.slice(r,c+1),function(t){k.forEach(e.predecessors(t),function(a){var r=e.node(a),i=r.order;(i<o||f<i)&&!(r.dummy&&e.node(t).dummy)&&p(n,a,t)})}),r=c+1,o=f)}),a}),n}function d(e,t){function n(t,n,o,r,i){var s;k.forEach(k.range(n,o),function(n){s=t[n],e.node(s).dummy&&k.forEach(e.predecessors(s),function(t){var n=e.node(t);n.dummy&&(n.order<r||n.order>i)&&p(a,t,s)})})}var a={};return k.reduce(t,function(t,a){var o=-1,r=0,i;return k.forEach(a,function(s,d){if("border"===e.node(s).dummy){var l=e.predecessors(s);l.length&&(i=e.node(l[0]).order,n(a,r,d,o,i),r=d,o=i)}n(a,r,a.length,i,t.length)}),a}),a}function l(e,t){if(e.node(t).dummy)return k.find(e.predecessors(t),function(t){return e.node(t).dummy})}function p(e,t,n){if(t>n){var a=t;t=n,n=a}var o=e[t];o||(e[t]=o={}),o[n]=!0}function c(e,t,n){if(t>n){var a=t;t=n,n=a}return k.has(e[t],n)}function u(e,t,n,o){var s={},d={},l={};return k.forEach(t,function(e){k.forEach(e,function(e,t){s[e]=e,d[e]=e,l[e]=t})}),k.forEach(t,function(e){var t=-1;k.forEach(e,function(e){var p=o(e);if(p.length){p=k.sortBy(p,function(e){return l[e]});for(var u=(p.length-1)/2,f=a(u),h=r(u),g;f<=h;++f)g=p[f],d[e]===e&&t<l[g]&&!c(n,e,g)&&(d[g]=e,d[e]=s[e]=s[g],t=l[g])}})}),{root:s,align:d}}function f(n,a,r,i,s){function d(e,t){for(var n=p.nodes(),a=n.pop(),o={};a;)o[a]?e(a):(o[a]=!0,n.push(a),n=n.concat(t(a))),a=n.pop()}var l={},p=h(n,a,r,s),c=s?"borderLeft":"borderRight";return d(function(e){l[e]=p.inEdges(e).reduce(function(t,n){return o(t,l[n.v]+p.edge(n))},0)},k.bind(p.predecessors,p)),d(function(a){var r=p.outEdges(a).reduce(function(n,a){return t(n,l[a.w]-p.edge(a))},Number.POSITIVE_INFINITY),i=n.node(a);r!==e&&i.borderType!==c&&(l[a]=o(l[a],r))},k.bind(p.successors,p)),k.forEach(i,function(e){l[e]=l[r[e]]}),l}function h(e,t,n,a){var r=new _,i=e.graph(),s=x(i.nodesep,i.edgesep,a);return k.forEach(t,function(t){var a;k.forEach(t,function(t){var i=n[t];if(r.setNode(i),a){var d=n[a],l=r.edge(d,i);r.setEdge(d,i,o(s(e,t,a),l||0))}a=t})}),r}function m(n,a){return k.minBy(k.values(a),function(a){var r=Number.NEGATIVE_INFINITY,i=e;return k.forIn(a,function(e,a){var s=E(n,a)/2;r=o(e+s,r),i=t(e-s,i)}),r-i})}function y(e,t){var n=k.values(t),a=k.min(n),o=k.max(n);k.forEach(["u","d"],function(n){k.forEach(["l","r"],function(r){var i=n+r,s=e[i],d;if(s!==t){var l=k.values(s);d="l"===r?a-k.min(l):o-k.max(l),d&&(e[i]=k.mapValues(s,function(e){return e+d}))}})})}function b(e,t){return k.mapValues(e.ul,function(n,a){if(t)return e[t.toLowerCase()][a];var o=k.sortBy(k.map(e,a));return(o[1]+o[2])/2})}function x(e,t,n){return function(a,o,r){var i=a.node(o),s=a.node(r),d=0,l;if(d+=i.width/2,k.has(i,"labelpos"))switch(i.labelpos.toLowerCase()){case"l":l=-i.width/2;break;case"r":l=i.width/2;}if(l&&(d+=n?l:-l),l=0,d+=(i.dummy?t:e)/2,d+=(s.dummy?t:e)/2,d+=s.width/2,k.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":l=s.width/2;break;case"r":l=-s.width/2;}return l&&(d+=n?l:-l),l=0,d}}function E(e,t){return e.node(t).width}var k=n("../lodash"),_=n("../graphlib").Graph,v=n("../util");i.exports={positionX:function(e){var t=v.buildLayerMatrix(e),n=k.merge(s(e,t),d(e,t)),a={},o;k.forEach(["u","d"],function(r){o="u"===r?t:k.values(t).reverse(),k.forEach(["l","r"],function(t){"r"===t&&(o=k.map(o,function(e){return k.values(e).reverse()}));var i=k.bind("u"===r?e.predecessors:e.successors,e),s=u(e,o,n,i),d=f(e,o,s.root,s.align,"r"===t);"r"===t&&(d=k.mapValues(d,function(e){return-e})),a[r+t]=d})});var r=m(e,a);return y(a,r),b(a,e.graph().align)},findType1Conflicts:s,findType2Conflicts:d,addConflict:p,hasConflict:c,verticalAlignment:u,horizontalCompaction:f,alignCoordinates:y,findSmallestWidthAlignment:m,balance:b}},{"../graphlib":7,"../lodash":10,"../util":29}],24:[function(e,t){"use strict";function n(e){var t=o.buildLayerMatrix(e),n=e.graph().ranksep,r=0;a.forEach(t,function(t){var o=a.max(a.map(t,function(t){return e.node(t).height}));a.forEach(t,function(t){e.node(t).y=r+o/2}),r+=o+n})}var a=e("../lodash"),o=e("../util"),r=e("./bk").positionX;t.exports=function(e){e=o.asNonCompoundGraph(e),n(e),a.forEach(r(e),function(t,n){e.node(n).x=t})}},{"../lodash":10,"../util":29,"./bk":23}],25:[function(e,t){"use strict";function n(n,t){function a(o){r.forEach(t.nodeEdges(o),function(r){var e=r.v,i=o===e?r.w:e;n.hasNode(i)||s(t,r)||(n.setNode(i,{}),n.setEdge(o,i,{}),a(i))})}return r.forEach(n.nodes(),a),n.nodeCount()}function a(n,t){return r.minBy(t.edges(),function(a){if(n.hasNode(a.v)!==n.hasNode(a.w))return s(t,a)})}function o(e,t,n){r.forEach(e.nodes(),function(e){t.node(e).rank+=n})}var r=e("../lodash"),i=e("../graphlib").Graph,s=e("./util").slack;t.exports=function(e){var r=new i({directed:!1}),t=e.nodes()[0],d=e.nodeCount();r.setNode(t,{});for(var l,p;n(r,e)<d;)l=a(r,e),p=r.hasNode(l.v)?s(e,l):-s(e,l),o(r,e,p);return r}},{"../graphlib":7,"../lodash":10,"./util":28}],26:[function(e,t){"use strict";function n(e){r(e),i(e)}function a(e){s(e)}var o=e("./util"),r=o.longestPath,i=e("./feasible-tree"),s=e("./network-simplex");t.exports=function(e){switch(e.graph().ranker){case"network-simplex":a(e);break;case"tight-tree":n(e);break;case"longest-path":d(e);break;default:a(e);}};var d=r},{"./feasible-tree":25,"./network-simplex":27,"./util":28}],27:[function(e,t){"use strict";function n(n){n=v(n),y(n);var o=m(n);i(o),a(o,n);for(var t,r;t=d(o);)r=l(o,n,t),p(o,n,t,r)}function a(e,t){var n=x(e,e.nodes());n=n.slice(0,n.length-1),h.forEach(n,function(n){o(e,t,n)})}function o(e,t,n){var a=e.node(n),o=a.parent;e.edge(n,o).cutvalue=r(e,t,n)}function r(n,t,a){var e=n.node(a),o=e.parent,r=!0,i=t.edge(a,o),s=0;return i||(r=!1,i=t.edge(o,a)),s=i.weight,h.forEach(t.nodeEdges(a),function(i){var e=i.v===a,d=e?i.w:i.v;if(d!==o){var l=e==r,p=t.edge(i).weight;if(s+=l?p:-p,u(n,a,d)){var c=n.edge(a,d).cutvalue;s+=l?-c:c}}}),s}function i(e,t){2>arguments.length&&(t=e.nodes()[0]),s(e,{},1,t)}function s(e,t,n,a,o){var r=n,i=e.node(a);return t[a]=!0,h.forEach(e.neighbors(a),function(o){h.has(t,o)||(n=s(e,t,n,o,a))}),i.low=r,i.lim=n++,o?i.parent=o:delete i.parent,n}function d(t){return h.find(t.edges(),function(n){return 0>t.edge(n).cutvalue})}function l(e,t,n){var a=n.v,o=n.w;t.hasEdge(a,o)||(a=n.w,o=n.v);var r=e.node(a),i=e.node(o),s=r,d=!1;r.lim>i.lim&&(s=i,d=!0);var l=h.filter(t.edges(),function(t){return d===f(e,e.node(t.v),s)&&d!==f(e,e.node(t.w),s)});return h.minBy(l,function(e){return _(t,e)})}function p(n,t,o,e){var r=o.v,s=o.w;n.removeEdge(r,s),n.setEdge(e.v,e.w,{}),i(n),a(n,t),c(n,t)}function c(e,t){var n=h.find(e.nodes(),function(e){return!t.node(e).parent}),a=b(e,n);a=a.slice(1),h.forEach(a,function(n){var a=e.node(n).parent,o=t.edge(n,a),r=!1;o||(o=t.edge(a,n),r=!0),t.node(n).rank=t.node(a).rank+(r?o.minlen:-o.minlen)})}function u(e,t,n){return e.hasEdge(t,n)}function f(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}var h=e("../lodash"),m=e("./feasible-tree"),_=e("./util").slack,y=e("./util").longestPath,b=e("../graphlib").alg.preorder,x=e("../graphlib").alg.postorder,v=e("../util").simplify;t.exports=n,n.initLowLimValues=i,n.initCutValues=a,n.calcCutValue=r,n.leaveEdge=d,n.enterEdge=l,n.exchangeEdges=p},{"../graphlib":7,"../lodash":10,"../util":29,"./feasible-tree":25,"./util":28}],28:[function(t,n){"use strict";var a=t("../lodash");n.exports={longestPath:function(t){function n(r){var i=t.node(r);if(a.has(o,r))return i.rank;o[r]=!0;var s=a.minBy(a.map(t.outEdges(r),function(a){return n(a.w)-t.edge(a).minlen}));return(s===e||void 0===s||null===s)&&(s=0),i.rank=s}var o={};a.forEach(t.sources(),n)},slack:function(t,n){return t.node(n.w).rank-t.node(n.v).rank-t.edge(n).minlen}}},{"../lodash":10}],29:[function(e,t){"use strict";function a(e,t,n,a){var o;do o=s.uniqueId(a);while(e.hasNode(o));return n.dummy=t,e.setNode(o,n),o}function r(e){return s.max(s.map(e.nodes(),function(t){var n=e.node(t).rank;if(!s.isUndefined(n))return n}))}var s=e("./lodash"),i=e("./graphlib").Graph;t.exports={addDummyNode:a,simplify:function(t){var n=new i().setGraph(t.graph());return s.forEach(t.nodes(),function(e){n.setNode(e,t.node(e))}),s.forEach(t.edges(),function(a){var e=n.edge(a.v,a.w)||{weight:0,minlen:1},r=t.edge(a);n.setEdge(a.v,a.w,{weight:e.weight+r.weight,minlen:o(e.minlen,r.minlen)})}),n},asNonCompoundGraph:function(t){var n=new i({multigraph:t.isMultigraph()}).setGraph(t.graph());return s.forEach(t.nodes(),function(e){t.children(e).length||n.setNode(e,t.node(e))}),s.forEach(t.edges(),function(a){n.setEdge(a,t.edge(a))}),n},successorWeights:function(t){var e=s.map(t.nodes(),function(e){var n={};return s.forEach(t.outEdges(e),function(a){n[a.w]=(n[a.w]||0)+t.edge(a).weight}),n});return s.zipObject(t.nodes(),e)},predecessorWeights:function(t){var e=s.map(t.nodes(),function(e){var n={};return s.forEach(t.inEdges(e),function(a){n[a.v]=(n[a.v]||0)+t.edge(a).weight}),n});return s.zipObject(t.nodes(),e)},intersectRect:function(e,t){var a=e.x,o=e.y,r=t.x-a,i=t.y-o,s=e.width/2,d=e.height/2;if(!r&&!i)throw new Error("Not possible to find intersection inside of the rectangle");var l,p;return n(i)*s>n(r)*d?(0>i&&(d=-d),l=d*r/i,p=d):(0>r&&(s=-s),l=s,p=s*i/r),{x:a+l,y:o+p}},buildLayerMatrix:function(e){var t=s.map(s.range(r(e)+1),function(){return[]});return s.forEach(e.nodes(),function(n){var a=e.node(n),o=a.rank;s.isUndefined(o)||(t[o][a.order]=n)}),t},normalizeRanks:function(e){var t=s.minBy(s.map(e.nodes(),function(t){return e.node(t).rank}));s.forEach(e.nodes(),function(n){var a=e.node(n);s.has(a,"rank")&&(a.rank-=t)})},removeEmptyRanks:function(e){var t=s.minBy(s.map(e.nodes(),function(t){return e.node(t).rank})),n=[];s.forEach(e.nodes(),function(a){var o=e.node(a).rank-t;n[o]||(n[o]=[]),n[o].push(a)});var a=0,o=e.graph().nodeRankFactor;s.forEach(n,function(t,n){s.isUndefined(t)&&0!=n%o?--a:a&&s.forEach(t,function(t){e.node(t).rank+=a})})},addBorderNode:function(e,t,n,o){var r={width:0,height:0};return 4<=arguments.length&&(r.rank=n,r.order=o),a(e,"border",r,t)},maxRank:r,partition:function(e,t){var n={lhs:[],rhs:[]};return s.forEach(e,function(e){t(e)?n.lhs.push(e):n.rhs.push(e)}),n},time:function(e,t){var n=s.now();try{return t()}finally{console.log(e+" time: "+(s.now()-n)+"ms")}},notime:function(e,t){return t()}}},{"./graphlib":7,"./lodash":10}],30:[function(e,t){t.exports="0.8.2"},{}],31:[function(e,t){var n=e("./lib");t.exports={Graph:n.Graph,json:e("./lib/json"),alg:e("./lib/alg"),version:n.version}},{"./lib":47,"./lib/alg":38,"./lib/json":48}],32:[function(e,t){var n=e("../lodash");t.exports=function(e){function t(o){n.has(a,o)||(a[o]=!0,r.push(o),n.each(e.successors(o),t),n.each(e.predecessors(o),t))}var a={},o=[],r;return n.each(e.nodes(),function(e){r=[],t(e),r.length&&o.push(r)}),o}},{"../lodash":49}],33:[function(e,t){function n(e,t,o,r,i,s){a.has(r,t)||(r[t]=!0,!o&&s.push(t),a.each(i(t),function(t){n(e,t,o,r,i,s)}),o&&s.push(t))}var a=e("../lodash");t.exports=function(e,t,o){a.isArray(t)||(t=[t]);var r=(e.isDirected()?e.successors:e.neighbors).bind(e),i=[],s={};return a.each(t,function(t){if(!e.hasNode(t))throw new Error("Graph does not have node: "+t);n(e,t,"post"===o,s,r,i)}),i}},{"../lodash":49}],34:[function(e,t){var n=e("./dijkstra"),a=e("../lodash");t.exports=function(e,t,o){return a.transform(e.nodes(),function(a,r){a[r]=n(e,r,t,o)},{})}},{"../lodash":49,"./dijkstra":35}],35:[function(t,n){function a(t,n,a,o){var i={},s=new r,d=function(e){var t=e.v===l?e.w:e.v,n=i[t],o=a(e),r=p.distance+o;if(0>o)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+e+" Weight: "+o);r<n.distance&&(n.distance=r,n.predecessor=l,s.decrease(t,r))},l,p;for(t.nodes().forEach(function(t){var a=t===n?0:e;i[t]={distance:a},s.add(t,a)});0<s.size()&&(l=s.removeMin(),p=i[l],p.distance!==e);)o(l).forEach(d);return i}var o=t("../lodash"),r=t("../data/priority-queue");n.exports=function(e,t,n,o){return a(e,t+"",n||i,o||function(t){return e.outEdges(t)})};var i=o.constant(1)},{"../data/priority-queue":45,"../lodash":49}],36:[function(e,t){var n=e("../lodash"),a=e("./tarjan");t.exports=function(e){return n.filter(a(e),function(t){return 1<t.length||1===t.length&&e.hasEdge(t[0],t[0])})}},{"../lodash":49,"./tarjan":43}],37:[function(t,n){function a(t,n,a){var o={},r=t.nodes();return r.forEach(function(t){o[t]={},o[t][t]={distance:0},r.forEach(function(n){t!==n&&(o[t][n]={distance:e})}),a(t).forEach(function(e){var a=e.v===t?e.w:e.v,r=n(e);o[t][a]={distance:r,predecessor:t}})}),r.forEach(function(e){var t=o[e];r.forEach(function(n){var a=o[n];r.forEach(function(n){var o=a[e],r=t[n],i=a[n],s=o.distance+r.distance;s<i.distance&&(i.distance=s,i.predecessor=r.predecessor)})})}),o}var o=t("../lodash");n.exports=function(e,t,n){return a(e,t||r,n||function(t){return e.outEdges(t)})};var r=o.constant(1)},{"../lodash":49}],38:[function(e,t){t.exports={components:e("./components"),dijkstra:e("./dijkstra"),dijkstraAll:e("./dijkstra-all"),findCycles:e("./find-cycles"),floydWarshall:e("./floyd-warshall"),isAcyclic:e("./is-acyclic"),postorder:e("./postorder"),preorder:e("./preorder"),prim:e("./prim"),tarjan:e("./tarjan"),topsort:e("./topsort")}},{"./components":32,"./dijkstra":35,"./dijkstra-all":34,"./find-cycles":36,"./floyd-warshall":37,"./is-acyclic":39,"./postorder":40,"./preorder":41,"./prim":42,"./tarjan":43,"./topsort":44}],39:[function(e,t){var n=e("./topsort");t.exports=function(e){try{n(e)}catch(t){if(t instanceof n.CycleException)return!1;throw t}return!0}},{"./topsort":44}],40:[function(e,t){var n=e("./dfs");t.exports=function(e,t){return n(e,t,"post")}},{"./dfs":33}],41:[function(e,t){var n=e("./dfs");t.exports=function(e,t){return n(e,t,"pre")}},{"./dfs":33}],42:[function(e,t){var n=e("../lodash"),a=e("../graph"),o=e("../data/priority-queue");t.exports=function(e,t){function r(e){var n=e.v===l?e.w:e.v,a=d.priority(n);if(a!==void 0){var o=t(e);o<a&&(s[n]=l,d.decrease(n,o))}}var i=new a,s={},d=new o,l;if(0===e.nodeCount())return i;n.each(e.nodes(),function(e){d.add(e,Number.POSITIVE_INFINITY),i.setNode(e)}),d.decrease(e.nodes()[0],0);for(var p=!1;0<d.size();){if(l=d.removeMin(),n.has(s,l))i.setEdge(l,s[l]);else if(p)throw new Error("Input graph is not connected: "+e);else p=!0;e.nodeEdges(l).forEach(r)}return i}},{"../data/priority-queue":45,"../graph":46,"../lodash":49}],43:[function(e,n){var a=e("../lodash");n.exports=function(e){function n(d){var l=i[d]={onStack:!0,lowlink:o,index:o++};if(r.push(d),e.successors(d).forEach(function(e){a.has(i,e)?i[e].onStack&&(l.lowlink=t(l.lowlink,i[e].index)):(n(e),l.lowlink=t(l.lowlink,i[e].lowlink))}),l.lowlink===l.index){var p=[],c;do c=r.pop(),i[c].onStack=!1,p.push(c);while(d!==c);s.push(p)}}var o=0,r=[],i={},s=[];return e.nodes().forEach(function(e){a.has(i,e)||n(e)}),s}},{"../lodash":49}],44:[function(e,t){function n(e){function t(s){if(o.has(r,s))throw new a;o.has(n,s)||(r[s]=!0,n[s]=!0,o.each(e.predecessors(s),t),delete r[s],i.push(s))}var n={},r={},i=[];if(o.each(e.sinks(),t),o.size(n)!==e.nodeCount())throw new a;return i}function a(){}var o=e("../lodash");t.exports=n,n.CycleException=a},{"../lodash":49}],45:[function(e,t){function n(){this._arr=[],this._keyIndices={}}var a=e("../lodash");t.exports=n,n.prototype.size=function(){return this._arr.length},n.prototype.keys=function(){return this._arr.map(function(e){return e.key})},n.prototype.has=function(e){return a.has(this._keyIndices,e)},n.prototype.priority=function(e){var t=this._keyIndices[e];if(t!==void 0)return this._arr[t].priority},n.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},n.prototype.add=function(e,t){var n=this._keyIndices;if(e+="",!a.has(n,e)){var o=this._arr,r=o.length;return n[e]=r,o.push({key:e,priority:t}),this._decrease(r),!0}return!1},n.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var e=this._arr.pop();return delete this._keyIndices[e.key],this._heapify(0),e.key},n.prototype.decrease=function(e,t){var n=this._keyIndices[e];if(t>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+e+" Old: "+this._arr[n].priority+" New: "+t);this._arr[n].priority=t,this._decrease(n)},n.prototype._heapify=function(e){var t=this._arr,n=2*e,a=n+1,o=e;n<t.length&&(o=t[n].priority<t[o].priority?n:o,a<t.length&&(o=t[a].priority<t[o].priority?a:o),o!==e&&(this._swap(e,o),this._heapify(o)))},n.prototype._decrease=function(e){for(var t=this._arr,n=t[e].priority,a;0!==e&&(a=e>>1,!(t[a].priority<n));)this._swap(e,a),e=a},n.prototype._swap=function(e,t){var n=this._arr,a=this._keyIndices,o=n[e],r=n[t];n[e]=r,n[t]=o,a[r.key]=e,a[o.key]=t}},{"../lodash":49}],46:[function(e,t){"use strict";function n(e){this._isDirected=!d.has(e,"directed")||e.directed,this._isMultigraph=!!d.has(e,"multigraph")&&e.multigraph,this._isCompound=!!d.has(e,"compound")&&e.compound,this._label=void 0,this._defaultNodeLabelFn=d.constant(void 0),this._defaultEdgeLabelFn=d.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function a(e,t){e[t]?e[t]++:e[t]=1}function o(e,t){--e[t]||delete e[t]}function r(e,t,n,a){var o=""+t,r=""+n;if(!e&&o>r){var i=o;o=r,r=i}return o+"\x01"+r+"\x01"+(d.isUndefined(a)?"\0":a)}function i(e,t,n,a){var o=""+t,r=""+n;if(!e&&o>r){var i=o;o=r,r=i}var s={v:o,w:r};return a&&(s.name=a),s}function s(e,t){return r(e,t.v,t.w,t.name)}var d=e("./lodash");t.exports=n;n.prototype._nodeCount=0,n.prototype._edgeCount=0,n.prototype.isDirected=function(){return this._isDirected},n.prototype.isMultigraph=function(){return this._isMultigraph},n.prototype.isCompound=function(){return this._isCompound},n.prototype.setGraph=function(e){return this._label=e,this},n.prototype.graph=function(){return this._label},n.prototype.setDefaultNodeLabel=function(e){return d.isFunction(e)||(e=d.constant(e)),this._defaultNodeLabelFn=e,this},n.prototype.nodeCount=function(){return this._nodeCount},n.prototype.nodes=function(){return d.keys(this._nodes)},n.prototype.sources=function(){var e=this;return d.filter(this.nodes(),function(t){return d.isEmpty(e._in[t])})},n.prototype.sinks=function(){var e=this;return d.filter(this.nodes(),function(t){return d.isEmpty(e._out[t])})},n.prototype.setNodes=function(e,t){var n=arguments,a=this;return d.each(e,function(e){1<n.length?a.setNode(e,t):a.setNode(e)}),this},n.prototype.setNode=function(e,t){return d.has(this._nodes,e)?(1<arguments.length&&(this._nodes[e]=t),this):(this._nodes[e]=1<arguments.length?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]="\0",this._children[e]={},this._children["\0"][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)},n.prototype.node=function(e){return this._nodes[e]},n.prototype.hasNode=function(e){return d.has(this._nodes,e)},n.prototype.removeNode=function(e){var t=this;if(d.has(this._nodes,e)){var n=function(n){t.removeEdge(t._edgeObjs[n])};delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],d.each(this.children(e),function(e){t.setParent(e)}),delete this._children[e]),d.each(d.keys(this._in[e]),n),delete this._in[e],delete this._preds[e],d.each(d.keys(this._out[e]),n),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this},n.prototype.setParent=function(e,t){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(d.isUndefined(t))t="\0";else{t+="";for(var n=t;!d.isUndefined(n);n=this.parent(n))if(n===e)throw new Error("Setting "+t+" as parent of "+e+" would create a cycle");this.setNode(t)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this},n.prototype._removeFromParentsChildList=function(e){delete this._children[this._parent[e]][e]},n.prototype.parent=function(e){if(this._isCompound){var t=this._parent[e];if(t!=="\0")return t}},n.prototype.children=function(e){if(d.isUndefined(e)&&(e="\0"),this._isCompound){var t=this._children[e];if(t)return d.keys(t)}else{if("\0"===e)return this.nodes();if(this.hasNode(e))return[]}},n.prototype.predecessors=function(e){var t=this._preds[e];if(t)return d.keys(t)},n.prototype.successors=function(e){var t=this._sucs[e];if(t)return d.keys(t)},n.prototype.neighbors=function(e){var t=this.predecessors(e);if(t)return d.union(t,this.successors(e))},n.prototype.isLeaf=function(e){var t;return t=this.isDirected()?this.successors(e):this.neighbors(e),0===t.length},n.prototype.filterNodes=function(e){function t(e){var r=a.parent(e);return void 0===r||n.hasNode(r)?(o[e]=r,r):r in o?o[r]:t(r)}var n=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});n.setGraph(this.graph());var a=this;d.each(this._nodes,function(t,a){e(a)&&n.setNode(a,t)}),d.each(this._edgeObjs,function(t){n.hasNode(t.v)&&n.hasNode(t.w)&&n.setEdge(t,a.edge(t))});var o={};return this._isCompound&&d.each(n.nodes(),function(e){n.setParent(e,t(e))}),n},n.prototype.setDefaultEdgeLabel=function(e){return d.isFunction(e)||(e=d.constant(e)),this._defaultEdgeLabelFn=e,this},n.prototype.edgeCount=function(){return this._edgeCount},n.prototype.edges=function(){return d.values(this._edgeObjs)},n.prototype.setPath=function(e,t){var n=this,a=arguments;return d.reduce(e,function(e,o){return 1<a.length?n.setEdge(e,o,t):n.setEdge(e,o),o}),this},n.prototype.setEdge=function(){var t=!1,n=arguments[0],o,s,l,p;"object"==typeof n&&null!==n&&"v"in n?(o=n.v,s=n.w,l=n.name,2===arguments.length&&(p=arguments[1],t=!0)):(o=n,s=arguments[1],l=arguments[3],2<arguments.length&&(p=arguments[2],t=!0)),o=""+o,s=""+s,d.isUndefined(l)||(l=""+l);var c=r(this._isDirected,o,s,l);if(d.has(this._edgeLabels,c))return t&&(this._edgeLabels[c]=p),this;if(!d.isUndefined(l)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(o),this.setNode(s),this._edgeLabels[c]=t?p:this._defaultEdgeLabelFn(o,s,l);var e=i(this._isDirected,o,s,l);return o=e.v,s=e.w,Object.freeze(e),this._edgeObjs[c]=e,a(this._preds[s],o),a(this._sucs[o],s),this._in[s][c]=e,this._out[o][c]=e,this._edgeCount++,this},n.prototype.edge=function(t,n,a){var o=1===arguments.length?s(this._isDirected,arguments[0]):r(this._isDirected,t,n,a);return this._edgeLabels[o]},n.prototype.hasEdge=function(t,n,a){var o=1===arguments.length?s(this._isDirected,arguments[0]):r(this._isDirected,t,n,a);return d.has(this._edgeLabels,o)},n.prototype.removeEdge=function(t,n,a){var i=1===arguments.length?s(this._isDirected,arguments[0]):r(this._isDirected,t,n,a),e=this._edgeObjs[i];return e&&(t=e.v,n=e.w,delete this._edgeLabels[i],delete this._edgeObjs[i],o(this._preds[n],t),o(this._sucs[t],n),delete this._in[n][i],delete this._out[t][i],this._edgeCount--),this},n.prototype.inEdges=function(e,t){var n=this._in[e];if(n){var a=d.values(n);return t?d.filter(a,function(e){return e.v===t}):a}},n.prototype.outEdges=function(e,t){var n=this._out[e];if(n){var a=d.values(n);return t?d.filter(a,function(e){return e.w===t}):a}},n.prototype.nodeEdges=function(e,t){var n=this.inEdges(e,t);if(n)return n.concat(this.outEdges(e,t))}},{"./lodash":49}],47:[function(e,t){t.exports={Graph:e("./graph"),version:e("./version")}},{"./graph":46,"./version":50}],48:[function(e,t){function n(e){return o.map(e.nodes(),function(t){var n=e.node(t),a=e.parent(t),r={v:t};return o.isUndefined(n)||(r.value=n),o.isUndefined(a)||(r.parent=a),r})}function a(t){return o.map(t.edges(),function(n){var e=t.edge(n),a={v:n.v,w:n.w};return o.isUndefined(n.name)||(a.name=n.name),o.isUndefined(e)||(a.value=e),a})}var o=e("./lodash"),r=e("./graph");t.exports={write:function(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:n(e),edges:a(e)};return o.isUndefined(e.graph())||(t.value=o.clone(e.graph())),t},read:function(e){var t=new r(e.options).setGraph(e.value);return o.each(e.nodes,function(e){t.setNode(e.v,e.value),e.parent&&t.setParent(e.v,e.parent)}),o.each(e.edges,function(e){t.setEdge({v:e.v,w:e.w,name:e.name},e.value)}),t}}},{"./graph":46,"./lodash":49}],49:[function(e,t,n){arguments[4][10][0].apply(n,arguments)},{dup:10,lodash:51}],50:[function(e,t){t.exports="2.1.5"},{}],51:[function(e,n,s){(function(e){(function(){function d(e,t){return e.set(t[0],t[1]),e}function l(e,t){return e.add(t),e}function p(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2]);}return e.apply(t,n)}function c(e,t,n,a){for(var o=-1,r=null==e?0:e.length;++o<r;){var i=e[o];t(a,i,n(i),e)}return a}function u(e,t){for(var n=-1,a=null==e?0:e.length;++n<a&&!(!1===t(e[n],n,e)););return e}function f(e,t){for(var n=null==e?0:e.length;n--&&!(!1===t(e[n],n,e)););return e}function h(e,t){for(var n=-1,a=null==e?0:e.length;++n<a;)if(!t(e[n],n,e))return!1;return!0}function g(e,t){for(var n=-1,a=null==e?0:e.length,o=0,r=[];++n<a;){var i=e[n];t(i,n,e)&&(r[o++]=i)}return r}function m(e,t){var n=null==e?0:e.length;return!!n&&-1<A(e,t,0)}function y(e,t,n){for(var a=-1,o=null==e?0:e.length;++a<o;)if(n(t,e[a]))return!0;return!1}function b(e,t){for(var n=-1,a=null==e?0:e.length,o=Array(a);++n<a;)o[n]=t(e[n],n,e);return o}function x(e,t){for(var n=-1,a=t.length,o=e.length;++n<a;)e[o+n]=t[n];return e}function v(e,t,n,a){var o=-1,r=null==e?0:e.length;for(a&&r&&(n=e[++o]);++o<r;)n=t(n,e[o],o,e);return n}function E(e,t,n,a){var o=null==e?0:e.length;for(a&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function k(e,t){for(var n=-1,a=null==e?0:e.length;++n<a;)if(t(e[n],n,e))return!0;return!1}function T(e){return e.split("")}function w(e){return e.match(At)||[]}function S(e,t,n){var a;return n(e,function(e,n,o){if(t(e,n,o))return a=n,!1}),a}function C(e,t,n,a){for(var o=e.length,r=n+(a?1:-1);a?r--:++r<o;)if(t(e[r],r,e))return r;return-1}function A(e,t,n){return t===t?te(e,t,n):C(e,I,n)}function P(e,t,n,a){for(var o=n-1,r=e.length;++o<r;)if(a(e[o],t))return o;return-1}function I(e){return e!==e}function L(e,t){var n=null==e?0:e.length;return n?B(e,t)/n:Ie}function N(e){return function(t){return null==t?void 0:t[e]}}function O(e){return function(t){return null==e?void 0:e[t]}}function M(e,t,n,a,o){return o(e,function(e,o,r){n=a?(a=!1,e):t(n,e,o,r)}),n}function D(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function B(e,t){for(var n=-1,a=e.length,o;++n<a;){var r=t(e[n]);r!==void 0&&(o=o===void 0?r:o+r)}return o}function j(e,t){for(var n=-1,a=Array(e);++n<e;)a[n]=t(n);return a}function R(e,t){return b(t,function(t){return[t,e[t]]})}function z(e){return function(t){return e(t)}}function F(e,t){return b(t,function(t){return e[t]})}function V(e,t){return e.has(t)}function U(e,t){for(var n=-1,a=e.length;++n<a&&-1<A(t,e[n],0););return n}function G(e,t){for(var n=e.length;n--&&-1<A(t,e[n],0););return n}function H(e,t){for(var n=e.length,a=0;n--;)e[n]===t&&++a;return a}function W(e){return"\\"+wn[e]}function q(e,t){return null==e?void 0:e[t]}function $(e){return bn.test(e)}function Y(e){return xn.test(e)}function X(e){for(var t=[],n;!(n=e.next()).done;)t.push(n.value);return t}function J(e){var t=-1,n=Array(e.size);return e.forEach(function(e,a){n[++t]=[a,e]}),n}function K(e,t){return function(n){return e(t(n))}}function Z(e,t){for(var n=-1,a=e.length,o=0,r=[];++n<a;){var i=e[n];(i===t||i==="__lodash_placeholder__")&&(e[n]="__lodash_placeholder__",r[o++]=n)}return r}function Q(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function ee(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}function te(e,t,n){for(var a=n-1,o=e.length;++a<o;)if(e[a]===t)return a;return-1}function ne(e,t,n){for(var a=n+1;a--;)if(e[a]===t)return a;return a}function ae(e){return $(e)?re(e):Un(e)}function oe(e){return $(e)?ie(e):T(e)}function re(e){for(var t=_n.lastIndex=0;_n.test(e);)++t;return t}function ie(e){return e.match(_n)||[]}function se(e){return e.match(yn)||[]}var de=200,le="Expected a function",pe="__lodash_hash_undefined__",ce="__lodash_placeholder__",ue=1,fe=2,he=4,ge=1,me=2,_e=1,ye=2,be=4,xe=8,ve=16,Ee=32,ke=64,Te=128,we=256,Se=512,Ce=1,Ae=1/0,Pe=9007199254740991,Ie=0/0,Le=4294967295,Ne=[["ary",Te],["bind",_e],["bindKey",ye],["curry",xe],["curryRight",ve],["flip",Se],["partial",Ee],["partialRight",ke],["rearg",we]],Oe="[object Arguments]",Me="[object Array]",De="[object Boolean]",Be="[object Date]",je="[object Error]",Re="[object Function]",ze="[object GeneratorFunction]",Fe="[object Map]",Ve="[object Number]",Ue="[object Object]",Ge="[object Promise]",He="[object RegExp]",We="[object Set]",qe="[object String]",$e="[object Symbol]",Ye="[object WeakMap]",Xe="[object ArrayBuffer]",Je="[object DataView]",Ke="[object Float32Array]",Ze="[object Float64Array]",Qe="[object Int8Array]",et="[object Int16Array]",tt="[object Int32Array]",nt="[object Uint8Array]",at="[object Uint8ClampedArray]",ot="[object Uint16Array]",rt="[object Uint32Array]",it=/\b__p \+= '';/g,st=/\b(__p \+=) '' \+/g,dt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,lt=/&(?:amp|lt|gt|quot|#39);/g,pt=/[&<>"']/g,ct=RegExp(lt.source),ut=RegExp(pt.source),ft=/<%-([\s\S]+?)%>/g,ht=/<%([\s\S]+?)%>/g,mt=/<%=([\s\S]+?)%>/g,gt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,_t=/^\w*$/,yt=/^\./,bt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xt=/[\\^$.*+?()[\]{}|]/g,vt=RegExp(xt.source),Et=/^\s+|\s+$/g,kt=/^\s+/,Tt=/\s+$/,wt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,St=/\{\n\/\* \[wrapped with (.+)\] \*/,Ct=/,? & /,At=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Pt=/\\(\\)?/g,It=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Lt=/\w*$/,Nt=/^[-+]0x[0-9a-f]+$/i,Ot=/^0b[01]+$/i,Mt=/^\[object .+?Constructor\]$/,Dt=/^0o[0-7]+$/i,Bt=/^(?:0|[1-9]\d*)$/,jt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Rt=/($^)/,zt=/['\n\r\u2028\u2029\\]/g,Ft="\\ud800-\\udfff",Vt="\\u0300-\\u036f"+"\\ufe20-\\ufe2f"+"\\u20d0-\\u20ff",Ut="\\u2700-\\u27bf",Gt="a-z\\xdf-\\xf6\\xf8-\\xff",Ht="A-Z\\xc0-\\xd6\\xd8-\\xde",Wt="\\ufe0e\\ufe0f",qt="\\xac\\xb1\\xd7\\xf7"+"\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf"+"\\u2000-\\u206f"+" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",$t="['\u2019]",Yt="["+qt+"]",Xt="["+Vt+"]",Jt="\\d+",Kt="["+Gt+"]",Zt="[^"+Ft+qt+Jt+Ut+Gt+Ht+"]",Qt="\\ud83c[\\udffb-\\udfff]",en="[^"+Ft+"]",tn="(?:\\ud83c[\\udde6-\\uddff]){2}",nn="[\\ud800-\\udbff][\\udc00-\\udfff]",an="["+Ht+"]",on="\\u200d",rn="(?:"+Kt+"|"+Zt+")",sn="(?:"+$t+"(?:d|ll|m|re|s|t|ve))?",dn="(?:"+$t+"(?:D|LL|M|RE|S|T|VE))?",ln="(?:"+Xt+"|"+Qt+")"+"?",pn="["+Wt+"]?",cn="(?:"+on+"(?:"+[en,tn,nn].join("|")+")"+pn+ln+")*",un=pn+ln+cn,fn="(?:"+["["+Ut+"]",tn,nn].join("|")+")"+un,hn="(?:"+[en+Xt+"?",Xt,tn,nn,"["+Ft+"]"].join("|")+")",gn=RegExp($t,"g"),mn=RegExp(Xt,"g"),_n=RegExp(Qt+"(?="+Qt+")|"+hn+un,"g"),yn=RegExp([an+"?"+Kt+"+"+sn+"(?="+[Yt,an,"$"].join("|")+")","(?:"+an+"|"+Zt+")"+"+"+dn+"(?="+[Yt,an+rn,"$"].join("|")+")",an+"?"+rn+"+"+sn,an+"+"+dn,"\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)","\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)",Jt,fn].join("|"),"g"),bn=RegExp("["+on+Ft+Vt+Wt+"]"),xn=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,vn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],En=-1,kn={};kn[Ke]=kn[Ze]=kn[Qe]=kn[et]=kn[tt]=kn[nt]=kn[at]=kn[ot]=kn[rt]=!0,kn[Oe]=kn[Me]=kn[Xe]=kn[De]=kn[Je]=kn[Be]=kn[je]=kn[Re]=kn[Fe]=kn[Ve]=kn[Ue]=kn[He]=kn[We]=kn[qe]=kn[Ye]=!1;var Tn={};Tn[Oe]=Tn[Me]=Tn[Xe]=Tn[Je]=Tn[De]=Tn[Be]=Tn[Ke]=Tn[Ze]=Tn[Qe]=Tn[et]=Tn[tt]=Tn[Fe]=Tn[Ve]=Tn[Ue]=Tn[He]=Tn[We]=Tn[qe]=Tn[$e]=Tn[nt]=Tn[at]=Tn[ot]=Tn[rt]=!0,Tn[je]=Tn[Re]=Tn[Ye]=!1;var wn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Sn=parseFloat,Cn=parseInt,An="object"==typeof e&&e&&e.Object===Object&&e,Pn="object"==typeof self&&self&&self.Object===Object&&self,In=An||Pn||Function("return this")(),Ln="object"==typeof s&&s&&!s.nodeType&&s,Nn=Ln&&"object"==typeof n&&n&&!n.nodeType&&n,On=Nn&&Nn.exports===Ln,Mn=On&&An.process,Dn=function(){try{return Mn&&Mn.binding&&Mn.binding("util")}catch(t){}}(),Bn=Dn&&Dn.isArrayBuffer,jn=Dn&&Dn.isDate,Rn=Dn&&Dn.isMap,zn=Dn&&Dn.isRegExp,Fn=Dn&&Dn.isSet,Vn=Dn&&Dn.isTypedArray,Un=N("length"),Gn=O({:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"}),Hn=O({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),Wn=O({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":"\"","&#39;":"'"}),qn=function e(n){function i(e){if(Yr(e)&&!Fd(e)&&!(e instanceof T)){if(e instanceof _)return e;if(Vi.call(e,"__wrapped__"))return gr(e)}return new _(e)}function s(){}function _(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}function T(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Le,this.__views__=[]}function O(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}function te(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}function re(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}function ie(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new re;++t<n;)this.add(e[t])}function At(e){var t=this.__data__=new te(e);this.size=t.size}function Ft(e,t){var n=Fd(e),a=!n&&zd(e),o=!n&&!a&&Ud(e),r=!n&&!a&&!o&&$d(e),i=n||a||o||r,s=i?j(e.length,Mi):[],d=s.length;for(var l in e)(t||Vi.call(e,l))&&!(i&&("length"==l||o&&("offset"==l||"parent"==l)||r&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Yo(l,d)))&&s.push(l);return s}function Vt(e){var t=e.length;return t?e[ua(0,t-1)]:void 0}function Ut(e,t){return cr(Ja(e),Zt(t,0,e.length))}function Gt(e){return cr(Ja(e))}function Ht(e,t,n){(void 0===n||zr(e[t],n))&&(void 0!==n||t in e)||Jt(e,t,n)}function Wt(e,t,n){var a=e[t];Vi.call(e,t)&&zr(a,n)&&(void 0!==n||t in e)||Jt(e,t,n)}function qt(e,t){for(var n=e.length;n--;)if(zr(e[n][0],t))return n;return-1}function $t(e,t,n,a){return zs(e,function(e,o,r){t(a,e,n(e),r)}),a}function Yt(e,t){return e&&Ka(t,li(t),e)}function Xt(e,t){return e&&Ka(t,pi(t),e)}function Jt(e,t,n){"__proto__"==t&&rs?rs(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Kt(e,t){for(var n=-1,a=t.length,o=Ci(a);++n<a;)o[n]=null==e?void 0:si(e,t[n]);return o}function Zt(e,t,n){return e===e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}function Qt(e,t,n,a,o,r){var i=t&ue,s=t&fe,d;if(n&&(d=o?n(e,a,o,r):n(e)),void 0!==d)return d;if(!$r(e))return e;var l=Fd(e);if(!l){var p=Js(e),c=p==Re||p==ze;if(Ud(e))return Ra(e,i);if(p!=Ue&&p!=Oe&&(!c||o)){if(!Tn[p])return o?e:{};d=Wo(e,p,Qt,i)}else if(d=s||c?{}:Ho(e),!i)return s?Qa(e,Xt(d,e)):Za(e,Yt(d,e))}else if(d=Go(e),!i)return Ja(e,d);r||(r=new At);var f=r.get(e);if(f)return f;r.set(e,d);var h=t&he?s?No:Lo:s?pi:li,g=l?void 0:h(e);return u(g||e,function(a,o){g&&(o=a,a=e[o]),Wt(d,o,Qt(a,t,n,o,e,r))}),d}function en(e){var t=li(e);return function(n){return tn(n,e,t)}}function tn(e,t,n){var a=n.length;if(null==e)return!a;for(e=Ni(e);a--;){var o=n[a],r=t[o],i=e[o];if(void 0===i&&!(o in e)||!r(i))return!1}return!0}function nn(e,t,n){if("function"!=typeof e)throw new Di(le);return Qs(function(){e.apply(void 0,n)},t)}function an(e,t,n,a){var o=-1,r=m,i=!0,s=e.length,d=[],l=t.length;if(!s)return d;n&&(t=b(t,z(n))),a?(r=y,i=!1):t.length>=de&&(r=V,i=!1,t=new ie(t));outer:for(;++o<s;){var p=e[o],c=null==n?p:n(p);if(p=a||0!==p?p:0,i&&c===c){for(var u=l;u--;)if(t[u]===c)continue outer;d.push(p)}else r(t,c,a)||d.push(p)}return d}function on(e,t){var n=!0;return zs(e,function(e,a,o){return n=!!t(e,a,o),n}),n}function rn(e,t,n){for(var a=-1,o=e.length;++a<o;){var r=e[a],i=t(r);if(null!=i&&(void 0===s?i===i&&!Zr(i):n(i,s)))var s=i,d=r}return d}function sn(e,t,n,a){var o=e.length;for(n=ni(n),0>n&&(n=-n>o?0:o+n),a=void 0===a||a>o?o:ni(a),0>a&&(a+=o),a=n>a?0:ai(a);n<a;)e[n++]=t;return e}function dn(e,t){var n=[];return zs(e,function(e,a,o){t(e,a,o)&&n.push(e)}),n}function ln(e,t,n,a,o){var r=-1,i=e.length;for(n||(n=$o),o||(o=[]);++r<i;){var s=e[r];0<t&&n(s)?1<t?ln(s,t-1,n,a,o):x(o,s):!a&&(o[o.length]=s)}return o}function pn(e,t){return e&&Vs(e,t,li)}function cn(e,t){return e&&Us(e,t,li)}function un(e,t){return g(t,function(t){return Hr(e[t])})}function fn(e,t){t=Ba(t,e);for(var n=0,a=t.length;null!=e&&n<a;)e=e[ur(t[n++])];return n&&n==a?e:void 0}function hn(e,t,n){var a=t(e);return Fd(e)?a:x(a,n(e))}function _n(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":os&&os in Ni(e)?zo(e):rr(e)}function yn(e,t){return e>t}function bn(e,t){return null!=e&&Vi.call(e,t)}function xn(e,t){return null!=e&&t in Ni(e)}function wn(e,t,n){return e>=_s(t,n)&&e<ms(t,n)}function An(e,t,n){for(var a=n?y:m,o=e[0].length,r=e.length,i=r,s=Ci(r),d=1/0,l=[],p;i--;)p=e[i],i&&t&&(p=b(p,z(t))),d=_s(p.length,d),s[i]=!n&&(t||120<=o&&120<=p.length)?new ie(i&&p):void 0;p=e[0];var c=-1,u=s[0];outer:for(;++c<o&&l.length<d;){var f=p[c],h=t?t(f):f;if(f=n||0!==f?f:0,u?!V(u,h):!a(l,h,n)){for(i=r;--i;){var g=s[i];if(g?!V(g,h):!a(e[i],h,n))continue outer}u&&u.push(h),l.push(f)}}return l}function Pn(e,t,n,a){return pn(e,function(e,o,r){t(a,n(e),o,r)}),a}function Ln(e,t,n){t=Ba(t,e),e=sr(e,t);var a=null==e?e:e[ur(xr(t))];return null==a?void 0:p(a,e,n)}function Nn(e){return Yr(e)&&_n(e)==Oe}function Mn(e,t,n,a,o){return e===t||(null!=e&&null!=t&&(Yr(e)||Yr(t))?Dn(e,t,n,a,Mn,o):e!==e&&t!==t)}function Dn(e,t,n,a,o,r){var i=Fd(e),s=Fd(t),d=i?Me:Js(e),l=s?Me:Js(t);d=d==Oe?Ue:d,l=l==Oe?Ue:l;var p=d==Ue,c=l==Ue,u=d==l;if(u&&Ud(e)){if(!Ud(t))return!1;i=!0,p=!1}if(u&&!p)return r||(r=new At),i||$d(e)?Co(e,t,n,a,o,r):Ao(e,t,d,n,a,o,r);if(!(n&ge)){var f=p&&Vi.call(e,"__wrapped__"),h=c&&Vi.call(t,"__wrapped__");if(f||h){var g=f?e.value():e,m=h?t.value():t;return r||(r=new At),o(g,m,n,a,r)}}return!!u&&(r||(r=new At),Po(e,t,n,a,o,r))}function Un(e){return Yr(e)&&Js(e)==Fe}function $n(e,t,n,a){var o=n.length,r=o,i=!a;if(null==e)return!r;for(e=Ni(e);o--;){var s=n[o];if(i&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++o<r;){s=n[o];var d=s[0],l=e[d],p=s[1];if(!(i&&s[2])){var c=new At;if(a)var u=a(l,p,d,e,t,c);if(void 0===u?!Mn(p,l,ge|me,a,c):!u)return!1}else if(void 0===l&&!(d in e))return!1}return!0}function Yn(e){if(!$r(e)||Qo(e))return!1;var t=Hr(e)?$i:Mt;return t.test(fr(e))}function Xn(e){return Yr(e)&&Js(e)==We}function Jn(e){return"function"==typeof e?e:null==e?bi:"object"==typeof e?Fd(e)?na(e[0],e[1]):ta(e):ki(e)}function Kn(e){if(!er(e))return gs(e);var t=[];for(var n in Ni(e))Vi.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Zn(e){if(!$r(e))return or(e);var t=er(e),n=[];for(var a in e)("constructor"!=a||!t&&Vi.call(e,a))&&n.push(a);return n}function Qn(e,t){return e<t}function ea(e,t){var n=-1,a=Fr(e)?Ci(e.length):[];return zs(e,function(e,o,r){a[++n]=t(e,o,r)}),a}function ta(e){var t=jo(e);return 1==t.length&&t[0][2]?nr(t[0][0],t[0][1]):function(n){return n===e||$n(n,e,t)}}function na(e,t){return Jo(e)&&tr(t)?nr(ur(e),t):function(n){var a=si(n,e);return void 0===a&&a===t?di(n,e):Mn(t,a,ge|me)}}function aa(e,t,n,a,o){e===t||Vs(t,function(r,i){if($r(r))o||(o=new At),oa(e,t,i,n,aa,a,o);else{var s=a?a(e[i],r,i+"",e,t,o):void 0;void 0===s&&(s=r),Ht(e,i,s)}},pi)}function oa(e,t,n,a,o,r,i){var s=e[n],d=t[n],l=i.get(d);if(l)return void Ht(e,n,l);var p=r?r(s,d,n+"",e,t,i):void 0,c=void 0===p;if(c){var u=Fd(d),f=!u&&Ud(d),h=!u&&!f&&$d(d);p=d,u||f||h?Fd(s)?p=s:Vr(s)?p=Ja(s):f?(c=!1,p=Ra(d,!0)):h?(c=!1,p=Wa(d,!0)):p=[]:Jr(d)||zd(d)?(p=s,zd(s)?p=ri(s):(!$r(s)||a&&Hr(s))&&(p=Ho(d))):c=!1}c&&(i.set(d,p),o(p,d,a,r,i),i["delete"](d)),Ht(e,n,p)}function ra(e,t){var a=e.length;if(a)return t+=0>t?a:0,Yo(t,a)?e[t]:void 0}function ia(e,t,n){var a=-1;t=b(t.length?t:[bi],z(Do()));var o=ea(e,function(e){var n=b(t,function(t){return t(e)});return{criteria:n,index:++a,value:e}});return D(o,function(e,t){return $a(e,t,n)})}function sa(e,t){return da(e,t,function(t,n){return di(e,n)})}function da(e,t,n){for(var a=-1,o=t.length,r={};++a<o;){var i=t[a],s=fn(e,i);n(s,i)&&ya(r,Ba(i,e),s)}return r}function la(e){return function(t){return fn(t,e)}}function pa(e,t,n,a){var o=a?P:A,r=-1,i=t.length,s=e;for(e===t&&(t=Ja(t)),n&&(s=b(e,z(n)));++r<i;)for(var d=0,l=t[r],p=n?n(l):l;-1<(d=o(s,p,d,a));)s!==e&&ts.call(s,d,1),ts.call(e,d,1);return e}function ca(e,t){for(var n=e?t.length:0,a=n-1,o;n--;)if(o=t[n],n==a||o!==r){var r=o;Yo(o)?ts.call(e,o,1):Aa(e,o)}return e}function ua(e,t){return e+ps(xs()*(t-e+1))}function fa(e,t,n,a){for(var o=-1,r=ms(ls((t-e)/(n||1)),0),i=Ci(r);r--;)i[a?r:++o]=e,e+=n;return i}function ha(e,t){var a="";if(!e||1>t||t>Pe)return a;do t%2&&(a+=e),t=ps(t/2),t&&(e+=e);while(t);return a}function ga(e,t){return ed(ir(e,t,bi),e+"")}function ma(e){return Vt(ui(e))}function _a(e,t){var n=ui(e);return cr(n,Zt(t,0,n.length))}function ya(e,t,n,a){if(!$r(e))return e;t=Ba(t,e);for(var o=-1,r=t.length,i=e;null!=i&&++o<r;){var s=ur(t[o]),d=n;if(o!=r-1){var l=i[s];d=a?a(l,s,i):void 0,void 0===d&&(d=$r(l)?l:Yo(t[o+1])?[]:{})}Wt(i,s,d),i=i[s]}return e}function ba(e){return cr(ui(e))}function xa(e,t,n){var a=-1,o=e.length;0>t&&(t=-t>o?0:o+t),n=n>o?o:n,0>n&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var r=Ci(o);++a<o;)r[a]=e[a+t];return r}function va(e,t){var n;return zs(e,function(e,a,o){return n=t(e,a,o),!n}),!!n}function Ea(e,t,n){var a=0,o=null==e?a:e.length;if("number"==typeof t&&t===t&&o<=Le>>>1){for(;a<o;){var r=a+o>>>1,i=e[r];null!==i&&!Zr(i)&&(n?i<=t:i<t)?a=r+1:o=r}return o}return ka(e,t,bi,n)}function ka(e,t,n,a){t=n(t);for(var o=0,r=null==e?0:e.length,i=t!==t,s=null===t,d=Zr(t),l=void 0===t;o<r;){var p=ps((o+r)/2),c=n(e[p]),u=void 0!==c,f=null===c,h=c===c,g=Zr(c);if(i)var m=a||h;else m=l?h&&(a||u):s?h&&u&&(a||!f):d?h&&u&&!f&&(a||!g):!(f||g)&&(a?c<=t:c<t);m?o=p+1:r=p}return _s(r,Le-1)}function Ta(e,t){for(var n=-1,a=e.length,o=0,r=[];++n<a;){var i=e[n],s=t?t(i):i;if(!n||!zr(s,d)){var d=s;r[o++]=0===i?0:i}}return r}function wa(e){return"number"==typeof e?e:Zr(e)?Ie:+e}function Sa(e){if("string"==typeof e)return e;if(Fd(e))return b(e,Sa)+"";if(Zr(e))return js?js.call(e):"";var t=e+"";return"0"==t&&1/e==-Ae?"-0":t}function Ca(e,t,n){var a=-1,o=m,r=e.length,i=!0,s=[],d=s;if(n)i=!1,o=y;else if(r>=de){var l=t?null:qs(e);if(l)return Q(l);i=!1,o=V,d=new ie}else d=t?[]:s;outer:for(;++a<r;){var p=e[a],c=t?t(p):p;if(p=n||0!==p?p:0,i&&c===c){for(var u=d.length;u--;)if(d[u]===c)continue outer;t&&d.push(c),s.push(p)}else o(d,c,n)||(d!==s&&d.push(c),s.push(p))}return s}function Aa(e,t){return t=Ba(t,e),e=sr(e,t),null==e||delete e[ur(xr(t))]}function Pa(e,t,n,a){return ya(e,t,n(fn(e,t)),a)}function Ia(e,t,n,a){for(var o=e.length,r=a?o:-1;(a?r--:++r<o)&&t(e[r],r,e););return n?xa(e,a?0:r,a?r+1:o):xa(e,a?r+1:0,a?o:r)}function La(e,t){var n=e;return n instanceof T&&(n=n.value()),v(t,function(e,t){return t.func.apply(t.thisArg,x([e],t.args))},n)}function Na(e,t,n){var a=e.length;if(2>a)return a?Ca(e[0]):[];for(var o=-1,r=Ci(a);++o<a;)for(var i=e[o],s=-1;++s<a;)s!=o&&(r[o]=an(r[o]||i,e[s],t,n));return Ca(ln(r,1),t,n)}function Oa(e,t,n){for(var a=-1,o=e.length,r=t.length,i={},s;++a<o;)s=a<r?t[a]:void 0,n(i,e[a],s);return i}function Ma(e){return Vr(e)?e:[]}function Da(e){return"function"==typeof e?e:bi}function Ba(e,t){return Fd(e)?e:Jo(e,t)?[e]:td(ii(e))}function ja(e,t,n){var a=e.length;return n=void 0===n?a:n,!t&&n>=a?e:xa(e,t,n)}function Ra(e,t){if(t)return e.slice();var n=e.length,a=Ki?Ki(n):new e.constructor(n);return e.copy(a),a}function za(e){var t=new e.constructor(e.byteLength);return new Ji(t).set(new Ji(e)),t}function Fa(e,t){var n=t?za(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function Va(e,t,n){var a=t?n(J(e),ue):J(e);return v(a,d,new e.constructor)}function Ua(e){var t=new e.constructor(e.source,Lt.exec(e));return t.lastIndex=e.lastIndex,t}function Ga(e,t,n){var a=t?n(Q(e),ue):Q(e);return v(a,l,new e.constructor)}function Ha(e){return Bs?Ni(Bs.call(e)):{}}function Wa(e,t){var n=t?za(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function qa(e,t){if(e!==t){var n=void 0!==e,a=null===e,o=e===e,r=Zr(e),i=void 0!==t,s=null===t,d=t===t,l=Zr(t);if(!s&&!l&&!r&&e>t||r&&i&&d&&!s&&!l||a&&i&&d||!n&&d||!o)return 1;if(!a&&!r&&!l&&e<t||l&&n&&o&&!a&&!r||s&&n&&o||!i&&o||!d)return-1}return 0}function $a(e,t,n){for(var a=-1,o=e.criteria,r=t.criteria,i=o.length,s=n.length,d;++a<i;)if(d=qa(o[a],r[a]),d){if(a>=s)return d;var l=n[a];return d*("desc"==l?-1:1)}return e.index-t.index}function Ya(e,t,n,a){for(var o=-1,r=e.length,i=n.length,s=-1,d=t.length,l=ms(r-i,0),p=Ci(d+l),c=!a;++s<d;)p[s]=t[s];for(;++o<i;)(c||o<r)&&(p[n[o]]=e[o]);for(;l--;)p[s++]=e[o++];return p}function Xa(e,t,n,a){for(var o=-1,r=e.length,i=-1,s=n.length,d=-1,l=t.length,p=ms(r-s,0),c=Ci(p+l),u=!a;++o<p;)c[o]=e[o];for(var f=o;++d<l;)c[f+d]=t[d];for(;++i<s;)(u||o<r)&&(c[f+n[i]]=e[o++]);return c}function Ja(e,t){var n=-1,a=e.length;for(t||(t=Ci(a));++n<a;)t[n]=e[n];return t}function Ka(e,t,n,a){var o=!n;n||(n={});for(var r=-1,i=t.length;++r<i;){var s=t[r],d=a?a(n[s],e[s],s,n,e):void 0;void 0===d&&(d=e[s]),o?Jt(n,s,d):Wt(n,s,d)}return n}function Za(e,t){return Ka(e,Ys(e),t)}function Qa(e,t){return Ka(e,Xs(e),t)}function eo(e,t){return function(n,a){var o=Fd(n)?c:$t,r=t?t():{};return o(n,e,Do(a,2),r)}}function to(e){return ga(function(t,n){var a=-1,o=n.length,r=1<o?n[o-1]:void 0,i=2<o?n[2]:void 0;for(r=3<e.length&&"function"==typeof r?(o--,r):void 0,i&&Xo(n[0],n[1],i)&&(r=3>o?void 0:r,o=1),t=Ni(t);++a<o;){var s=n[a];s&&e(t,s,a,r)}return t})}function no(e,t){return function(n,a){if(null==n)return n;if(!Fr(n))return e(n,a);for(var o=n.length,r=t?o:-1,i=Ni(n);(t?r--:++r<o)&&!1!==a(i[r],r,i););return n}}function ao(e){return function(t,n,a){for(var o=-1,r=Ni(t),i=a(t),s=i.length,d;s--&&(d=i[e?s:++o],!1!==n(r[d],d,r)););return t}}function oo(e,t,n){function a(){var t=this&&this!==In&&this instanceof a?r:e;return t.apply(o?n:this,arguments)}var o=t&_e,r=so(e);return a}function ro(e){return function(t){t=ii(t);var n=$(t)?oe(t):void 0,a=n?n[0]:t.charAt(0),o=n?ja(n,1).join(""):t.slice(1);return a[e]()+o}}function io(e){return function(t){return v(_i(hi(t).replace(gn,"")),e,"")}}function so(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6]);}var n=Rs(e.prototype),a=e.apply(n,t);return $r(a)?a:n}}function lo(e,t,n){function a(){for(var r=arguments.length,i=Ci(r),s=r,d=Mo(a);s--;)i[s]=arguments[s];var l=3>r&&i[0]!==d&&i[r-1]!==d?[]:Z(i,d);if(r-=l.length,r<n)return xo(e,t,uo,a.placeholder,void 0,i,l,void 0,void 0,n-r);var c=this&&this!==In&&this instanceof a?o:e;return p(c,this,i)}var o=so(e);return a}function po(e){return function(t,n,a){var o=Ni(t);if(!Fr(t)){var r=Do(n,3);t=li(t),n=function(e){return r(o[e],e,o)}}var i=e(t,n,a);return-1<i?o[r?t[i]:i]:void 0}}function co(e){return Io(function(t){var n=t.length,a=n,o=_.prototype.thru;for(e&&t.reverse();a--;){var r=t[a];if("function"!=typeof r)throw new Di(le);if(o&&!i&&"wrapper"==Oo(r))var i=new _([],!0)}for(a=i?a:n;++a<n;){r=t[a];var s=Oo(r),d="wrapper"==s?$s(r):void 0;i=d&&Zo(d[0])&&d[1]==(Te|xe|Ee|we)&&!d[4].length&&1==d[9]?i[Oo(d[0])].apply(i,d[3]):1==r.length&&Zo(r)?i[s]():i.thru(r)}return function(){var e=arguments,a=e[0];if(i&&1==e.length&&Fd(a))return i.plant(a).value();for(var o=0,r=n?t[o].apply(this,e):a;++o<n;)r=t[o].call(this,r);return r}})}function uo(e,t,n,a,o,r,i,s,d,l){function p(){for(var _=arguments.length,y=Ci(_),b=_;b--;)y[b]=arguments[b];if(h)var x=Mo(p),v=H(y,x);if(a&&(y=Ya(y,a,o,h)),r&&(y=Xa(y,r,i,h)),_-=v,h&&_<l){var E=Z(y,x);return xo(e,t,uo,p.placeholder,n,y,E,s,d,l-_)}var k=u?n:this,T=f?k[e]:e;return _=y.length,s?y=dr(y,s):g&&1<_&&y.reverse(),c&&d<_&&(y.length=d),this&&this!==In&&this instanceof p&&(T=m||so(T)),T.apply(k,y)}var c=t&Te,u=t&_e,f=t&ye,h=t&(xe|ve),g=t&Se,m=f?void 0:so(e);return p}function fo(e,t){return function(n,a){return Pn(n,e,t(a),{})}}function ho(e,t){return function(n,a){var o;if(void 0===n&&void 0===a)return t;if(void 0!==n&&(o=n),void 0!==a){if(void 0===o)return a;"string"==typeof n||"string"==typeof a?(n=Sa(n),a=Sa(a)):(n=wa(n),a=wa(a)),o=e(n,a)}return o}}function go(e){return Io(function(t){return t=b(t,z(Do())),ga(function(n){var a=this;return e(t,function(e){return p(e,a,n)})})})}function mo(e,t){t=void 0===t?" ":Sa(t);var n=t.length;if(2>n)return n?ha(t,e):t;var a=ha(t,ls(e/ae(t)));return $(t)?ja(oe(a),0,e).join(""):a.slice(0,e)}function _o(e,t,n,a){function o(){for(var t=-1,s=arguments.length,d=-1,l=a.length,c=Ci(l+s),u=this&&this!==In&&this instanceof o?i:e;++d<l;)c[d]=a[d];for(;s--;)c[d++]=arguments[++t];return p(u,r?n:this,c)}var r=t&_e,i=so(e);return o}function yo(e){return function(t,n,a){return a&&"number"!=typeof a&&Xo(t,n,a)&&(n=a=void 0),t=ti(t),void 0===n?(n=t,t=0):n=ti(n),a=void 0===a?t<n?1:-1:ti(a),fa(t,n,a,e)}}function bo(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=oi(t),n=oi(n)),e(t,n)}}function xo(e,t,n,a,o,r,i,s,d,l){var p=t&xe,c=p?i:void 0,u=p?void 0:i,f=p?r:void 0,h=p?void 0:r;t|=p?Ee:ke,t&=~(p?ke:Ee),t&be||(t&=~(_e|ye));var g=[e,t,o,f,c,h,u,s,d,l],m=n.apply(void 0,g);return Zo(e)&&Zs(m,g),m.placeholder=a,lr(m,e,t)}function vo(e){var t=Li[e];return function(e,n){if(e=oi(e),n=null==n?0:_s(ni(n),292),n){var a=(ii(e)+"e").split("e"),o=t(a[0]+"e"+(+a[1]+n));return a=(ii(o)+"e").split("e"),+(a[0]+"e"+(+a[1]-n))}return t(e)}}function Eo(e){return function(t){var n=Js(t);return n==Fe?J(t):n==We?ee(t):R(t,e(t))}}function ko(e,t,n,a,o,r,i,s){var d=t&ye;if(!d&&"function"!=typeof e)throw new Di(le);var l=a?a.length:0;if(l||(t&=~(Ee|ke),a=o=void 0),i=void 0===i?i:ms(ni(i),0),s=void 0===s?s:ni(s),l-=o?o.length:0,t&ke){var p=a,c=o;a=o=void 0}var u=d?void 0:$s(e),f=[e,t,n,a,o,p,c,r,i,s];if(u&&ar(f,u),e=f[0],t=f[1],n=f[2],a=f[3],o=f[4],s=f[9]=void 0===f[9]?d?0:e.length:ms(f[9]-l,0),!s&&t&(xe|ve)&&(t&=~(xe|ve)),!t||t==_e)var h=oo(e,t,n);else h=t==xe||t==ve?lo(e,t,s):t!=Ee&&t!=(_e|Ee)||o.length?uo.apply(void 0,f):_o(e,t,n,a);var g=u?Gs:Zs;return lr(g(h,f),e,t)}function To(e,t,n,a){return void 0===e||zr(e,Ri[n])&&!Vi.call(a,n)?t:e}function wo(e,t,n,a,o,r){return $r(e)&&$r(t)&&(r.set(t,e),aa(e,t,void 0,wo,r),r["delete"](t)),e}function So(e){return Jr(e)?void 0:e}function Co(e,t,n,a,o,r){var i=n&ge,s=e.length,d=t.length;if(s!=d&&!(i&&d>s))return!1;var l=r.get(e);if(l&&r.get(t))return l==t;var p=-1,c=!0,u=n&me?new ie:void 0;for(r.set(e,t),r.set(t,e);++p<s;){var f=e[p],h=t[p];if(a)var g=i?a(h,f,p,t,e,r):a(f,h,p,e,t,r);if(void 0!==g){if(g)continue;c=!1;break}if(u){if(!k(t,function(e,t){if(!V(u,t)&&(f===e||o(f,e,n,a,r)))return u.push(t)})){c=!1;break}}else if(!(f===h||o(f,h,n,a,r))){c=!1;break}}return r["delete"](e),r["delete"](t),c}function Ao(e,t,n,a,o,r,i){switch(n){case Je:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Xe:return!!(e.byteLength==t.byteLength&&r(new Ji(e),new Ji(t)));case De:case Be:case Ve:return zr(+e,+t);case je:return e.name==t.name&&e.message==t.message;case He:case qe:return e==t+"";case Fe:var s=J;case We:var d=a&ge;if(s||(s=Q),e.size!=t.size&&!d)return!1;var l=i.get(e);if(l)return l==t;a|=me,i.set(e,t);var p=Co(s(e),s(t),a,o,r,i);return i["delete"](e),p;case $e:if(Bs)return Bs.call(e)==Bs.call(t);}return!1}function Po(e,t,n,a,o,r){var i=n&ge,s=Lo(e),d=s.length,l=Lo(t),p=l.length;if(d!=p&&!i)return!1;for(var c=d,u;c--;)if(u=s[c],i?!(u in t):!Vi.call(t,u))return!1;var f=r.get(e);if(f&&r.get(t))return f==t;var h=!0;r.set(e,t),r.set(t,e);for(var g=i;++c<d;){u=s[c];var m=e[u],_=t[u];if(a)var y=i?a(_,m,u,t,e,r):a(m,_,u,e,t,r);if(void 0===y?!(m===_||o(m,_,n,a,r)):!y){h=!1;break}g||(g="constructor"==u)}if(h&&!g){var b=e.constructor,x=t.constructor;b!=x&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof x&&x instanceof x)&&(h=!1)}return r["delete"](e),r["delete"](t),h}function Io(e){return ed(ir(e,void 0,yr),e+"")}function Lo(e){return hn(e,li,Ys)}function No(e){return hn(e,pi,Xs)}function Oo(e){for(var t=e.name+"",n=Ps[t],a=Vi.call(Ps,t)?n.length:0;a--;){var o=n[a],r=o.func;if(null==r||r==e)return o.name}return t}function Mo(e){var t=Vi.call(i,"placeholder")?i:e;return t.placeholder}function Do(){var e=i.iteratee||xi;return e=e===xi?Jn:e,arguments.length?e(arguments[0],arguments[1]):e}function Bo(e,t){var n=e.__data__;return Ko(t)?n["string"==typeof t?"string":"hash"]:n.map}function jo(e){for(var t=li(e),n=t.length;n--;){var a=t[n],o=e[a];t[n]=[a,o,tr(o)]}return t}function Ro(e,t){var n=q(e,t);return Yn(n)?n:void 0}function zo(e){var t=Vi.call(e,os),n=e[os];try{e[os]=void 0;var a=!0}catch(t){}var o=Hi.call(e);return a&&(t?e[os]=n:delete e[os]),o}function Fo(e,t,n){for(var a=-1,o=n.length;++a<o;){var r=n[a],i=r.size;switch(r.type){case"drop":e+=i;break;case"dropRight":t-=i;break;case"take":t=_s(t,e+i);break;case"takeRight":e=ms(e,t-i);}}return{start:e,end:t}}function Vo(e){var t=e.match(St);return t?t[1].split(Ct):[]}function Uo(e,t,n){t=Ba(t,e);for(var a=-1,o=t.length,r=!1,i;++a<o&&(i=ur(t[a]),!!(r=null!=e&&n(e,i)));)e=e[i];return r||++a!=o?r:(o=null==e?0:e.length,!!o&&qr(o)&&Yo(i,o)&&(Fd(e)||zd(e)))}function Go(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&Vi.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Ho(e){return"function"!=typeof e.constructor||er(e)?{}:Rs(Zi(e))}function Wo(e,t,n,a){var o=e.constructor;return t===Xe?za(e):t===De||t===Be?new o(+e):t===Je?Fa(e,a):t===Ke||t===Ze||t===Qe||t===et||t===tt||t===nt||t===at||t===ot||t===rt?Wa(e,a):t===Fe?Va(e,a,n):t===Ve||t===qe?new o(e):t===He?Ua(e):t===We?Ga(e,a,n):t===$e?Ha(e):void 0}function qo(e,t){var n=t.length;if(!n)return e;var a=n-1;return t[a]=(1<n?"& ":"")+t[a],t=t.join(2<n?", ":" "),e.replace(wt,"{\n/* [wrapped with "+t+"] */\n")}function $o(e){return Fd(e)||zd(e)||!!(ns&&e&&e[ns])}function Yo(e,t){return t=null==t?Pe:t,!!t&&("number"==typeof e||Bt.test(e))&&-1<e&&0==e%1&&e<t}function Xo(e,t,n){if(!$r(n))return!1;var a=typeof t;return("number"==a?!!(Fr(n)&&Yo(t,n.length)):!!("string"==a&&t in n))&&zr(n[t],e)}function Jo(e,t){if(Fd(e))return!1;var n=typeof e;return!!("number"==n||"symbol"==n||"boolean"==n||null==e||Zr(e))||_t.test(e)||!gt.test(e)||null!=t&&e in Ni(t)}function Ko(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function Zo(e){var t=Oo(e),n=i[t];if("function"!=typeof n||!(t in T.prototype))return!1;if(e===n)return!0;var a=$s(n);return!!a&&e===a[0]}function Qo(e){return!!Gi&&Gi in e}function er(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||Ri;return e===n}function tr(e){return e===e&&!$r(e)}function nr(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Ni(n))}}function ar(e,t){var n=e[1],a=t[1],o=n|a,r=o<(_e|ye|Te),i=a==Te&&n==xe||a==Te&&n==we&&e[7].length<=t[8]||a==(Te|we)&&t[7].length<=t[8]&&n==xe;if(!(r||i))return e;a&_e&&(e[2]=t[2],o|=n&_e?0:be);var s=t[3];if(s){var d=e[3];e[3]=d?Ya(d,s,t[4]):s,e[4]=d?Z(e[3],ce):t[4]}return s=t[5],s&&(d=e[5],e[5]=d?Xa(d,s,t[6]):s,e[6]=d?Z(e[5],ce):t[6]),s=t[7],s&&(e[7]=s),a&Te&&(e[8]=null==e[8]?t[8]:_s(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=o,e}function or(e){var t=[];if(null!=e)for(var n in Ni(e))t.push(n);return t}function rr(e){return Hi.call(e)}function ir(e,t,n){return t=ms(void 0===t?e.length-1:t,0),function(){for(var a=arguments,o=-1,r=ms(a.length-t,0),i=Ci(r);++o<r;)i[o]=a[t+o];o=-1;for(var s=Ci(t+1);++o<t;)s[o]=a[o];return s[t]=n(i),p(e,this,s)}}function sr(e,t){return 2>t.length?e:fn(e,xa(t,0,-1))}function dr(e,t){for(var n=e.length,a=_s(t.length,n),o=Ja(e),r;a--;)r=t[a],e[a]=Yo(r,n)?o[r]:void 0;return e}function lr(e,t,n){var a=t+"";return ed(e,qo(a,hr(Vo(a),n)))}function pr(e){var t=0,n=0;return function(){var a=ys(),o=16-(a-n);if(n=a,!(0<o))t=0;else if(++t>=800)return arguments[0];return e.apply(void 0,arguments)}}function cr(e,t){var n=-1,a=e.length;for(t=void 0===t?a:t;++n<t;){var o=ua(n,a-1),r=e[o];e[o]=e[n],e[n]=r}return e.length=t,e}function ur(e){if("string"==typeof e||Zr(e))return e;var t=e+"";return"0"==t&&1/e==-Ae?"-0":t}function fr(e){if(null!=e){try{return Fi.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function hr(e,t){return u(Ne,function(n){var a="_."+n[0];t&n[1]&&!m(e,a)&&e.push(a)}),e.sort()}function gr(e){if(e instanceof T)return e.clone();var t=new _(e.__wrapped__,e.__chain__);return t.__actions__=Ja(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function mr(e,t,n){var a=null==e?0:e.length;if(!a)return-1;var o=null==n?0:ni(n);return 0>o&&(o=ms(a+o,0)),C(e,Do(t,3),o)}function _r(e,t,n){var a=null==e?0:e.length;if(!a)return-1;var o=a-1;return void 0!==n&&(o=ni(n),o=0>n?ms(a+o,0):_s(o,a-1)),C(e,Do(t,3),o,!0)}function yr(e){var t=null==e?0:e.length;return t?ln(e,1):[]}function br(e){return e&&e.length?e[0]:void 0}function xr(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}function vr(e,t){return e&&e.length&&t&&t.length?pa(e,t):e}function Er(e){return null==e?e:vs.call(e)}function kr(e){if(!(e&&e.length))return[];var t=0;return e=g(e,function(e){if(Vr(e))return t=ms(e.length,t),!0}),j(t,function(t){return b(e,N(t))})}function Tr(e,t){if(!(e&&e.length))return[];var n=kr(e);return null==t?n:b(n,function(e){return p(t,void 0,e)})}function wr(e){var t=i(e);return t.__chain__=!0,t}function Sr(e,t){return t(e)}function Cr(e,t){var n=Fd(e)?u:zs;return n(e,Do(t,3))}function Ar(e,t){var n=Fd(e)?f:Fs;return n(e,Do(t,3))}function Pr(e,t){var n=Fd(e)?b:ea;return n(e,Do(t,3))}function Ir(e){if(null==e)return 0;if(Fr(e))return Kr(e)?ae(e):e.length;var t=Js(e);return t==Fe||t==We?e.size:Kn(e).length}function Lr(e,t,a){return t=a?void 0:t,t=e&&null==t?e.length:t,ko(e,Te,void 0,void 0,void 0,void 0,t)}function Nr(e,t){var a;if("function"!=typeof t)throw new Di(le);return e=ni(e),function(){return 0<--e&&(a=t.apply(this,arguments)),1>=e&&(t=void 0),a}}function Or(e,t,n){t=n?void 0:t;var a=ko(e,xe,void 0,void 0,void 0,void 0,void 0,t);return a.placeholder=Or.placeholder,a}function Mr(e,t,n){t=n?void 0:t;var a=ko(e,ve,void 0,void 0,void 0,void 0,void 0,t);return a.placeholder=Mr.placeholder,a}function Dr(e,t,n){function a(t){var n=m,a=_;return m=_=void 0,u=t,b=e.apply(a,n),b}function o(e){return u=e,x=Qs(s,t),f?a(e):b}function r(e){var n=e-v,a=e-u,o=t-n;return h?_s(o,y-a):o}function i(e){var n=e-v,a=e-u;return void 0===v||n>=t||0>n||h&&a>=y}function s(){var e=Ad();return i(e)?d(e):void(x=Qs(s,r(e)))}function d(e){return(x=void 0,g&&m)?a(e):(m=_=void 0,b)}function l(){void 0!==x&&Ws(x),u=0,m=v=_=x=void 0}function p(){return void 0===x?b:d(Ad())}function c(){var e=Ad(),n=i(e);if(m=arguments,_=this,v=e,n){if(void 0===x)return o(v);if(h)return x=Qs(s,t),a(v)}return void 0===x&&(x=Qs(s,t)),b}var u=0,f=!1,h=!1,g=!0,m,_,y,b,x,v;if("function"!=typeof e)throw new Di(le);return t=oi(t)||0,$r(n)&&(f=!!n.leading,h="maxWait"in n,y=h?ms(oi(n.maxWait)||0,t):y,g="trailing"in n?!!n.trailing:g),c.cancel=l,c.flush=p,c}function Br(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Di(le);var n=function(){var a=arguments,o=t?t.apply(this,a):a[0],r=n.cache;if(r.has(o))return r.get(o);var i=e.apply(this,a);return n.cache=r.set(o,i)||r,i};return n.cache=new(Br.Cache||re),n}function jr(e){if("function"!=typeof e)throw new Di(le);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2]);}return!e.apply(this,t)}}function Rr(e,t,n){var a=!0,o=!0;if("function"!=typeof e)throw new Di(le);return $r(n)&&(a="leading"in n?!!n.leading:a,o="trailing"in n?!!n.trailing:o),Dr(e,t,{leading:a,maxWait:t,trailing:o})}function zr(e,t){return e===t||e!==e&&t!==t}function Fr(e){return null!=e&&qr(e.length)&&!Hr(e)}function Vr(e){return Yr(e)&&Fr(e)}function Ur(e){if(null==e)return!0;if(Fr(e)&&(Fd(e)||"string"==typeof e||"function"==typeof e.splice||Ud(e)||$d(e)||zd(e)))return!e.length;var t=Js(e);if(t==Fe||t==We)return!e.size;if(er(e))return!Kn(e).length;for(var n in e)if(Vi.call(e,n))return!1;return!0}function Gr(e){if(!Yr(e))return!1;var t=_n(e);return t==je||t=="[object DOMException]"||"string"==typeof e.message&&"string"==typeof e.name&&!Jr(e)}function Hr(e){if(!$r(e))return!1;var t=_n(e);return t==Re||t==ze||t=="[object AsyncFunction]"||t=="[object Proxy]"}function Wr(e){return"number"==typeof e&&e==ni(e)}function qr(e){return"number"==typeof e&&-1<e&&0==e%1&&e<=Pe}function $r(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Yr(e){return null!=e&&"object"==typeof e}function Xr(e){return"number"==typeof e||Yr(e)&&_n(e)==Ve}function Jr(e){if(!Yr(e)||_n(e)!=Ue)return!1;var t=Zi(e);if(null===t)return!0;var n=Vi.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Fi.call(n)==Wi}function Kr(e){return"string"==typeof e||!Fd(e)&&Yr(e)&&_n(e)==qe}function Zr(e){return"symbol"==typeof e||Yr(e)&&_n(e)==$e}function Qr(e){return Yr(e)&&Js(e)==Ye}function ei(e){if(!e)return[];if(Fr(e))return Kr(e)?oe(e):Ja(e);if(as&&e[as])return X(e[as]());var t=Js(e),n=t==Fe?J:t==We?Q:ui;return n(e)}function ti(e){if(!e)return 0===e?e:0;if(e=oi(e),e===Ae||e===-Ae){var t=0>e?-1:1;return t*17976931348623157e292}return e===e?e:0}function ni(e){var t=ti(e),n=t%1;return t===t?n?t-n:t:0}function ai(e){return e?Zt(ni(e),0,Le):0}function oi(e){if("number"==typeof e)return e;if(Zr(e))return Ie;if($r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=$r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Et,"");var n=Ot.test(e);return n||Dt.test(e)?Cn(e.slice(2),n?2:8):Nt.test(e)?Ie:+e}function ri(e){return Ka(e,pi(e))}function ii(e){return null==e?"":Sa(e)}function si(e,t,n){var a=null==e?void 0:fn(e,t);return void 0===a?n:a}function di(e,t){return null!=e&&Uo(e,t,xn)}function li(e){return Fr(e)?Ft(e):Kn(e)}function pi(e){return Fr(e)?Ft(e,!0):Zn(e)}function ci(e,t){if(null==e)return{};var n=b(No(e),function(e){return[e]});return t=Do(t),da(e,n,function(e,n){return t(e,n[0])})}function ui(e){return null==e?[]:F(e,li(e))}function fi(e){return bl(ii(e).toLowerCase())}function hi(e){return e=ii(e),e&&e.replace(jt,Gn).replace(mn,"")}function gi(e,t,n){var a=i.templateSettings;n&&Xo(e,t,n)&&(t=void 0),e=ii(e),t=Zd({},t,a,To);var o=Zd({},t.imports,a.imports,To),r=li(o),s=F(o,r),d=0,l=t.interpolate||Rt,p="__p += '",c=Oi((t.escape||Rt).source+"|"+l.source+"|"+(l===mt?It:Rt).source+"|"+(t.evaluate||Rt).source+"|$","g"),u="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++En+"]")+"\n",f,h;e.replace(c,function(t,n,a,o,r,i){return a||(a=o),p+=e.slice(d,i).replace(zt,W),n&&(f=!0,p+="' +\n__e("+n+") +\n'"),r&&(h=!0,p+="';\n"+r+";\n__p += '"),a&&(p+="' +\n((__t = ("+a+")) == null ? '' : __t) +\n'"),d=i+t.length,t}),p+="';\n";var g=t.variable;g||(p="with (obj) {\n"+p+"\n}\n"),p=(h?p.replace(it,""):p).replace(st,"$1").replace(dt,"$1;"),p="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(f?", __e = _.escape":"")+(h?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var m=xl(function(){return Ii(r,u+"return "+p).apply(void 0,s)});if(m.source=p,Gr(m))throw m;return m}function mi(e,t){var n=30,a="...";if($r(t)){var o="separator"in t?t.separator:o;n="length"in t?ni(t.length):n,a="omission"in t?Sa(t.omission):a}e=ii(e);var r=e.length;if($(e)){var i=oe(e);r=i.length}if(n>=r)return e;var s=n-ae(a);if(1>s)return a;var d=i?ja(i,0,s).join(""):e.slice(0,s);if(void 0===o)return d+a;if(i&&(s+=d.length-s),Wd(o)){if(e.slice(s).search(o)){var l=d,p;for(o.global||(o=Oi(o.source,ii(Lt.exec(o))+"g")),o.lastIndex=0;p=o.exec(l);)var c=p.index;d=d.slice(0,void 0===c?s:c)}}else if(e.indexOf(Sa(o),s)!=s){var u=d.lastIndexOf(o);-1<u&&(d=d.slice(0,u))}return d+a}function _i(e,t,n){return e=ii(e),t=n?void 0:t,void 0===t?Y(e)?se(e):w(e):e.match(t)||[]}function yi(e){return function(){return e}}function bi(e){return e}function xi(e){return Jn("function"==typeof e?e:Qt(e,ue))}function vi(e,t,n){var a=li(t),o=un(t,a);null!=n||$r(t)&&(o.length||!a.length)||(n=t,t=e,e=this,o=un(t,li(t)));var r=!($r(n)&&"chain"in n)||!!n.chain,i=Hr(e);return u(o,function(n){var a=t[n];e[n]=a,i&&(e.prototype[n]=function(){var t=this.__chain__;if(r||t){var n=e(this.__wrapped__),o=n.__actions__=Ja(this.__actions__);return o.push({func:a,args:arguments,thisArg:e}),n.__chain__=t,n}return a.apply(e,x([this.value()],arguments))})}),e}function Ei(){}function ki(e){return Jo(e)?N(ur(e)):la(e)}function Ti(){return[]}function wi(){return!1}function Si(e){var t=++Ui;return ii(e)+t}n=null==n?In:qn.defaults(In.Object(),n,qn.pick(In,vn));var Ci=n.Array,Ai=n.Date,Pi=n.Error,Ii=n.Function,Li=n.Math,Ni=n.Object,Oi=n.RegExp,Mi=n.String,Di=n.TypeError,Bi=Ci.prototype,ji=Ii.prototype,Ri=Ni.prototype,zi=n["__core-js_shared__"],Fi=ji.toString,Vi=Ri.hasOwnProperty,Ui=0,Gi=function(){var e=/[^.]+$/.exec(zi&&zi.keys&&zi.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Hi=Ri.toString,Wi=Fi.call(Ni),qi=In._,$i=Oi("^"+Fi.call(Vi).replace(xt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Yi=On?n.Buffer:void 0,Xi=n.Symbol,Ji=n.Uint8Array,Ki=Yi?Yi.allocUnsafe:void 0,Zi=K(Ni.getPrototypeOf,Ni),Qi=Ni.create,es=Ri.propertyIsEnumerable,ts=Bi.splice,ns=Xi?Xi.isConcatSpreadable:void 0,as=Xi?Xi.iterator:void 0,os=Xi?Xi.toStringTag:void 0,rs=function(){try{var e=Ro(Ni,"defineProperty");return e({},"",{}),e}catch(t){}}(),is=n.clearTimeout!==In.clearTimeout&&n.clearTimeout,ss=Ai&&Ai.now!==In.Date.now&&Ai.now,ds=n.setTimeout!==In.setTimeout&&n.setTimeout,ls=r,ps=a,cs=Ni.getOwnPropertySymbols,us=Yi?Yi.isBuffer:void 0,fs=n.isFinite,hs=Bi.join,gs=K(Ni.keys,Ni),ms=o,_s=t,ys=Ai.now,bs=n.parseInt,xs=Li.random,vs=Bi.reverse,Es=Ro(n,"DataView"),ks=Ro(n,"Map"),Ts=Ro(n,"Promise"),ws=Ro(n,"Set"),Ss=Ro(n,"WeakMap"),Cs=Ro(Ni,"create"),As=Ss&&new Ss,Ps={},Is=fr(Es),Ls=fr(ks),Ns=fr(Ts),Os=fr(ws),Ms=fr(Ss),Ds=Xi?Xi.prototype:void 0,Bs=Ds?Ds.valueOf:void 0,js=Ds?Ds.toString:void 0,Rs=function(){function e(){}return function(t){if(!$r(t))return{};if(Qi)return Qi(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();i.templateSettings={escape:ft,evaluate:ht,interpolate:mt,variable:"",imports:{_:i}},i.prototype=s.prototype,i.prototype.constructor=i,_.prototype=Rs(s.prototype),_.prototype.constructor=_,T.prototype=Rs(s.prototype),T.prototype.constructor=T,O.prototype.clear=function(){this.__data__=Cs?Cs(null):{},this.size=0},O.prototype["delete"]=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},O.prototype.get=function(e){var t=this.__data__;if(Cs){var n=t[e];return n===pe?void 0:n}return Vi.call(t,e)?t[e]:void 0},O.prototype.has=function(e){var t=this.__data__;return Cs?void 0!==t[e]:Vi.call(t,e)},O.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Cs&&void 0===t?pe:t,this},te.prototype.clear=function(){this.__data__=[],this.size=0},te.prototype["delete"]=function(e){var t=this.__data__,n=qt(t,e);if(0>n)return!1;var a=t.length-1;return n==a?t.pop():ts.call(t,n,1),--this.size,!0},te.prototype.get=function(e){var t=this.__data__,n=qt(t,e);return 0>n?void 0:t[n][1]},te.prototype.has=function(e){return-1<qt(this.__data__,e)},te.prototype.set=function(e,t){var n=this.__data__,a=qt(n,e);return 0>a?(++this.size,n.push([e,t])):n[a][1]=t,this},re.prototype.clear=function(){this.size=0,this.__data__={hash:new O,map:new(ks||te),string:new O}},re.prototype["delete"]=function(e){var t=Bo(this,e)["delete"](e);return this.size-=t?1:0,t},re.prototype.get=function(e){return Bo(this,e).get(e)},re.prototype.has=function(e){return Bo(this,e).has(e)},re.prototype.set=function(e,t){var n=Bo(this,e),a=n.size;return n.set(e,t),this.size+=n.size==a?0:1,this},ie.prototype.add=ie.prototype.push=function(e){return this.__data__.set(e,pe),this},ie.prototype.has=function(e){return this.__data__.has(e)},At.prototype.clear=function(){this.__data__=new te,this.size=0},At.prototype["delete"]=function(e){var t=this.__data__,n=t["delete"](e);return this.size=t.size,n},At.prototype.get=function(e){return this.__data__.get(e)},At.prototype.has=function(e){return this.__data__.has(e)},At.prototype.set=function(e,t){var n=this.__data__;if(n instanceof te){var a=n.__data__;if(!ks||a.length<de-1)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new re(a)}return n.set(e,t),this.size=n.size,this};var zs=no(pn),Fs=no(cn,!0),Vs=ao(),Us=ao(!0),Gs=As?function(e,t){return As.set(e,t),e}:bi,Hs=rs?function(e,t){return rs(e,"toString",{configurable:!0,enumerable:!1,value:yi(t),writable:!0})}:bi,Ws=is||function(e){return In.clearTimeout(e)},qs=ws&&1/Q(new ws([,-0]))[1]==Ae?function(e){return new ws(e)}:Ei,$s=As?function(e){return As.get(e)}:Ei,Ys=cs?function(e){return null==e?[]:(e=Ni(e),g(cs(e),function(t){return es.call(e,t)}))}:Ti,Xs=cs?function(e){for(var t=[];e;)x(t,Ys(e)),e=Zi(e);return t}:Ti,Js=_n;(Es&&Js(new Es(new ArrayBuffer(1)))!=Je||ks&&Js(new ks)!=Fe||Ts&&Js(Ts.resolve())!=Ge||ws&&Js(new ws)!=We||Ss&&Js(new Ss)!=Ye)&&(Js=function(e){var t=_n(e),n=t==Ue?e.constructor:void 0,a=n?fr(n):"";if(a)switch(a){case Is:return Je;case Ls:return Fe;case Ns:return Ge;case Os:return We;case Ms:return Ye;}return t});var Ks=zi?Hr:wi,Zs=pr(Gs),Qs=ds||function(e,t){return In.setTimeout(e,t)},ed=pr(Hs),td=function(e){var t=Br(e,function(e){return n.size===500&&n.clear(),e}),n=t.cache;return t}(function(e){var t=[];return yt.test(e)&&t.push(""),e.replace(bt,function(e,n,a,o){t.push(a?o.replace(Pt,"$1"):n||e)}),t}),nd=ga(function(e,t){return Vr(e)?an(e,ln(t,1,Vr,!0)):[]}),ad=ga(function(e,t){var n=xr(t);return Vr(n)&&(n=void 0),Vr(e)?an(e,ln(t,1,Vr,!0),Do(n,2)):[]}),od=ga(function(e,t){var n=xr(t);return Vr(n)&&(n=void 0),Vr(e)?an(e,ln(t,1,Vr,!0),void 0,n):[]}),rd=ga(function(e){var t=b(e,Ma);return t.length&&t[0]===e[0]?An(t):[]}),id=ga(function(e){var t=xr(e),n=b(e,Ma);return t===xr(n)?t=void 0:n.pop(),n.length&&n[0]===e[0]?An(n,Do(t,2)):[]}),sd=ga(function(e){var t=xr(e),n=b(e,Ma);return t="function"==typeof t?t:void 0,t&&n.pop(),n.length&&n[0]===e[0]?An(n,void 0,t):[]}),dd=ga(vr),ld=Io(function(e,t){var n=null==e?0:e.length,a=Kt(e,t);return ca(e,b(t,function(e){return Yo(e,n)?+e:e}).sort(qa)),a}),pd=ga(function(e){return Ca(ln(e,1,Vr,!0))}),cd=ga(function(e){var t=xr(e);return Vr(t)&&(t=void 0),Ca(ln(e,1,Vr,!0),Do(t,2))}),ud=ga(function(e){var t=xr(e);return t="function"==typeof t?t:void 0,Ca(ln(e,1,Vr,!0),void 0,t)}),fd=ga(function(e,t){return Vr(e)?an(e,t):[]}),hd=ga(function(e){return Na(g(e,Vr))}),gd=ga(function(e){var t=xr(e);return Vr(t)&&(t=void 0),Na(g(e,Vr),Do(t,2))}),md=ga(function(e){var t=xr(e);return t="function"==typeof t?t:void 0,Na(g(e,Vr),void 0,t)}),_d=ga(kr),yd=ga(function(e){var t=e.length,n=1<t?e[t-1]:void 0;return n="function"==typeof n?(e.pop(),n):void 0,Tr(e,n)}),bd=Io(function(e){var t=e.length,n=t?e[0]:0,a=this.__wrapped__,o=function(t){return Kt(t,e)};return 1<t||this.__actions__.length||!(a instanceof T)||!Yo(n)?this.thru(o):(a=a.slice(n,+n+(t?1:0)),a.__actions__.push({func:Sr,args:[o],thisArg:void 0}),new _(a,this.__chain__).thru(function(e){return t&&!e.length&&e.push(void 0),e}))}),xd=eo(function(e,t,n){Vi.call(e,n)?++e[n]:Jt(e,n,1)}),vd=po(mr),Ed=po(_r),kd=eo(function(e,t,n){Vi.call(e,n)?e[n].push(t):Jt(e,n,[t])}),Td=ga(function(e,t,n){var a=-1,o=Fr(e)?Ci(e.length):[];return zs(e,function(e){o[++a]="function"==typeof t?p(t,e,n):Ln(e,t,n)}),o}),wd=eo(function(e,t,n){Jt(e,n,t)}),Sd=eo(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),Cd=ga(function(e,t){if(null==e)return[];var n=t.length;return 1<n&&Xo(e,t[0],t[1])?t=[]:2<n&&Xo(t[0],t[1],t[2])&&(t=[t[0]]),ia(e,ln(t,1),[])}),Ad=ss||function(){return In.Date.now()},Pd=ga(function(e,t,n){var a=_e;if(n.length){var o=Z(n,Mo(Pd));a|=Ee}return ko(e,a,t,n,o)}),Id=ga(function(e,t,n){var a=_e|ye;if(n.length){var o=Z(n,Mo(Id));a|=Ee}return ko(t,a,e,n,o)}),Ld=ga(function(e,t){return nn(e,1,t)}),Nd=ga(function(e,t,n){return nn(e,oi(t)||0,n)});Br.Cache=re;var Od=ga(function(e,t){t=1==t.length&&Fd(t[0])?b(t[0],z(Do())):b(ln(t,1),z(Do()));var n=t.length;return ga(function(a){for(var o=-1,r=_s(a.length,n);++o<r;)a[o]=t[o].call(this,a[o]);return p(e,this,a)})}),Md=ga(function(e,t){var n=Z(t,Mo(Md));return ko(e,Ee,void 0,t,n)}),Dd=ga(function(e,t){var n=Z(t,Mo(Dd));return ko(e,ke,void 0,t,n)}),Bd=Io(function(e,t){return ko(e,we,void 0,void 0,void 0,t)}),jd=bo(yn),Rd=bo(function(e,t){return e>=t}),zd=Nn(function(){return arguments}())?Nn:function(e){return Yr(e)&&Vi.call(e,"callee")&&!es.call(e,"callee")},Fd=Ci.isArray,Vd=Bn?z(Bn):function(e){return Yr(e)&&_n(e)==Xe},Ud=us||wi,Gd=jn?z(jn):function(e){return Yr(e)&&_n(e)==Be},Hd=Rn?z(Rn):Un,Wd=zn?z(zn):function(e){return Yr(e)&&_n(e)==He},qd=Fn?z(Fn):Xn,$d=Vn?z(Vn):function(e){return Yr(e)&&qr(e.length)&&!!kn[_n(e)]},Yd=bo(Qn),Xd=bo(function(e,t){return e<=t}),Jd=to(function(e,t){if(er(t)||Fr(t))return void Ka(t,li(t),e);for(var n in t)Vi.call(t,n)&&Wt(e,n,t[n])}),Kd=to(function(e,t){Ka(t,pi(t),e)}),Zd=to(function(e,t,n,a){Ka(t,pi(t),e,a)}),Qd=to(function(e,t,n,a){Ka(t,li(t),e,a)}),el=Io(Kt),tl=ga(function(e){return e.push(void 0,To),p(Zd,void 0,e)}),nl=ga(function(e){return e.push(void 0,wo),p(sl,void 0,e)}),al=fo(function(e,t,n){e[t]=n},yi(bi)),ol=fo(function(e,t,n){Vi.call(e,t)?e[t].push(n):e[t]=[n]},Do),rl=ga(Ln),il=to(function(e,t,n){aa(e,t,n)}),sl=to(function(e,t,n,a){aa(e,t,n,a)}),dl=Io(function(e,t){var n={};if(null==e)return n;var a=!1;t=b(t,function(t){return t=Ba(t,e),a||(a=1<t.length),t}),Ka(e,No(e),n),a&&(n=Qt(n,ue|fe|he,So));for(var o=t.length;o--;)Aa(n,t[o]);return n}),ll=Io(function(e,t){return null==e?{}:sa(e,t)}),pl=Eo(li),cl=Eo(pi),ul=io(function(e,t,n){return t=t.toLowerCase(),e+(n?fi(t):t)}),fl=io(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),hl=io(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),gl=ro("toLowerCase"),ml=io(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),_l=io(function(e,t,n){return e+(n?" ":"")+bl(t)}),yl=io(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),bl=ro("toUpperCase"),xl=ga(function(e,t){try{return p(e,void 0,t)}catch(t){return Gr(t)?t:new Pi(t)}}),vl=Io(function(e,t){return u(t,function(t){t=ur(t),Jt(e,t,Pd(e[t],e))}),e}),El=co(),kl=co(!0),Tl=ga(function(e,t){return function(n){return Ln(n,e,t)}}),wl=ga(function(e,t){return function(n){return Ln(e,n,t)}}),Sl=go(b),Cl=go(h),Al=go(k),Pl=yo(),Il=yo(!0),Ll=ho(function(e,t){return e+t},0),Nl=vo("ceil"),Ol=ho(function(e,t){return e/t},1),Ml=vo("floor"),Dl=ho(function(e,t){return e*t},1),Bl=vo("round"),jl=ho(function(e,t){return e-t},0);return i.after=function(e,t){if("function"!=typeof t)throw new Di(le);return e=ni(e),function(){if(1>--e)return t.apply(this,arguments)}},i.ary=Lr,i.assign=Jd,i.assignIn=Kd,i.assignInWith=Zd,i.assignWith=Qd,i.at=el,i.before=Nr,i.bind=Pd,i.bindAll=vl,i.bindKey=Id,i.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Fd(e)?e:[e]},i.chain=wr,i.chunk=function(e,t,n){t=(n?Xo(e,t,n):void 0===t)?1:ms(ni(t),0);var a=null==e?0:e.length;if(!a||1>t)return[];for(var o=0,r=0,i=Ci(ls(a/t));o<a;)i[r++]=xa(e,o,o+=t);return i},i.compact=function(e){for(var t=-1,n=null==e?0:e.length,a=0,o=[],r;++t<n;)r=e[t],r&&(o[a++]=r);return o},i.concat=function(){var e=arguments.length;if(!e)return[];for(var t=Ci(e-1),n=arguments[0],a=e;a--;)t[a-1]=arguments[a];return x(Fd(n)?Ja(n):[n],ln(t,1))},i.cond=function(e){var t=null==e?0:e.length,n=Do();return e=t?b(e,function(e){if("function"!=typeof e[1])throw new Di(le);return[n(e[0]),e[1]]}):[],ga(function(n){for(var a=-1,o;++a<t;)if(o=e[a],p(o[0],this,n))return p(o[1],this,n)})},i.conforms=function(e){return en(Qt(e,ue))},i.constant=yi,i.countBy=xd,i.create=function(e,t){var n=Rs(e);return null==t?n:Yt(n,t)},i.curry=Or,i.curryRight=Mr,i.debounce=Dr,i.defaults=tl,i.defaultsDeep=nl,i.defer=Ld,i.delay=Nd,i.difference=nd,i.differenceBy=ad,i.differenceWith=od,i.drop=function(e,t,a){var o=null==e?0:e.length;return o?(t=a||void 0===t?1:ni(t),xa(e,0>t?0:t,o)):[]},i.dropRight=function(e,t,a){var o=null==e?0:e.length;return o?(t=a||void 0===t?1:ni(t),t=o-t,xa(e,0,0>t?0:t)):[]},i.dropRightWhile=function(e,t){return e&&e.length?Ia(e,Do(t,3),!0,!0):[]},i.dropWhile=function(e,t){return e&&e.length?Ia(e,Do(t,3),!0):[]},i.fill=function(e,t,n,a){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&Xo(e,t,n)&&(n=0,a=o),sn(e,t,n,a)):[]},i.filter=function(e,t){var n=Fd(e)?g:dn;return n(e,Do(t,3))},i.flatMap=function(e,t){return ln(Pr(e,t),1)},i.flatMapDeep=function(e,t){return ln(Pr(e,t),Ae)},i.flatMapDepth=function(e,t,n){return n=void 0===n?1:ni(n),ln(Pr(e,t),n)},i.flatten=yr,i.flattenDeep=function(e){var t=null==e?0:e.length;return t?ln(e,Ae):[]},i.flattenDepth=function(e,t){var n=null==e?0:e.length;return n?(t=void 0===t?1:ni(t),ln(e,t)):[]},i.flip=function(e){return ko(e,Se)},i.flow=El,i.flowRight=kl,i.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,a={},o;++t<n;)o=e[t],a[o[0]]=o[1];return a},i.functions=function(e){return null==e?[]:un(e,li(e))},i.functionsIn=function(e){return null==e?[]:un(e,pi(e))},i.groupBy=kd,i.initial=function(e){var t=null==e?0:e.length;return t?xa(e,0,-1):[]},i.intersection=rd,i.intersectionBy=id,i.intersectionWith=sd,i.invert=al,i.invertBy=ol,i.invokeMap=Td,i.iteratee=xi,i.keyBy=wd,i.keys=li,i.keysIn=pi,i.map=Pr,i.mapKeys=function(e,t){var n={};return t=Do(t,3),pn(e,function(e,a,o){Jt(n,t(e,a,o),e)}),n},i.mapValues=function(e,t){var n={};return t=Do(t,3),pn(e,function(e,a,o){Jt(n,a,t(e,a,o))}),n},i.matches=function(e){return ta(Qt(e,ue))},i.matchesProperty=function(e,t){return na(e,Qt(t,ue))},i.memoize=Br,i.merge=il,i.mergeWith=sl,i.method=Tl,i.methodOf=wl,i.mixin=vi,i.negate=jr,i.nthArg=function(e){return e=ni(e),ga(function(t){return ra(t,e)})},i.omit=dl,i.omitBy=function(e,t){return ci(e,jr(Do(t)))},i.once=function(e){return Nr(2,e)},i.orderBy=function(e,t,n,a){return null==e?[]:(Fd(t)||(t=null==t?[]:[t]),n=a?void 0:n,Fd(n)||(n=null==n?[]:[n]),ia(e,t,n))},i.over=Sl,i.overArgs=Od,i.overEvery=Cl,i.overSome=Al,i.partial=Md,i.partialRight=Dd,i.partition=Sd,i.pick=ll,i.pickBy=ci,i.property=ki,i.propertyOf=function(e){return function(t){return null==e?void 0:fn(e,t)}},i.pull=dd,i.pullAll=vr,i.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?pa(e,t,Do(n,2)):e},i.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?pa(e,t,void 0,n):e},i.pullAt=ld,i.range=Pl,i.rangeRight=Il,i.rearg=Bd,i.reject=function(e,t){var n=Fd(e)?g:dn;return n(e,jr(Do(t,3)))},i.remove=function(e,t){var n=[];if(!(e&&e.length))return n;var a=-1,o=[],r=e.length;for(t=Do(t,3);++a<r;){var i=e[a];t(i,a,e)&&(n.push(i),o.push(a))}return ca(e,o),n},i.rest=function(e,t){if("function"!=typeof e)throw new Di(le);return t=void 0===t?t:ni(t),ga(e,t)},i.reverse=Er,i.sampleSize=function(e,t,a){t=(a?Xo(e,t,a):void 0===t)?1:ni(t);var o=Fd(e)?Ut:_a;return o(e,t)},i.set=function(e,t,n){return null==e?e:ya(e,t,n)},i.setWith=function(e,t,n,a){return a="function"==typeof a?a:void 0,null==e?e:ya(e,t,n,a)},i.shuffle=function(e){var t=Fd(e)?Gt:ba;return t(e)},i.slice=function(e,t,n){var a=null==e?0:e.length;return a?(n&&"number"!=typeof n&&Xo(e,t,n)?(t=0,n=a):(t=null==t?0:ni(t),n=void 0===n?a:ni(n)),xa(e,t,n)):[]},i.sortBy=Cd,i.sortedUniq=function(e){return e&&e.length?Ta(e):[]},i.sortedUniqBy=function(e,t){return e&&e.length?Ta(e,Do(t,2)):[]},i.split=function(e,t,n){return(n&&"number"!=typeof n&&Xo(e,t,n)&&(t=n=void 0),n=void 0===n?Le:n>>>0,!n)?[]:(e=ii(e),e&&("string"==typeof t||null!=t&&!Wd(t))&&(t=Sa(t),!t&&$(e))?ja(oe(e),0,n):e.split(t,n))},i.spread=function(e,t){if("function"!=typeof e)throw new Di(le);return t=null==t?0:ms(ni(t),0),ga(function(n){var a=n[t],o=ja(n,0,t);return a&&x(o,a),p(e,this,o)})},i.tail=function(e){var t=null==e?0:e.length;return t?xa(e,1,t):[]},i.take=function(e,t,a){return e&&e.length?(t=a||void 0===t?1:ni(t),xa(e,0,0>t?0:t)):[]},i.takeRight=function(e,t,a){var o=null==e?0:e.length;return o?(t=a||void 0===t?1:ni(t),t=o-t,xa(e,0>t?0:t,o)):[]},i.takeRightWhile=function(e,t){return e&&e.length?Ia(e,Do(t,3),!1,!0):[]},i.takeWhile=function(e,t){return e&&e.length?Ia(e,Do(t,3)):[]},i.tap=function(e,t){return t(e),e},i.throttle=Rr,i.thru=Sr,i.toArray=ei,i.toPairs=pl,i.toPairsIn=cl,i.toPath=function(e){return Fd(e)?b(e,ur):Zr(e)?[e]:Ja(td(ii(e)))},i.toPlainObject=ri,i.transform=function(e,t,n){var a=Fd(e),o=a||Ud(e)||$d(e);if(t=Do(t,4),null==n){var r=e&&e.constructor;n=o?a?new r:[]:$r(e)?Hr(r)?Rs(Zi(e)):{}:{}}return(o?u:pn)(e,function(e,a,o){return t(n,e,a,o)}),n},i.unary=function(e){return Lr(e,1)},i.union=pd,i.unionBy=cd,i.unionWith=ud,i.uniq=function(e){return e&&e.length?Ca(e):[]},i.uniqBy=function(e,t){return e&&e.length?Ca(e,Do(t,2)):[]},i.uniqWith=function(e,t){return t="function"==typeof t?t:void 0,e&&e.length?Ca(e,void 0,t):[]},i.unset=function(e,t){return null==e||Aa(e,t)},i.unzip=kr,i.unzipWith=Tr,i.update=function(e,t,n){return null==e?e:Pa(e,t,Da(n))},i.updateWith=function(e,t,n,a){return a="function"==typeof a?a:void 0,null==e?e:Pa(e,t,Da(n),a)},i.values=ui,i.valuesIn=function(e){return null==e?[]:F(e,pi(e))},i.without=fd,i.words=_i,i.wrap=function(e,t){return Md(Da(t),e)},i.xor=hd,i.xorBy=gd,i.xorWith=md,i.zip=_d,i.zipObject=function(e,t){return Oa(e||[],t||[],Wt)},i.zipObjectDeep=function(e,t){return Oa(e||[],t||[],ya)},i.zipWith=yd,i.entries=pl,i.entriesIn=cl,i.extend=Kd,i.extendWith=Zd,vi(i,i),i.add=Ll,i.attempt=xl,i.camelCase=ul,i.capitalize=fi,i.ceil=Nl,i.clamp=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=oi(n),n=n===n?n:0),void 0!==t&&(t=oi(t),t=t===t?t:0),Zt(oi(e),t,n)},i.clone=function(e){return Qt(e,he)},i.cloneDeep=function(e){return Qt(e,ue|he)},i.cloneDeepWith=function(e,t){return t="function"==typeof t?t:void 0,Qt(e,ue|he,t)},i.cloneWith=function(e,t){return t="function"==typeof t?t:void 0,Qt(e,he,t)},i.conformsTo=function(e,t){return null==t||tn(e,t,li(t))},i.deburr=hi,i.defaultTo=function(e,t){return null==e||e!==e?t:e},i.divide=Ol,i.endsWith=function(e,t,n){e=ii(e),t=Sa(t);var a=e.length;n=void 0===n?a:Zt(ni(n),0,a);var o=n;return n-=t.length,0<=n&&e.slice(n,o)==t},i.eq=zr,i.escape=function(e){return e=ii(e),e&&ut.test(e)?e.replace(pt,Hn):e},i.escapeRegExp=function(e){return e=ii(e),e&&vt.test(e)?e.replace(xt,"\\$&"):e},i.every=function(e,t,n){var a=Fd(e)?h:on;return n&&Xo(e,t,n)&&(t=void 0),a(e,Do(t,3))},i.find=vd,i.findIndex=mr,i.findKey=function(e,t){return S(e,Do(t,3),pn)},i.findLast=Ed,i.findLastIndex=_r,i.findLastKey=function(e,t){return S(e,Do(t,3),cn)},i.floor=Ml,i.forEach=Cr,i.forEachRight=Ar,i.forIn=function(e,t){return null==e?e:Vs(e,Do(t,3),pi)},i.forInRight=function(e,t){return null==e?e:Us(e,Do(t,3),pi)},i.forOwn=function(e,t){return e&&pn(e,Do(t,3))},i.forOwnRight=function(e,t){return e&&cn(e,Do(t,3))},i.get=si,i.gt=jd,i.gte=Rd,i.has=function(e,t){return null!=e&&Uo(e,t,bn)},i.hasIn=di,i.head=br,i.identity=bi,i.includes=function(e,t,n,a){e=Fr(e)?e:ui(e),n=n&&!a?ni(n):0;var o=e.length;return 0>n&&(n=ms(o+n,0)),Kr(e)?n<=o&&-1<e.indexOf(t,n):!!o&&-1<A(e,t,n)},i.indexOf=function(e,t,n){var a=null==e?0:e.length;if(!a)return-1;var o=null==n?0:ni(n);return 0>o&&(o=ms(a+o,0)),A(e,t,o)},i.inRange=function(e,t,n){return t=ti(t),void 0===n?(n=t,t=0):n=ti(n),e=oi(e),wn(e,t,n)},i.invoke=rl,i.isArguments=zd,i.isArray=Fd,i.isArrayBuffer=Vd,i.isArrayLike=Fr,i.isArrayLikeObject=Vr,i.isBoolean=function(e){return!0===e||!1===e||Yr(e)&&_n(e)==De},i.isBuffer=Ud,i.isDate=Gd,i.isElement=function(e){return Yr(e)&&1===e.nodeType&&!Jr(e)},i.isEmpty=Ur,i.isEqual=function(e,t){return Mn(e,t)},i.isEqualWith=function(e,t,n){n="function"==typeof n?n:void 0;var a=n?n(e,t):void 0;return void 0===a?Mn(e,t,void 0,n):!!a},i.isError=Gr,i.isFinite=function(e){return"number"==typeof e&&fs(e)},i.isFunction=Hr,i.isInteger=Wr,i.isLength=qr,i.isMap=Hd,i.isMatch=function(e,t){return e===t||$n(e,t,jo(t))},i.isMatchWith=function(e,t,n){return n="function"==typeof n?n:void 0,$n(e,t,jo(t),n)},i.isNaN=function(e){return Xr(e)&&e!=+e},i.isNative=function(e){if(Ks(e))throw new Pi("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Yn(e)},i.isNil=function(e){return null==e},i.isNull=function(e){return null===e},i.isNumber=Xr,i.isObject=$r,i.isObjectLike=Yr,i.isPlainObject=Jr,i.isRegExp=Wd,i.isSafeInteger=function(e){return Wr(e)&&e>=-Pe&&e<=Pe},i.isSet=qd,i.isString=Kr,i.isSymbol=Zr,i.isTypedArray=$d,i.isUndefined=function(e){return void 0===e},i.isWeakMap=Qr,i.isWeakSet=function(e){return Yr(e)&&_n(e)=="[object WeakSet]"},i.join=function(e,t){return null==e?"":hs.call(e,t)},i.kebabCase=fl,i.last=xr,i.lastIndexOf=function(e,t,n){var a=null==e?0:e.length;if(!a)return-1;var o=a;return void 0!==n&&(o=ni(n),o=0>o?ms(a+o,0):_s(o,a-1)),t===t?ne(e,t,o):C(e,I,o,!0)},i.lowerCase=hl,i.lowerFirst=gl,i.lt=Yd,i.lte=Xd,i.max=function(e){return e&&e.length?rn(e,bi,yn):void 0},i.maxBy=function(e,t){return e&&e.length?rn(e,Do(t,2),yn):void 0},i.mean=function(e){return L(e,bi)},i.meanBy=function(e,t){return L(e,Do(t,2))},i.min=function(e){return e&&e.length?rn(e,bi,Qn):void 0},i.minBy=function(e,t){return e&&e.length?rn(e,Do(t,2),Qn):void 0},i.stubArray=Ti,i.stubFalse=wi,i.stubObject=function(){return{}},i.stubString=function(){return""},i.stubTrue=function(){return!0},i.multiply=Dl,i.nth=function(e,t){return e&&e.length?ra(e,ni(t)):void 0},i.noConflict=function(){return In._===this&&(In._=qi),this},i.noop=Ei,i.now=Ad,i.pad=function(e,t,n){e=ii(e),t=ni(t);var a=t?ae(e):0;if(!t||a>=t)return e;var o=(t-a)/2;return mo(ps(o),n)+e+mo(ls(o),n)},i.padEnd=function(e,t,n){e=ii(e),t=ni(t);var a=t?ae(e):0;return t&&a<t?e+mo(t-a,n):e},i.padStart=function(e,t,n){e=ii(e),t=ni(t);var a=t?ae(e):0;return t&&a<t?mo(t-a,n)+e:e},i.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),bs(ii(e).replace(kt,""),t||0)},i.random=function(e,t,n){if(n&&"boolean"!=typeof n&&Xo(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=ti(e),void 0===t?(t=e,e=0):t=ti(t)),e>t){var a=e;e=t,t=a}if(n||e%1||t%1){var o=xs();return _s(e+o*(t-e+Sn("1e-"+((o+"").length-1))),t)}return ua(e,t)},i.reduce=function(e,t,n){var a=Fd(e)?v:M,o=3>arguments.length;return a(e,Do(t,4),n,o,zs)},i.reduceRight=function(e,t,n){var a=Fd(e)?E:M,o=3>arguments.length;return a(e,Do(t,4),n,o,Fs)},i.repeat=function(e,t,a){return t=(a?Xo(e,t,a):void 0===t)?1:ni(t),ha(ii(e),t)},i.replace=function(){var e=arguments,t=ii(e[0]);return 3>e.length?t:t.replace(e[1],e[2])},i.result=function(e,t,n){t=Ba(t,e);var a=-1,o=t.length;for(o||(o=1,e=void 0);++a<o;){var r=null==e?void 0:e[ur(t[a])];void 0===r&&(a=o,r=n),e=Hr(r)?r.call(e):r}return e},i.round=Bl,i.runInContext=e,i.sample=function(e){var t=Fd(e)?Vt:ma;return t(e)},i.size=Ir,i.snakeCase=ml,i.some=function(e,t,n){var a=Fd(e)?k:va;return n&&Xo(e,t,n)&&(t=void 0),a(e,Do(t,3))},i.sortedIndex=function(e,t){return Ea(e,t)},i.sortedIndexBy=function(e,t,n){return ka(e,t,Do(n,2))},i.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var a=Ea(e,t);if(a<n&&zr(e[a],t))return a}return-1},i.sortedLastIndex=function(e,t){return Ea(e,t,!0)},i.sortedLastIndexBy=function(e,t,n){return ka(e,t,Do(n,2),!0)},i.sortedLastIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var a=Ea(e,t,!0)-1;if(zr(e[a],t))return a}return-1},i.startCase=_l,i.startsWith=function(e,t,n){return e=ii(e),n=null==n?0:Zt(ni(n),0,e.length),t=Sa(t),e.slice(n,n+t.length)==t},i.subtract=jl,i.sum=function(e){return e&&e.length?B(e,bi):0},i.sumBy=function(e,t){return e&&e.length?B(e,Do(t,2)):0},i.template=gi,i.times=function(e,t){if(e=ni(e),1>e||e>Pe)return[];var a=Le,o=_s(e,Le);t=Do(t),e-=Le;for(var r=j(o,t);++a<e;)t(a);return r},i.toFinite=ti,i.toInteger=ni,i.toLength=ai,i.toLower=function(e){return ii(e).toLowerCase()},i.toNumber=oi,i.toSafeInteger=function(e){return e?Zt(ni(e),-Pe,Pe):0===e?e:0},i.toString=ii,i.toUpper=function(e){return ii(e).toUpperCase()},i.trim=function(e,t,n){if(e=ii(e),e&&(n||void 0===t))return e.replace(Et,"");if(!e||!(t=Sa(t)))return e;var a=oe(e),o=oe(t),r=U(a,o),i=G(a,o)+1;return ja(a,r,i).join("")},i.trimEnd=function(e,t,n){if(e=ii(e),e&&(n||void 0===t))return e.replace(Tt,"");if(!e||!(t=Sa(t)))return e;var a=oe(e),o=G(a,oe(t))+1;return ja(a,0,o).join("")},i.trimStart=function(e,t,n){if(e=ii(e),e&&(n||void 0===t))return e.replace(kt,"");if(!e||!(t=Sa(t)))return e;var a=oe(e),o=U(a,oe(t));return ja(a,o).join("")},i.truncate=mi,i.unescape=function(e){return e=ii(e),e&&ct.test(e)?e.replace(lt,Wn):e},i.uniqueId=Si,i.upperCase=yl,i.upperFirst=bl,i.each=Cr,i.eachRight=Ar,i.first=br,vi(i,function(){var e={};return pn(i,function(t,n){Vi.call(i.prototype,n)||(e[n]=t)}),e}(),{chain:!1}),i.VERSION="4.17.4",u(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){i[e].placeholder=i}),u(["drop","take"],function(e,t){T.prototype[e]=function(a){a=void 0===a?1:ms(ni(a),0);var o=this.__filtered__&&!t?new T(this):this.clone();return o.__filtered__?o.__takeCount__=_s(a,o.__takeCount__):o.__views__.push({size:_s(a,Le),type:e+(0>o.__dir__?"Right":"")}),o},T.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),u(["filter","map","takeWhile"],function(e,t){var n=t+1;T.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Do(e,3),type:n}),t.__filtered__=t.__filtered__||n==Ce||n==3,t}}),u(["head","last"],function(e,t){var n="take"+(t?"Right":"");T.prototype[e]=function(){return this[n](1).value()[0]}}),u(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");T.prototype[e]=function(){return this.__filtered__?new T(this):this[n](1)}}),T.prototype.compact=function(){return this.filter(bi)},T.prototype.find=function(e){return this.filter(e).head()},T.prototype.findLast=function(e){return this.reverse().find(e)},T.prototype.invokeMap=ga(function(e,t){return"function"==typeof e?new T(this):this.map(function(n){return Ln(n,e,t)})}),T.prototype.reject=function(e){return this.filter(jr(Do(e)))},T.prototype.slice=function(e,t){e=ni(e);var n=this;return n.__filtered__&&(0<e||0>t)?new T(n):(0>e?n=n.takeRight(-e):e&&(n=n.drop(e)),void 0!==t&&(t=ni(t),n=0>t?n.dropRight(-t):n.take(t-e)),n)},T.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},T.prototype.toArray=function(){return this.take(Le)},pn(T.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),a=/^(?:head|last)$/.test(t),o=i[a?"take"+("last"==t?"Right":""):t],r=a||/^find/.test(t);o&&(i.prototype[t]=function(){var t=this.__wrapped__,s=a?[1]:arguments,d=t instanceof T,l=s[0],p=d||Fd(t),c=function(e){var t=o.apply(i,x([e],s));return a&&u?t[0]:t};p&&n&&"function"==typeof l&&1!=l.length&&(d=p=!1);var u=this.__chain__,f=!!this.__actions__.length,h=r&&!u,g=d&&!f;if(!r&&p){t=g?t:new T(this);var m=e.apply(t,s);return m.__actions__.push({func:Sr,args:[c],thisArg:void 0}),new _(m,u)}return h&&g?e.apply(this,s):(m=this.thru(c),h?a?m.value()[0]:m.value():m)})}),u(["pop","push","shift","sort","splice","unshift"],function(e){var t=Bi[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",a=/^(?:pop|shift)$/.test(e);i.prototype[e]=function(){var e=arguments;if(a&&!this.__chain__){var o=this.value();return t.apply(Fd(o)?o:[],e)}return this[n](function(n){return t.apply(Fd(n)?n:[],e)})}}),pn(T.prototype,function(e,t){var n=i[t];if(n){var a=n.name+"",o=Ps[a]||(Ps[a]=[]);o.push({name:t,func:n})}}),Ps[uo(void 0,ye).name]=[{name:"wrapper",func:void 0}],T.prototype.clone=function(){var e=new T(this.__wrapped__);return e.__actions__=Ja(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ja(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ja(this.__views__),e},T.prototype.reverse=function(){if(this.__filtered__){var e=new T(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e},T.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Fd(e),a=0>t,o=n?e.length:0,r=Fo(0,o,this.__views__),i=r.start,s=r.end,d=s-i,l=a?s:i-1,p=this.__iteratees__,c=p.length,u=0,f=_s(d,this.__takeCount__);if(!n||!a&&o==d&&f==d)return La(e,this.__actions__);var h=[];outer:for(;d--&&u<f;){l+=t;for(var g=-1,m=e[l];++g<c;){var _=p[g],y=_.iteratee,b=_.type,x=y(m);if(b==2)m=x;else if(!x)if(b==Ce)continue outer;else break outer}h[u++]=m}return h},i.prototype.at=bd,i.prototype.chain=function(){return wr(this)},i.prototype.commit=function(){return new _(this.value(),this.__chain__)},i.prototype.next=function(){void 0===this.__values__&&(this.__values__=ei(this.value()));var e=this.__index__>=this.__values__.length,t=e?void 0:this.__values__[this.__index__++];return{done:e,value:t}},i.prototype.plant=function(e){for(var t=this,n,a;t instanceof s;){a=gr(t),a.__index__=0,a.__values__=void 0,n?o.__wrapped__=a:n=a;var o=a;t=t.__wrapped__}return o.__wrapped__=e,n},i.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof T){var t=e;return this.__actions__.length&&(t=new T(this)),t=t.reverse(),t.__actions__.push({func:Sr,args:[Er],thisArg:void 0}),new _(t,this.__chain__)}return this.thru(Er)},i.prototype.toJSON=i.prototype.valueOf=i.prototype.value=function(){return La(this.__wrapped__,this.__actions__)},i.prototype.first=i.prototype.head,as&&(i.prototype[as]=function(){return this}),i}();"function"==typeof i&&"object"==typeof i.amd&&i.amd?(In._=qn,i(function(){return qn})):Nn?((Nn.exports=qn)._=qn,Ln._=qn):In._=qn}).call(this)}).call(this,"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global)},{}]},{},[1])(1)}),!function(tt){"use strict";var _StringfromCharCode=String.fromCharCode,_Mathmin3=Math.min,_Mathround2=Math.round,_MathLN3=Math.LN2,_Mathpow2=Math.pow,_Mathlog2=Math.log,_Mathfloor3=Math.floor,r,e,t,i;r={1:[function(e,t){t.exports=function(e,t){for(var a=Array(arguments.length-1),n=0,o=2,d=!0;o<arguments.length;)a[n++]=arguments[o++];return new Promise(function(o,r){a[n]=function(e){if(d)if(d=!1,e)r(e);else{for(var t=Array(arguments.length-1),a=0;a<t.length;)t[a++]=arguments[a];o.apply(null,t)}};try{e.apply(t||null,a)}catch(e){d&&(d=!1,r(e))}})}},{}],2:[function(a,t,o){var n=o;n.length=function(e){var t=e.length;if(!t)return 0;for(var a=0;1<--t%4&&"="===e.charAt(t);)++a;return Math.ceil(3*e.length)/4-a};for(var d=Array(64),l=Array(123),r=0;64>r;)l[d[r]=26>r?r+65:52>r?r+71:62>r?r-4:43|r-59]=r++;n.encode=function(a,t,l){for(var n=null,p=[],s=0,c=0,h,g;t<l;)g=a[t++],0==c?(p[s++]=d[g>>2],h=(3&g)<<4,c=1):1==c?(p[s++]=d[h|g>>4],h=(15&g)<<2,c=2):2==c?(p[s++]=d[h|g>>6],p[s++]=d[63&g],c=0):void 0,8191<s&&((n||(n=[])).push(_StringfromCharCode.apply(String,p)),s=0);return c&&(p[s++]=d[h],p[s++]=61,1==c&&(p[s++]=61)),n?(s&&n.push(_StringfromCharCode.apply(String,p.slice(0,s))),n.join("")):_StringfromCharCode.apply(String,p.slice(0,s))};n.decode=function(a,t,i){for(var d=i,e=0,p=0,c,f;p<a.length&&(f=a.charCodeAt(p++),!(61===f&&1<e));){if((f=l[f])===tt)throw Error("invalid encoding");0==e?(c=f,e=1):1==e?(t[i++]=c<<2|(48&f)>>4,c=f,e=2):2==e?(t[i++]=(15&c)<<4|(60&f)>>2,c=f,e=3):3==e?(t[i++]=(3&c)<<6|f,e=0):void 0}if(1==e)throw Error("invalid encoding");return i-d},n.test=function(e){return /^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},{}],3:[function(e,t){function o(e,r){function d(p){if("string"!=typeof p){var c=l();if(o.verbose&&console.log("codegen: "+c),c="return "+c,p){for(var f=Object.keys(p),n=Array(f.length+1),r=Array(f.length),e=0;e<f.length;)n[e]=f[e],r[e]=p[f[e++]];return n[e]=c,Function.apply(null,n).apply(null,r)}return Function(c)()}for(var h=Array(arguments.length-1),u=0;u<h.length;)h[u]=arguments[++u];if(u=0,p=p.replace(/%([%dfijs])/g,function(e,t){var a=h[u++];return"d"===t||"f"===t?+a+"":"i"===t?_Mathfloor3(a)+"":"j"===t?JSON.stringify(a):"s"===t?a+"":"%"}),u!==h.length)throw Error("parameter count mismatch");return a.push(p),d}function l(n){return"function "+(n||r||"")+"("+(e&&e.join(",")||"")+"){\n  "+a.join("\n  ")+"\n}"}"string"==typeof e&&(r=e,e=tt);var a=[];return d.toString=l,d}(t.exports=o).verbose=!1},{}],4:[function(e,t){function a(){this.i={}}(t.exports=a).prototype.on=function(e,t,a){return(this.i[e]||(this.i[e]=[])).push({fn:t,ctx:a||this}),this},a.prototype.off=function(e,t){if(e===tt)this.i={};else if(t===tt)this.i[e]=[];else for(var a=this.i[e],n=0;n<a.length;)a[n].fn===t?a.splice(n,1):++n;return this},a.prototype.emit=function(e){var t=this.i[e];if(t){for(var a=[],n=1;n<arguments.length;)a.push(arguments[n++]);for(n=0;n<t.length;)t[n].fn.apply(t[n++].ctx,a)}return this}},{}],5:[function(e,t){function a(s,n,d){return"function"==typeof n?(d=n,n={}):n||(n={}),d?!n.xhr&&i&&i.readFile?i.readFile(s,function(e,t){return e&&"undefined"!=typeof XMLHttpRequest?a.xhr(s,n,d):e?d(e):d(null,n.binary?t:t.toString("utf8"))}):a.xhr(s,n,d):o(a,this,s,n)}t.exports=a;var o=e(1),i=e(7)("fs");a.xhr=function(a,o,n){var r=new XMLHttpRequest;r.onreadystatechange=function(){if(4!==r.readyState)return tt;if(0!==r.status&&200!==r.status)return n(Error("status "+r.status));if(o.binary){var e=r.response;if(!e){e=[];for(var a=0;a<r.responseText.length;++a)e.push(255&r.responseText.charCodeAt(a))}return n(null,"undefined"==typeof Uint8Array?e:new Uint8Array(e))}return n(null,r.responseText)},o.binary&&("overrideMimeType"in r&&r.overrideMimeType("text/plain; charset=x-user-defined"),r.responseType="arraybuffer"),r.open("GET",a),r.send()}},{1:1,7:7}],6:[function(a,t){function o(a){return"undefined"==typeof Float32Array?function(){function o(a,t,o,n){var r=0>t?1:0;if(r&&(t=-t),0===t)a(0<1/t?0:2147483648,o,n);else if(isNaN(t))a(2143289344,o,n);else if(34028234663852886e22<t)a((2139095040|r<<31)>>>0,o,n);else if(11754943508222875e-54>t)a((r<<31|_Mathround2(t/1401298464324817e-60))>>>0,o,n);else{var e=_Mathfloor3(_Mathlog2(t)/_MathLN3);a((r<<31|e+127<<23|8388607&_Mathround2(8388608*(t*_Mathpow2(2,-e))))>>>0,o,n)}}function t(a,t,o){var n=a(t,o),r=2*(n>>31)+1,e=255&n>>>23,i=8388607&n;return 255==e?i?NaN:r*(1/0):0==e?1401298464324817e-60*r*i:r*_Mathpow2(2,e-150)*(i+8388608)}a.writeFloatLE=o.bind(null,n),a.writeFloatBE=o.bind(null,r),a.readFloatLE=t.bind(null,e),a.readFloatBE=t.bind(null,s)}():function(){function o(e,t,a){d[0]=e,t[a]=r[0],t[a+1]=r[1],t[a+2]=r[2],t[a+3]=r[3]}function i(e,t,a){d[0]=e,t[a]=r[3],t[a+1]=r[2],t[a+2]=r[1],t[a+3]=r[0]}function n(e,t){return r[0]=e[t],r[1]=e[t+1],r[2]=e[t+2],r[3]=e[t+3],d[0]}function s(e,t){return r[3]=e[t],r[2]=e[t+1],r[1]=e[t+2],r[0]=e[t+3],d[0]}var d=new Float32Array([-0]),r=new Uint8Array(d.buffer),e=128===r[3];a.writeFloatLE=e?o:i,a.writeFloatBE=e?i:o,a.readFloatLE=e?n:s,a.readFloatBE=e?s:n}(),"undefined"==typeof Float64Array?function(){function o(a,t,i,n,d,e){var s=0>n?1:0;if(s&&(n=-n),0===n)a(0,d,e+t),a(0<1/n?0:2147483648,d,e+i);else if(isNaN(n))a(0,d,e+t),a(2146959360,d,e+i);else if(17976931348623157e292<n)a(0,d,e+t),a((2146435072|s<<31)>>>0,d,e+i);else{var l;if(22250738585072014e-324>n)a((l=n/5e-324)>>>0,d,e+t),a((s<<31|l/4294967296)>>>0,d,e+i);else{var p=_Mathfloor3(_Mathlog2(n)/_MathLN3);1024===p&&(p=1023),a(4503599627370496*(l=n*_Mathpow2(2,-p))>>>0,d,e+t),a((s<<31|p+1023<<20|1048575&1048576*l)>>>0,d,e+i)}}}function t(a,t,i,n,r){var e=a(n,r+t),s=a(n,r+i),d=2*(s>>31)+1,o=2047&s>>>20,l=4294967296*(1048575&s)+e;return 2047==o?l?NaN:d*(1/0):0==o?5e-324*d*l:d*_Mathpow2(2,o-1075)*(l+4503599627370496)}a.writeDoubleLE=o.bind(null,n,0,4),a.writeDoubleBE=o.bind(null,r,4,0),a.readDoubleLE=t.bind(null,e,0,4),a.readDoubleBE=t.bind(null,s,4,0)}():function(){function o(e,t,a){d[0]=e,t[a]=r[0],t[a+1]=r[1],t[a+2]=r[2],t[a+3]=r[3],t[a+4]=r[4],t[a+5]=r[5],t[a+6]=r[6],t[a+7]=r[7]}function i(e,t,a){d[0]=e,t[a]=r[7],t[a+1]=r[6],t[a+2]=r[5],t[a+3]=r[4],t[a+4]=r[3],t[a+5]=r[2],t[a+6]=r[1],t[a+7]=r[0]}function n(e,t){return r[0]=e[t],r[1]=e[t+1],r[2]=e[t+2],r[3]=e[t+3],r[4]=e[t+4],r[5]=e[t+5],r[6]=e[t+6],r[7]=e[t+7],d[0]}function s(e,t){return r[7]=e[t],r[6]=e[t+1],r[5]=e[t+2],r[4]=e[t+3],r[3]=e[t+4],r[2]=e[t+5],r[1]=e[t+6],r[0]=e[t+7],d[0]}var d=new Float64Array([-0]),r=new Uint8Array(d.buffer),e=128===r[7];a.writeDoubleLE=e?o:i,a.writeDoubleBE=e?i:o,a.readDoubleLE=e?n:s,a.readDoubleBE=e?s:n}(),a}function n(e,t,a){t[a]=255&e,t[a+1]=255&e>>>8,t[a+2]=255&e>>>16,t[a+3]=e>>>24}function r(e,t,a){t[a]=e>>>24,t[a+1]=255&e>>>16,t[a+2]=255&e>>>8,t[a+3]=255&e}function e(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function s(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}t.exports=o(o)},{}],7:[function(t,i,n){function r(t){try{var i=eval("require")(t);if(i&&(i.length||Object.keys(i).length))return i}catch(e){}return null}i.exports=r},{}],8:[function(a,t,o){var n=o,d=n.isAbsolute=function(e){return /^(?:\/|\w+:)/.test(e)},r=n.normalize=function(a){var o=(a=a.replace(/\\/g,"/").replace(/\/{2,}/g,"/")).split("/"),i=d(a),n="";i&&(n=o.shift()+"/");for(var s=0;s<o.length;)".."===o[s]?0<s&&".."!==o[s-1]?o.splice(--s,2):i?o.splice(s,1):++s:"."===o[s]?o.splice(s,1):++s;return n+o.join("/")};n.resolve=function(e,a,o){return o||(a=r(a)),d(a)?a:(o||(e=r(e)),(e=e.replace(/(?:\/|^)[^/]+$/,"")).length?r(e+"/"+a):a)}},{}],9:[function(e,t){t.exports=function(a,n,r){var s=r||8192,e=null,d=s;return function(o){if(1>o||s>>>1<o)return a(o);s<d+o&&(e=a(s),d=0);var t=n.call(e,d,d+=o);return 7&d&&(d=1+(7|d)),t}}},{}],10:[function(e,t,a){var n=a;n.length=function(e){for(var t=0,a=0,o=0;o<e.length;++o)128>(a=e.charCodeAt(o))?t+=1:2048>a?t+=2:55296==(64512&a)&&56320==(64512&e.charCodeAt(o+1))?(++o,t+=4):t+=3;return t},n.read=function(a,t,o){if(1>o-t)return"";for(var n=null,d=[],s=0,l;t<o;)128>(l=a[t++])?d[s++]=l:191<l&&224>l?d[s++]=(31&l)<<6|63&a[t++]:239<l&&365>l?(l=((7&l)<<18|(63&a[t++])<<12|(63&a[t++])<<6|63&a[t++])-65536,d[s++]=55296+(l>>10),d[s++]=56320+(1023&l)):d[s++]=(15&l)<<12|(63&a[t++])<<6|63&a[t++],8191<s&&((n||(n=[])).push(_StringfromCharCode.apply(String,d)),s=0);return n?(s&&n.push(_StringfromCharCode.apply(String,d.slice(0,s))),n.join("")):_StringfromCharCode.apply(String,d.slice(0,s))},n.write=function(a,t,o){for(var i=o,s=0,d,l;s<a.length;++s)128>(d=a.charCodeAt(s))?t[o++]=d:(2048>d?t[o++]=192|d>>6:(55296==(64512&d)&&56320==(64512&(l=a.charCodeAt(s+1)))?(d=65536+((1023&d)<<10)+(1023&l),++s,t[o++]=240|d>>18,t[o++]=128|63&d>>12):t[o++]=224|d>>12,t[o++]=128|63&d>>6),t[o++]=128|63&d);return o-i}},{}],11:[function(a,t){function o(n,a){e.test(n)||(n="google/protobuf/"+n+".proto",a={nested:{google:{nested:{protobuf:{nested:a}}}}}),o[n]=a}t.exports=o;var e=/\/|\./,r;o("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}}),o("duration",{Duration:r={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}),o("timestamp",{Timestamp:r}),o("empty",{Empty:{fields:{}}}),o("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}}),o("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}}),o("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}}),o.get=function(e){return o[e]||null}},{}],12:[function(e,t,a){function o(a,t,i,n){if(!t.resolvedType){var r=!1;switch(t.type){case"double":case"float":a("m%s=Number(d%s)",n,n);break;case"uint32":case"fixed32":a("m%s=d%s>>>0",n,n);break;case"int32":case"sint32":case"sfixed32":a("m%s=d%s|0",n,n);break;case"uint64":r=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":a("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",n,n,r)("else if(typeof d%s===\"string\")",n)("m%s=parseInt(d%s,10)",n,n)("else if(typeof d%s===\"number\")",n)("m%s=d%s",n,n)("else if(typeof d%s===\"object\")",n)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",n,n,n,r?"true":"");break;case"bytes":a("if(typeof d%s===\"string\")",n)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",n,n,n)("else if(d%s.length)",n)("m%s=d%s",n,n);break;case"string":a("m%s=String(d%s)",n,n);break;case"bool":a("m%s=Boolean(d%s)",n,n);}}else if(t.resolvedType instanceof d){a("switch(d%s){",n);for(var l=t.resolvedType.values,e=Object.keys(l),s=0;s<e.length;++s)t.repeated&&l[e[s]]===t.typeDefault&&a("default:"),a("case%j:",e[s])("case %i:",l[e[s]])("m%s=%j",n,l[e[s]])("break");a("}")}else a("if(typeof d%s!==\"object\")",n)("throw TypeError(%j)",t.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",n,i,n);return a}function s(a,t,o,n){if(t.resolvedType)t.resolvedType instanceof d?a("d%s=o.enums===String?types[%i].values[m%s]:m%s",n,o,n,n):a("d%s=types[%i].toObject(m%s,o)",n,o,n);else{var r=!1;switch(t.type){case"double":case"float":a("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",n,n,n,n);break;case"uint64":r=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":a("if(typeof m%s===\"number\")",n)("d%s=o.longs===String?String(m%s):m%s",n,n,n)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",n,n,n,n,r?"true":"",n);break;case"bytes":a("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",n,n,n,n,n);break;default:a("d%s=m%s",n,n);}}return a}var n=a,d=e(15),l=e(37);n.fromObject=function(a){var t=a.fieldsArray,i=l.codegen(["d"],a.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!t.length)return i("return new this.ctor");i("var m=new this.ctor");for(var n=0;n<t.length;++n){var p=t[n].resolve(),e=l.safeProp(p.name);p.map?(i("if(d%s){",e)("if(typeof d%s!==\"object\")",e)("throw TypeError(%j)",p.fullName+": object expected")("m%s={}",e)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",e),o(i,p,n,e+"[ks[i]]")("}")("}")):p.repeated?(i("if(d%s){",e)("if(!Array.isArray(d%s))",e)("throw TypeError(%j)",p.fullName+": array expected")("m%s=[]",e)("for(var i=0;i<d%s.length;++i){",e),o(i,p,n,e+"[i]")("}")("}")):(p.resolvedType instanceof d||i("if(d%s!=null){",e),o(i,p,n,e),p.resolvedType instanceof d||i("}"))}return i("return m")},n.toObject=function(p){var t=p.fieldsArray.slice().sort(l.compareFieldsById);if(!t.length)return l.codegen()("return {}");for(var i=l.codegen(["m","o"],p.name+"$toObject")("if(!o)")("o={}")("var d={}"),n=[],r=[],e=[],g=0;g<t.length;++g)t[g].partOf||(t[g].resolve().repeated?n:t[g].map?r:e).push(t[g]);if(n.length){for(i("if(o.arrays||o.defaults){"),g=0;g<n.length;++g)i("d%s=[]",l.safeProp(n[g].name));i("}")}if(r.length){for(i("if(o.objects||o.defaults){"),g=0;g<r.length;++g)i("d%s={}",l.safeProp(r[g].name));i("}")}if(e.length){for(i("if(o.defaults){"),g=0;g<e.length;++g){var m=e[g],_=l.safeProp(m.name);if(m.resolvedType instanceof d)i("d%s=o.enums===String?%j:%j",_,m.resolvedType.valuesById[m.typeDefault],m.typeDefault);else if(m.long)i("if(util.Long){")("var n=new util.Long(%i,%i,%j)",m.typeDefault.low,m.typeDefault.high,m.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",_)("}else")("d%s=o.longs===String?%j:%i",_,m.typeDefault.toString(),m.typeDefault.toNumber());else if(m.bytes){var y="["+Array.prototype.slice.call(m.typeDefault).join(",")+"]";i("if(o.bytes===String)d%s=%j",_,_StringfromCharCode.apply(String,m.typeDefault))("else{")("d%s=%s",_,y)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",_,_)("}")}else i("d%s=%j",_,m.typeDefault)}i("}")}var h=!1;for(g=0;g<t.length;++g){m=t[g];var b=p.e.indexOf(m);_=l.safeProp(m.name),m.map?(h||(h=!0,i("var ks2")),i("if(m%s&&(ks2=Object.keys(m%s)).length){",_,_)("d%s={}",_)("for(var j=0;j<ks2.length;++j){"),s(i,m,b,_+"[ks2[j]]")("}")):m.repeated?(i("if(m%s&&m%s.length){",_,_)("d%s=[]",_)("for(var j=0;j<m%s.length;++j){",_),s(i,m,b,_+"[j]")("}")):(i("if(m%s!=null&&m.hasOwnProperty(%j)){",_,m.name),s(i,m,b,_),m.partOf&&i("if(o.oneofs)")("d%s=%j",l.safeProp(m.partOf.name),m.name)),i("}")}return i("return d")}},{15:15,37:37}],13:[function(e,t){t.exports=function(l){var t=d.codegen(["r","l"],l.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(l.fieldsArray.filter(function(e){return e.map}).length?",k":""))("while(r.pos<c){")("var t=r.uint32()");l.group&&t("if((t&7)===4)")("break"),t("switch(t>>>3){");for(var i=0;i<l.fieldsArray.length;++i){var p=l.e[i].resolve(),r=p.resolvedType instanceof a?"int32":p.type,e="m"+d.safeProp(p.name);t("case %i:",p.id),p.map?(t("r.skip().pos++")("if(%s===util.emptyObject)",e)("%s={}",e)("k=r.%s()",p.keyType)("r.pos++"),o.long[p.keyType]===tt?o.basic[r]===tt?t("%s[k]=types[%i].decode(r,r.uint32())",e,i):t("%s[k]=r.%s()",e,r):o.basic[r]===tt?t("%s[typeof k===\"object\"?util.longToHash(k):k]=types[%i].decode(r,r.uint32())",e,i):t("%s[typeof k===\"object\"?util.longToHash(k):k]=r.%s()",e,r)):p.repeated?(t("if(!(%s&&%s.length))",e,e)("%s=[]",e),o.packed[r]!==tt&&t("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",e,r)("}else"),o.basic[r]===tt?t(p.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",e,i):t("%s.push(r.%s())",e,r)):o.basic[r]===tt?t(p.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",e,i):t("%s=r.%s()",e,r),t("break")}for(t("default:")("r.skipType(t&7)")("break")("}")("}"),i=0;i<l.e.length;++i){var s=l.e[i];s.required&&t("if(!m.hasOwnProperty(%j))",s.name)("throw util.ProtocolError(%j,{instance:m})","missing required '"+s.name+"'")}return t("return m")};var a=e(15),o=e(36),d=e(37)},{15:15,36:36,37:37}],14:[function(e,t){function d(e,t,a,n){return t.resolvedType.group?e("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",a,n,(3|t.id<<3)>>>0,(4|t.id<<3)>>>0):e("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",a,n,(2|t.id<<3)>>>0)}t.exports=function(c){for(var t=a.codegen(["m","w"],c.name+"$encode")("if(!w)")("w=Writer.create()"),n=c.fieldsArray.slice().sort(a.compareFieldsById),r=0,h;r<n.length;++r){var g=n[r].resolve(),s=c.e.indexOf(g),u=g.resolvedType instanceof l?"int32":g.type,o=p.basic[u];h="m"+a.safeProp(g.name),g.map?(t("if(%s!=null&&m.hasOwnProperty(%j)){",h,g.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",h)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(2|g.id<<3)>>>0,8|p.mapKey[g.keyType],g.keyType),o===tt?t("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",s,h):t(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|o,u,h),t("}")("}")):g.repeated?(t("if(%s!=null&&%s.length){",h,h),g.packed&&p.packed[u]!==tt?t("w.uint32(%i).fork()",(2|g.id<<3)>>>0)("for(var i=0;i<%s.length;++i)",h)("w.%s(%s[i])",u,h)("w.ldelim()"):(t("for(var i=0;i<%s.length;++i)",h),o===tt?d(t,g,s,h+"[i]"):t("w.uint32(%i).%s(%s[i])",(g.id<<3|o)>>>0,u,h)),t("}")):(g.optional&&t("if(%s!=null&&m.hasOwnProperty(%j))",h,g.name),o===tt?d(t,g,s,h):t("w.uint32(%i).%s(%s)",(g.id<<3|o)>>>0,u,h))}return t("return w")};var l=e(15),p=e(36),a=e(37)},{15:15,36:36,37:37}],15:[function(a,t){function s(a,t,o,n,r){if(d.call(this,a,o),t&&"object"!=typeof t)throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=n,this.comments=r||{},this.reserved=tt,t)for(var e=Object.keys(t),i=0;i<e.length;++i)"number"==typeof t[e[i]]&&(this.valuesById[this.values[e[i]]=t[e[i]]]=e[i])}t.exports=s;var d=a(24);((s.prototype=Object.create(d.prototype)).constructor=s).className="Enum";var e=a(23),o=a(37);s.fromJSON=function(e,t){var a=new s(e,t.values,t.options,t.comment,t.comments);return a.reserved=t.reserved,a},s.prototype.toJSON=function(e){var t=!!e&&!!e.keepComments;return o.toObject(["options",this.options,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:tt,"comment",t?this.comment:tt,"comments",t?this.comments:tt])},s.prototype.add=function(e,t,a){if(!o.isString(e))throw TypeError("name must be a string");if(!o.isInteger(t))throw TypeError("id must be an integer");if(this.values[e]!==tt)throw Error("duplicate name '"+e+"' in "+this);if(this.isReservedId(t))throw Error("id "+t+" is reserved in "+this);if(this.isReservedName(e))throw Error("name '"+e+"' is reserved in "+this);if(this.valuesById[t]!==tt){if(!this.options||!this.options.allow_alias)throw Error("duplicate id "+t+" in "+this);this.values[e]=t}else this.valuesById[this.values[e]=t]=e;return this.comments[e]=a||null,this},s.prototype.remove=function(e){if(!o.isString(e))throw TypeError("name must be a string");var t=this.values[e];if(null==t)throw Error("name '"+e+"' does not exist in "+this);return delete this.valuesById[t],delete this.values[e],delete this.comments[e],this},s.prototype.isReservedId=function(n){return e.isReservedId(this.reserved,n)},s.prototype.isReservedName=function(n){return e.isReservedName(this.reserved,n)}},{23:23,24:24,37:37}],16:[function(e,t){function d(a,t,o,n,i,d,h){if(c.isObject(n)?(h=i,d=n,n=i=tt):c.isObject(i)&&(h=d,d=i,i=tt),l.call(this,a,d),!c.isInteger(t)||0>t)throw TypeError("id must be a non-negative integer");if(!c.isString(o))throw TypeError("type must be a string");if(n!==tt&&!f.test(n=n.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(i!==tt&&!c.isString(i))throw TypeError("extend must be a string");this.rule=n&&"optional"!==n?n:tt,this.type=o,this.id=t,this.extend=i||tt,this.required="required"===n,this.optional=!this.required,this.repeated="repeated"===n,this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!c.Long&&p.long[o]!==tt,this.bytes="bytes"===o,this.resolvedType=null,this.extensionField=null,this.declaringField=null,this.u=null,this.comment=h}t.exports=d;var l=e(24);((d.prototype=Object.create(l.prototype)).constructor=d).className="Field";var o=e(15),p=e(36),c=e(37),f=/^required|optional|repeated$/,a;d.fromJSON=function(e,t){return new d(e,t.id,t.type,t.rule,t.extend,t.options,t.comment)},Object.defineProperty(d.prototype,"packed",{get:function(){return null===this.u&&(this.u=!1!==this.getOption("packed")),this.u}}),d.prototype.setOption=function(e,t,a){return"packed"===e&&(this.u=null),l.prototype.setOption.call(this,e,t,a)},d.prototype.toJSON=function(e){var t=!!e&&!!e.keepComments;return c.toObject(["rule","optional"!==this.rule&&this.rule||tt,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:tt])},d.prototype.resolve=function(){if(this.resolved)return this;if((this.typeDefault=p.defaults[this.type])===tt&&(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.typeDefault=this.resolvedType instanceof a?null:this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]),this.options&&null!=this.options.default&&(this.typeDefault=this.options.default,this.resolvedType instanceof o&&"string"==typeof this.typeDefault&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(!0!==this.options.packed&&(this.options.packed===tt||!this.resolvedType||this.resolvedType instanceof o)||delete this.options.packed,Object.keys(this.options).length||(this.options=tt)),this.long)this.typeDefault=c.Long.fromNumber(this.typeDefault,"u"===this.type.charAt(0)),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&"string"==typeof this.typeDefault){var e;c.base64.test(this.typeDefault)?c.base64.decode(this.typeDefault,e=c.newBuffer(c.base64.length(this.typeDefault)),0):c.utf8.write(this.typeDefault,e=c.newBuffer(c.utf8.length(this.typeDefault)),0),this.typeDefault=e}return this.defaultValue=this.map?c.emptyObject:this.repeated?c.emptyArray:this.typeDefault,this.parent instanceof a&&(this.parent.ctor.prototype[this.name]=this.defaultValue),l.prototype.resolve.call(this)},d.d=function(a,n,o,e){return"function"==typeof n?n=c.decorateType(n).name:n&&"object"==typeof n&&(n=c.decorateEnum(n).name),function(r,t){c.decorateType(r.constructor).add(new d(t,a,n,o,{default:e}))}},d.o=function(e){a=e}},{15:15,24:24,36:36,37:37}],17:[function(e,t){var a=t.exports=e(18);a.build="light",a.load=function(e,t,o){return"function"==typeof t?(o=t,t=new a.Root):t||(t=new a.Root),t.load(e,o)},a.loadSync=function(e,t){return t||(t=new a.Root),t.loadSync(e)},a.encoder=e(14),a.decoder=e(13),a.verifier=e(40),a.converter=e(12),a.ReflectionObject=e(24),a.Namespace=e(23),a.Root=e(29),a.Enum=e(15),a.Type=e(35),a.Field=e(16),a.OneOf=e(25),a.MapField=e(20),a.Service=e(33),a.Method=e(22),a.Message=e(21),a.wrappers=e(41),a.types=e(36),a.util=e(37),a.ReflectionObject.o(a.Root),a.Namespace.o(a.Type,a.Service,a.Enum),a.Root.o(a.Type),a.Field.o(a.Type)},{12:12,13:13,14:14,15:15,16:16,18:18,20:20,21:21,22:22,23:23,24:24,25:25,29:29,33:33,35:35,36:36,37:37,40:40,41:41}],18:[function(a,t,o){function n(){e.Reader.o(e.BufferReader),e.util.o()}var e=o;e.build="minimal",e.Writer=a(42),e.BufferWriter=a(43),e.Reader=a(27),e.BufferReader=a(28),e.util=a(39),e.rpc=a(31),e.roots=a(30),e.configure=n,e.Writer.o(e.BufferWriter),n()},{27:27,28:28,30:30,31:31,39:39,42:42,43:43}],19:[function(e,t){var a=t.exports=e(17);a.build="full",a.tokenize=e(34),a.parse=e(26),a.common=e(11),a.Root.o(a.Type,a.parse,a.common)},{11:11,17:17,26:26,34:34}],20:[function(e,t){function a(a,t,o,n,r,e){if(d.call(this,a,t,n,tt,tt,r,e),!l.isString(o))throw TypeError("keyType must be a string");this.keyType=o,this.resolvedKeyType=null,this.map=!0}t.exports=a;var d=e(16);((a.prototype=Object.create(d.prototype)).constructor=a).className="MapField";var r=e(36),l=e(37);a.fromJSON=function(e,t){return new a(e,t.id,t.keyType,t.type,t.options,t.comment)},a.prototype.toJSON=function(e){var t=!!e&&!!e.keepComments;return l.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:tt])},a.prototype.resolve=function(){if(this.resolved)return this;if(r.mapKey[this.keyType]===tt)throw Error("invalid key type: "+this.keyType);return d.prototype.resolve.call(this)},a.d=function(o,n,r){return"function"==typeof r?r=l.decorateType(r).name:r&&"object"==typeof r&&(r=l.decorateEnum(r).name),function(e,t){l.decorateType(e.constructor).add(new a(t,o,n,r))}}},{16:16,36:36,37:37}],21:[function(e,t){function a(e){if(e)for(var t=Object.keys(e),a=0;a<t.length;++a)this[t[a]]=e[t[a]]}t.exports=a;var o=e(39);a.create=function(e){return this.$type.create(e)},a.encode=function(e,t){return this.$type.encode(e,t)},a.encodeDelimited=function(e,t){return this.$type.encodeDelimited(e,t)},a.decode=function(e){return this.$type.decode(e)},a.decodeDelimited=function(e){return this.$type.decodeDelimited(e)},a.verify=function(e){return this.$type.verify(e)},a.fromObject=function(e){return this.$type.fromObject(e)},a.toObject=function(e,t){return this.$type.toObject(e,t)},a.prototype.toJSON=function(){return this.$type.toObject(this,o.toJSONOptions)}},{39:39}],22:[function(e,t){function a(a,t,i,n,r,p,c,f){if(l.isObject(r)?(c=r,r=p=tt):l.isObject(p)&&(c=p,p=tt),t!==tt&&!l.isString(t))throw TypeError("type must be a string");if(!l.isString(i))throw TypeError("requestType must be a string");if(!l.isString(n))throw TypeError("responseType must be a string");d.call(this,a,c),this.type=t||"rpc",this.requestType=i,this.requestStream=!!r||tt,this.responseType=n,this.responseStream=!!p||tt,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=f}t.exports=a;var d=e(24);((a.prototype=Object.create(d.prototype)).constructor=a).className="Method";var l=e(37);a.fromJSON=function(e,t){return new a(e,t.type,t.requestType,t.responseType,t.requestStream,t.responseStream,t.options,t.comment)},a.prototype.toJSON=function(e){var t=!!e&&!!e.keepComments;return l.toObject(["type","rpc"!==this.type&&this.type||tt,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",t?this.comment:tt])},a.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),d.prototype.resolve.call(this))}},{24:24,37:37}],23:[function(d,t){function i(e,t){if(!e||!e.length)return tt;for(var a={},n=0;n<e.length;++n)a[e[n].name]=e[n].toJSON(t);return a}function l(e,t){a.call(this,e,t),this.nested=tt,this.f=null}function p(e){return e.f=null,e}t.exports=l;var a=d(24);((l.prototype=Object.create(a.prototype)).constructor=l).className="Namespace";var c=d(16),o=d(37),f,h,g;l.fromJSON=function(e,t){return new l(e,t.options).addJSON(t.nested)},l.arrayToJSON=i,l.isReservedId=function(e,t){if(e)for(var a=0;a<e.length;++a)if("string"!=typeof e[a]&&e[a][0]<=t&&e[a][1]>=t)return!0;return!1},l.isReservedName=function(e,t){if(e)for(var a=0;a<e.length;++a)if(e[a]===t)return!0;return!1},Object.defineProperty(l.prototype,"nestedArray",{get:function(){return this.f||(this.f=o.toArray(this.nested))}}),l.prototype.toJSON=function(e){return o.toObject(["options",this.options,"nested",i(this.nestedArray,e)])},l.prototype.addJSON=function(e){if(e)for(var t=Object.keys(e),n=0,a;n<t.length;++n)a=e[t[n]],this.add((a.fields===tt?a.values===tt?a.methods===tt?a.id===tt?l.fromJSON:c.fromJSON:h.fromJSON:g.fromJSON:f.fromJSON)(t[n],a));return this},l.prototype.get=function(e){return this.nested&&this.nested[e]||null},l.prototype.getEnum=function(e){if(this.nested&&this.nested[e]instanceof g)return this.nested[e].values;throw Error("no such enum: "+e)},l.prototype.add=function(e){if(!(e instanceof c&&e.extend!==tt||e instanceof f||e instanceof g||e instanceof h||e instanceof l))throw TypeError("object must be a valid nested object");if(this.nested){var t=this.get(e.name);if(t){if(!(t instanceof l&&e instanceof l)||t instanceof f||t instanceof h)throw Error("duplicate name '"+e.name+"' in "+this);for(var a=t.nestedArray,n=0;n<a.length;++n)e.add(a[n]);this.remove(t),this.nested||(this.nested={}),e.setOptions(t.options,!0)}}else this.nested={};return(this.nested[e.name]=e).onAdd(this),p(this)},l.prototype.remove=function(e){if(!(e instanceof a))throw TypeError("object must be a ReflectionObject");if(e.parent!==this)throw Error(e+" is not a member of "+this);return delete this.nested[e.name],Object.keys(this.nested).length||(this.nested=tt),e.onRemove(this),p(this)},l.prototype.define=function(e,a){if(o.isString(e))e=e.split(".");else if(!Array.isArray(e))throw TypeError("illegal path");if(e&&e.length&&""===e[0])throw Error("path must be relative");for(var i=this,s;0<e.length;)if(s=e.shift(),!(i.nested&&i.nested[s]))i.add(i=new l(s));else if(!((i=i.nested[s])instanceof l))throw Error("path conflicts with non-namespace objects");return a&&i.addJSON(a),i},l.prototype.resolveAll=function(){for(var e=this.nestedArray,t=0;t<e.length;)e[t]instanceof l?e[t++].resolveAll():e[t++].resolve();return this.resolve()},l.prototype.lookup=function(a,s,d){if("boolean"==typeof s?(d=s,s=tt):s&&!Array.isArray(s)&&(s=[s]),o.isString(a)&&a.length){if("."===a)return this.root;a=a.split(".")}else if(!a.length)return this;if(""===a[0])return this.root.lookup(a.slice(1),s);var p=this.get(a[0]);if(!p){for(var c=0;c<this.nestedArray.length;++c)if(this.f[c]instanceof l&&(p=this.f[c].lookup(a,s,!0)))return p;}else if(1===a.length){if(!s||-1<s.indexOf(p.constructor))return p;}else if(p instanceof l&&(p=p.lookup(a.slice(1),s,!0)))return p;return null===this.parent||d?null:this.parent.lookup(a,s)},l.prototype.lookupType=function(e){var t=this.lookup(e,[f]);if(!t)throw Error("no such type: "+e);return t},l.prototype.lookupEnum=function(e){var t=this.lookup(e,[g]);if(!t)throw Error("no such Enum '"+e+"' in "+this);return t},l.prototype.lookupTypeOrEnum=function(e){var t=this.lookup(e,[f,g]);if(!t)throw Error("no such Type or Enum '"+e+"' in "+this);return t},l.prototype.lookupService=function(e){var t=this.lookup(e,[h]);if(!t)throw Error("no such Service '"+e+"' in "+this);return t},l.o=function(e,t,a){f=e,h=t,g=a}},{16:16,24:24,37:37}],24:[function(a,t){function o(n,t){if(!e.isString(n))throw TypeError("name must be a string");if(t&&!e.isObject(t))throw TypeError("options must be an object");this.options=t,this.name=n,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}(t.exports=o).className="ReflectionObject";var e=a(37),r;Object.defineProperties(o.prototype,{root:{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}},fullName:{get:function(){for(var e=[this.name],t=this.parent;t;)e.unshift(t.name),t=t.parent;return e.join(".")}}}),o.prototype.toJSON=function(){throw Error()},o.prototype.onAdd=function(e){this.parent&&this.parent!==e&&this.parent.remove(this),this.parent=e,this.resolved=!1;var t=e.root;t instanceof r&&t.h(this)},o.prototype.onRemove=function(e){var t=e.root;t instanceof r&&t.a(this),this.parent=null,this.resolved=!1},o.prototype.resolve=function(){return this.resolved||this.root instanceof r&&(this.resolved=!0),this},o.prototype.getOption=function(e){return this.options?this.options[e]:tt},o.prototype.setOption=function(e,t,a){return a&&this.options&&this.options[e]!==tt||((this.options||(this.options={}))[e]=t),this},o.prototype.setOptions=function(e,t){if(e)for(var a=Object.keys(e),n=0;n<a.length;++n)this.setOption(a[n],e[a[n]],t);return this},o.prototype.toString=function(){var e=this.constructor.className,t=this.fullName;return t.length?e+" "+t:e},o.o=function(e){r=e}},{37:37}],25:[function(a,t){function o(e,t,a,o){if(Array.isArray(t)||(a=t,t=tt),d.call(this,e,a),t!==tt&&!Array.isArray(t))throw TypeError("fieldNames must be an Array");this.oneof=t||[],this.fieldsArray=[],this.comment=o}function s(e){if(e.parent)for(var t=0;t<e.fieldsArray.length;++t)e.fieldsArray[t].parent||e.parent.add(e.fieldsArray[t])}t.exports=o;var d=a(24);((o.prototype=Object.create(d.prototype)).constructor=o).className="OneOf";var e=a(16),l=a(37);o.fromJSON=function(e,t){return new o(e,t.oneof,t.options,t.comment)},o.prototype.toJSON=function(e){var t=!!e&&!!e.keepComments;return l.toObject(["options",this.options,"oneof",this.oneof,"comment",t?this.comment:tt])},o.prototype.add=function(n){if(!(n instanceof e))throw TypeError("field must be a Field");return n.parent&&n.parent!==this.parent&&n.parent.remove(n),this.oneof.push(n.name),this.fieldsArray.push(n),s(n.partOf=this),this},o.prototype.remove=function(n){if(!(n instanceof e))throw TypeError("field must be a Field");var t=this.fieldsArray.indexOf(n);if(0>t)throw Error(n+" is not a member of "+this);return this.fieldsArray.splice(t,1),-1<(t=this.oneof.indexOf(n.name))&&this.oneof.splice(t,1),n.partOf=null,this},o.prototype.onAdd=function(e){d.prototype.onAdd.call(this,e);for(var t=0,a;t<this.oneof.length;++t)a=e.get(this.oneof[t]),a&&!a.partOf&&(a.partOf=this).fieldsArray.push(a);s(this)},o.prototype.onRemove=function(e){for(var t=0,a;t<this.fieldsArray.length;++t)(a=this.fieldsArray[t]).parent&&a.parent.remove(a);d.prototype.onRemove.call(this,e)},o.d=function(){for(var e=Array(arguments.length),n=0;n<arguments.length;)e[n]=arguments[n++];return function(n,t){l.decorateType(n.constructor).add(new o(t,e)),Object.defineProperty(n,t,{get:l.oneOfGetter(e),set:l.oneOfSetter(e)})}}},{16:16,24:24,37:37}],26:[function(e,t){function ee(C,t,P){function I(e,t,a){var n=ee.filename;return a||(ee.filename=null),Error("illegal "+(t||"token")+" '"+e+"' ("+(n?n+", ":"")+"line "+V.line+")")}function b(){var e=[],n;do{if("\""!==(n=U())&&"'"!==n)throw I(n);e.push(U()),W(n),n=H()}while("\""===n||"'"===n);return e.join("")}function L(e){var a=U();switch(a){case"'":case"\"":return G(a),b();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1;}try{return function(e,a){var o=1;switch("-"===e.charAt(0)&&(o=-1,e=e.substring(1)),e){case"inf":case"INF":case"Inf":return o*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0;}if(l.test(e))return o*parseInt(e,10);if(f.test(e))return o*parseInt(e,16);if(_.test(e))return o*parseInt(e,8);if(x.test(e))return o*parseFloat(e);throw I(e,"number",a)}(a,!0)}catch(n){if(e&&E.test(a))return a;throw I(a,"value")}}function D(e,t){for(var a,o;t&&("\""===(a=H())||"'"===a)?e.push(b()):e.push([o=B(U()),W("to",!0)?B(U()):o]),W(",",!0););W(";")}function B(e,t){switch(e){case"max":case"MAX":case"Max":return 536870911;case"0":return 0;}if(!t&&"-"===e.charAt(0))throw I(e,"id");if(n.test(e))return parseInt(e,10);if(h.test(e))return parseInt(e,16);if(y.test(e))return parseInt(e,8);throw I(e,"id")}function j(){if(K!==tt)throw I("package");if(K=U(),!E.test(K))throw I(K,"name");X=X.define(K),W(";")}function R(){var e=H(),n;switch(e){case"weak":n=Q||(Q=[]),U();break;case"public":U();default:n=Z||(Z=[]);}e=b(),W(";"),n.push(e)}function O(){if(W("="),te=b(),!(Y="proto3"===te)&&"proto2"!==te)throw I(te,"syntax");W(";")}function A(e,t){return"option"===t?(T(e,t),W(";"),!0):"message"===t?(function(e,t){if(!v.test(t=U()))throw I(t,"type name");var a=new o(t);z(a,function(e){if(!A(a,e))switch(e){case"map":!function(a){W("<");var t=U();if(u.mapKey[t]===tt)throw I(t,"type");W(",");var o=U();if(!E.test(o))throw I(o,"type");W(">");var n=U();if(!v.test(n))throw I(n,"name");W("=");var r=new s(J(n),B(U()),t,o);z(r,function(e){if("option"!==e)throw I(e);T(r,e),W(";")},function(){F(r)}),a.add(r)}(a);break;case"required":case"optional":case"repeated":S(a,e);break;case"oneof":!function(e,t){if(!v.test(t=U()))throw I(t,"name");var a=new r(J(t));z(a,function(e){"option"===e?(T(a,e),W(";")):(G(e),S(a,"optional"))}),e.add(a)}(a,e);break;case"extensions":D(a.extensions||(a.extensions=[]));break;case"reserved":D(a.reserved||(a.reserved=[]),!0);break;default:if(!Y||!E.test(e))throw I(e);G(e),S(a,"optional");}}),e.add(a)}(e,t),!0):"enum"===t?(function(e,t){if(!v.test(t=U()))throw I(t,"name");var a=new p(t);z(a,function(e){"option"===e?(T(a,e),W(";")):"reserved"===e?D(a.reserved||(a.reserved=[]),!0):!function(e,t){if(!v.test(t))throw I(t,"name");W("=");var a=B(U(),!0),n={};z(n,function(e){if("option"!==e)throw I(e);T(n,e),W(";")},function(){F(n)}),e.add(t,a,n.comment)}(a,e)}),e.add(a)}(e,t),!0):"service"===t?(function(e,t){if(!v.test(t=U()))throw I(t,"service name");var a=new c(t);z(a,function(e){if(!A(a,e)){if("rpc"!==e)throw I(e);!function(a,t){var d=t;if(!v.test(t=U()))throw I(t,"name");var n=t,o,l,p,c;if(W("("),W("stream",!0)&&(l=!0),!E.test(t=U()))throw I(t);if(o=t,W(")"),W("returns"),W("("),W("stream",!0)&&(c=!0),!E.test(t=U()))throw I(t);p=t,W(")");var h=new g(n,d,o,p,l,c);z(h,function(e){if("option"!==e)throw I(e);T(h,e),W(";")}),a.add(h)}(a,e)}}),e.add(a)}(e,t),!0):!("extend"!=t)&&(function(e,a){if(!E.test(a=U()))throw I(a,"reference");var o=a;z(null,function(n){switch(n){case"required":case"repeated":case"optional":S(e,n,o);break;default:if(!Y||!E.test(n))throw I(n);G(n),S(e,"optional",o);}})}(e,t),!0)}function z(a,t,o){var n=V.line;if(a&&(a.comment=q(),a.filename=ee.filename),W("{",!0)){for(var r;"}"!==(r=U());)t(r);W(";",!0)}else o&&o(),W(";"),a&&"string"!=typeof a.comment&&(a.comment=q(n))}function S(a,t,i){var n=U();if("group"!==n){if(!E.test(n))throw I(n,"type");var r=U();if(!v.test(r))throw I(r,"name");r=J(r),W("=");var l=new d(r,B(U()),n,t,i);z(l,function(e){if("option"!==e)throw I(e);T(l,e),W(";")},function(){F(l)}),a.add(l),Y||!l.repeated||u.packed[n]===tt&&u.basic[n]!==tt||l.setOption("packed",!1,!0)}else!function(a,t){var i=U();if(!v.test(i))throw I(i,"name");var l=m.lcFirst(i);i===l&&(i=m.ucFirst(i)),W("=");var r=B(U()),e=new o(i);e.group=!0;var s=new d(l,r,i,t);s.filename=ee.filename,z(e,function(n){switch(n){case"option":T(e,n),W(";");break;case"required":case"optional":case"repeated":S(e,n);break;default:throw I(n);}}),a.add(e).add(s)}(a,t)}function T(e,t){var a=W("(",!0);if(!E.test(t=U()))throw I(t,"name");var n=t;a&&(W(")"),n="("+n+")",t=H(),k.test(t)&&(n+=t,U())),W("="),function e(t,a){if(W("{",!0))do{if(!v.test(ne=U()))throw I(ne,"name");"{"===H()?e(t,a+"."+ne):(W(":"),"{"===H()?e(t,a+"."+ne):N(t,a+"."+ne,L(!0))),W(",",!0)}while(!W("}",!0));else N(t,a,L(!0))}(e,n)}function N(e,t,a){e.setOption&&e.setOption(t,a)}function F(e){if(W("[",!0)){for(;T(e,"option"),W(",",!0););W("]")}return e}t instanceof M||(P=t,t=new M),P||(P=ee.defaults);for(var V=a(C,P.alternateCommentMode||!1),U=V.next,G=V.push,H=V.peek,W=V.skip,q=V.cmnt,$=!0,Y=!1,X=t,J=P.keepCase?function(e){return e}:m.camelCase,K,Z,Q,te,ne;null!==(ne=U());)switch(ne){case"package":if(!$)throw I(ne);j();break;case"import":if(!$)throw I(ne);R();break;case"syntax":if(!$)throw I(ne);O();break;case"option":if(!$)throw I(ne);T(X,ne),W(";");break;default:if(A(X,ne)){$=!1;continue}throw I(ne);}return ee.filename=null,{package:K,imports:Z,weakImports:Q,syntax:te,root:t}}(t.exports=ee).filename=null,ee.defaults={keepCase:!1};var a=e(34),M=e(29),o=e(35),d=e(16),s=e(20),r=e(25),p=e(15),c=e(33),g=e(22),u=e(36),m=e(37),l=/^[1-9][0-9]*$/,n=/^-?[1-9][0-9]*$/,f=/^0[x][0-9a-fA-F]+$/,h=/^-?0[x][0-9a-fA-F]+$/,_=/^0[0-7]+$/,y=/^-?0[0-7]+$/,x=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,v=/^[a-zA-Z_][a-zA-Z_0-9]*$/,E=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/,k=/^(?:\.[a-zA-Z_][a-zA-Z_0-9]*)+$/},{15:15,16:16,20:20,22:22,25:25,29:29,33:33,34:34,35:35,36:36,37:37}],27:[function(d,t){function p(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function u(e){this.buf=e,this.pos=0,this.len=e.length}function o(){var e=new r(0,0),t=0;if(!(4<this.len-this.pos)){for(;3>t;++t){if(this.pos>=this.len)throw p(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,128>this.buf[this.pos++])return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;4>t;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,128>this.buf[this.pos++])return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,128>this.buf[this.pos++])return e;if(t=0,4<this.len-this.pos){for(;5>t;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,128>this.buf[this.pos++])return e;}else for(;5>t;++t){if(this.pos>=this.len)throw p(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,128>this.buf[this.pos++])return e}throw Error("invalid varint encoding")}function a(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function c(){if(this.pos+8>this.len)throw p(this,8);return new r(a(this.buf,this.pos+=4),a(this.buf,this.pos+=4))}t.exports=u;var l=d(39),r=l.LongBits,e=l.utf8,i="undefined"==typeof Uint8Array?function(e){if(Array.isArray(e))return new u(e);throw Error("illegal buffer")}:function(e){if(e instanceof Uint8Array||Array.isArray(e))return new u(e);throw Error("illegal buffer")},s,h;u.create=l.Buffer?function(e){return(u.create=function(e){return l.Buffer.isBuffer(e)?new s(e):i(e)})(e)}:i,u.prototype.c=l.Array.prototype.subarray||l.Array.prototype.slice,u.prototype.uint32=(h=4294967295,function(){if(h=(127&this.buf[this.pos])>>>0,128>this.buf[this.pos++])return h;if(h=(h|(127&this.buf[this.pos])<<7)>>>0,128>this.buf[this.pos++])return h;if(h=(h|(127&this.buf[this.pos])<<14)>>>0,128>this.buf[this.pos++])return h;if(h=(h|(127&this.buf[this.pos])<<21)>>>0,128>this.buf[this.pos++])return h;if(h=(h|(15&this.buf[this.pos])<<28)>>>0,128>this.buf[this.pos++])return h;if((this.pos+=5)>this.len)throw this.pos=this.len,p(this,10);return h}),u.prototype.int32=function(){return 0|this.uint32()},u.prototype.sint32=function(){var e=this.uint32();return 0|e>>>1^-(1&e)},u.prototype.bool=function(){return 0!==this.uint32()},u.prototype.fixed32=function(){if(this.pos+4>this.len)throw p(this,4);return a(this.buf,this.pos+=4)},u.prototype.sfixed32=function(){if(this.pos+4>this.len)throw p(this,4);return 0|a(this.buf,this.pos+=4)},u.prototype.float=function(){if(this.pos+4>this.len)throw p(this,4);var e=l.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},u.prototype.double=function(){if(this.pos+8>this.len)throw p(this,4);var e=l.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},u.prototype.bytes=function(){var e=this.uint32(),t=this.pos,a=this.pos+e;if(a>this.len)throw p(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,a):t===a?new this.buf.constructor(0):this.c.call(this.buf,t,a)},u.prototype.string=function(){var n=this.bytes();return e.read(n,0,n.length)},u.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw p(this,e);this.pos+=e}else do if(this.pos>=this.len)throw p(this);while(128&this.buf[this.pos++]);return this},u.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos);}return this},u.o=function(e){s=e;var t=l.Long?"toLong":"toNumber";l.merge(u.prototype,{int64:function(){return o.call(this)[t](!1)},uint64:function(){return o.call(this)[t](!0)},sint64:function(){return o.call(this).zzDecode()[t](!1)},fixed64:function(){return c.call(this)[t](!0)},sfixed64:function(){return c.call(this)[t](!1)}})}},{39:39}],28:[function(a,t){function o(n){e.call(this,n)}t.exports=o;var e=a(27);(o.prototype=Object.create(e.prototype)).constructor=o;var n=a(39);n.Buffer&&(o.prototype.c=n.Buffer.prototype.slice),o.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice(this.pos,this.pos=_Mathmin3(this.pos+e,this.len))}},{27:27,39:39}],29:[function(a,t){function l(e){h.call(this,"",e),this.deferred=[],this.files=[]}function g(){}function c(e,t){var a=t.parent.lookup(t.extend);if(a){var n=new m(t.fullName,t.id,t.type,t.rule,tt,t.options);return(n.declaringField=t).extensionField=n,a.add(n),!0}return!1}t.exports=l;var h=a(23);((l.prototype=Object.create(h.prototype)).constructor=l).className="Root";var m=a(16),r=a(15),s=a(25),_=a(37),o,p,y;l.fromJSON=function(e,t){return t||(t=new l),e.options&&t.setOptions(e.options),t.addJSON(e.nested)},l.prototype.resolvePath=_.path.resolve,l.prototype.load=function e(t,d,m){function b(e,t){if(m){var a=m;if(m=null,o)throw e;a(e,t)}}function h(s,t){try{if(_.isString(t)&&"{"===t.charAt(0)&&(t=JSON.parse(t)),_.isString(t)){p.filename=s;var l=p(t,c,d),r=0,u;if(l.imports)for(;r<l.imports.length;++r)(u=c.resolvePath(s,l.imports[r]))&&a(u);if(l.weakImports)for(r=0;r<l.weakImports.length;++r)(u=c.resolvePath(s,l.weakImports[r]))&&a(u,!0)}else c.setOptions(t.options).addJSON(t.nested)}catch(e){b(e)}o||f||b(null,c)}function a(a,s){var r=a.lastIndexOf("google/protobuf/");if(-1<r){var t=a.substring(r);t in y&&(a=t)}if(!(-1<c.files.indexOf(a)))if(c.files.push(a),a in y)o?h(a,y[a]):(++f,setTimeout(function(){--f,h(a,y[a])}));else if(o){var i;try{i=_.fs.readFileSync(a).toString("utf8")}catch(e){return void(s||b(e))}h(a,i)}else++f,_.fetch(a,function(e,t){--f,m&&(e?s?f||b(null,c):b(e):h(a,t))})}"function"==typeof d&&(m=d,d=tt);var c=this;if(!m)return _.asPromise(e,c,t,d);var o=m===g,f=0;_.isString(t)&&(t=[t]);for(var x=0,v;x<t.length;++x)(v=c.resolvePath("",t[x]))&&a(v);return o?c:(f||b(null,c),tt)},l.prototype.loadSync=function(e,t){if(!_.isNode)throw Error("not supported");return this.load(e,t,g)},l.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(e){return"'extend "+e.extend+"' in "+e.parent.fullName}).join(", "));return h.prototype.resolveAll.call(this)};var u=/^[A-Z]/;l.prototype.h=function(e){if(e instanceof m)e.extend===tt||e.extensionField||c(0,e)||this.deferred.push(e);else if(e instanceof r)u.test(e.name)&&(e.parent[e.name]=e.values);else if(!(e instanceof s)){if(e instanceof o)for(var t=0;t<this.deferred.length;)c(0,this.deferred[t])?this.deferred.splice(t,1):++t;for(var a=0;a<e.nestedArray.length;++a)this.h(e.f[a]);u.test(e.name)&&(e.parent[e.name]=e)}},l.prototype.a=function(e){if(e instanceof m){if(e.extend!==tt)if(e.extensionField)e.extensionField.parent.remove(e.extensionField),e.extensionField=null;else{var t=this.deferred.indexOf(e);-1<t&&this.deferred.splice(t,1)}}else if(e instanceof r)u.test(e.name)&&delete e.parent[e.name];else if(e instanceof h){for(var a=0;a<e.nestedArray.length;++a)this.a(e.f[a]);u.test(e.name)&&delete e.parent[e.name]}},l.o=function(e,t,a){o=e,p=t,y=a}},{15:15,16:16,23:23,25:25,37:37}],30:[function(e,t){t.exports={}},{}],31:[function(e,t,a){a.Service=e(32)},{32:32}],32:[function(e,t){function a(e,t,a){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");d.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=!!t,this.responseDelimited=!!a}t.exports=a;var d=e(39);((a.prototype=Object.create(d.EventEmitter.prototype)).constructor=a).prototype.rpcCall=function a(o,t,n,r,e){if(!r)throw TypeError("request must be specified");var s=this;if(!e)return d.asPromise(a,s,o,t,n,r);if(!s.rpcImpl)return setTimeout(function(){e(Error("already ended"))},0),tt;try{return s.rpcImpl(o,t[s.requestDelimited?"encodeDelimited":"encode"](r).finish(),function(a,t){if(a)return s.emit("error",a,o),e(a);if(null===t)return s.end(!0),tt;if(!(t instanceof n))try{t=n[s.responseDelimited?"decodeDelimited":"decode"](t)}catch(n){return s.emit("error",n,o),e(n)}return s.emit("data",t,o),e(null,t)})}catch(n){return s.emit("error",n,o),setTimeout(function(){e(n)},0),tt}},a.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},{39:39}],33:[function(e,t){function a(e,t){d.call(this,e,t),this.methods={},this.l=null}function i(e){return e.l=null,e}t.exports=a;var d=e(23);((a.prototype=Object.create(d.prototype)).constructor=a).className="Service";var l=e(22),p=e(37),o=e(31);a.fromJSON=function(o,t){var i=new a(o,t.options);if(t.methods)for(var n=Object.keys(t.methods),r=0;r<n.length;++r)i.add(l.fromJSON(n[r],t.methods[n[r]]));return t.nested&&i.addJSON(t.nested),i.comment=t.comment,i},a.prototype.toJSON=function(e){var t=d.prototype.toJSON.call(this,e),a=!!e&&!!e.keepComments;return p.toObject(["options",t&&t.options||tt,"methods",d.arrayToJSON(this.methodsArray,e)||{},"nested",t&&t.nested||tt,"comment",a?this.comment:tt])},Object.defineProperty(a.prototype,"methodsArray",{get:function(){return this.l||(this.l=p.toArray(this.methods))}}),a.prototype.get=function(e){return this.methods[e]||d.prototype.get.call(this,e)},a.prototype.resolveAll=function(){for(var e=this.methodsArray,t=0;t<e.length;++t)e[t].resolve();return d.prototype.resolve.call(this)},a.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);return e instanceof l?i((this.methods[e.name]=e).parent=this):d.prototype.add.call(this,e)},a.prototype.remove=function(e){if(e instanceof l){if(this.methods[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.methods[e.name],e.parent=null,i(this)}return d.prototype.remove.call(this,e)},a.prototype.create=function(a,t,i){for(var n=new o.Service(a,t,i),e=0,d,l;e<this.methodsArray.length;++e)l=p.lcFirst((d=this.l[e]).resolve().name).replace(/[^$\w_]/g,""),n[l]=p.codegen(["r","c"],p.isReserved(l)?l+"_":l)("return this.rpcCall(m,q,s,r,c)")({m:d,q:d.resolvedRequestType.ctor,s:d.resolvedResponseType.ctor});return n}},{22:22,23:23,31:31,37:37}],34:[function(a,t){function s(e){return e.replace(f,function(e,t){return"\\"===t||""===t?t:n[t]||""})}function o(_,x){function f(e){return Error("illegal "+e+" (line "+a+")")}function y(e){return _.charAt(e)}function t(o,d){T=_.charAt(o++),C=a,A=!1;var i=o-(x?2:3),l;do if(0>--i||"\n"===(l=_.charAt(i))){A=!0;break}while(" "===l||"\t"===l);for(var f=_.substring(o,d).split(u),e=0;e<f.length;++e)f[e]=f[e].replace(x?c:p,"").trim();S=f.join("\n").trim()}function n(e){var t=g(e),a=_.substring(e,t);return /^\s*\/{1,2}/.test(a)}function g(e){for(var t=e;t<k&&"\n"!==y(t);)t++;return t}function m(){if(0<P.length)return P.shift();if(I)return function(){var n="'"===I?l:e;n.lastIndex=E-1;var t=n.exec(_);if(!t)throw f("string");return E=n.lastIndex,r(I),I=null,s(t[1])}();var o,p,c,h,m;do{if(E===k)return null;for(o=!1;i.test(c=y(E));)if("\n"===c&&++a,++E===k)return null;if("/"===y(E)){if(++E===k)throw f("comment");if("/"!==y(E)){if("*"!==(c=y(E)))return"/";h=E+1,m=x||"*"===y(h);do{if("\n"===c&&++a,++E===k)throw f("comment");p=c,c=y(E)}while("*"!==p||"/"!==c);++E,m&&t(h,E-2),o=!0}else if(x){if(m=!1,n(h=E)){m=!0;do{if((E=g(E))===k)break;E++}while(n(E))}else E=_Mathmin3(k,g(E)+1);m&&t(h,E),a++,o=!0}else{for(m="/"===y(h=E+1);"\n"!==y(++E);)if(E===k)return null;++E,m&&t(h,E-1),++a,o=!0}}}while(o);var b=E;if(d.lastIndex=0,!d.test(y(b++)))for(;b<k&&!d.test(y(b));)++b;var v=_.substring(E,E=b);return"\""!==v&&"'"!==v||(I=v),v}function r(e){P.push(e)}function b(){if(!P.length){var e=m();if(null===e)return null;r(e)}return P[0]}_=_.toString();var E=0,k=_.length,a=1,T=null,S=null,C=0,A=!1,P=[],I=null;return Object.defineProperty({next:m,peek:b,push:r,skip:function(e,t){var a=b();if(a===e)return m(),!0;if(!t)throw f("token '"+a+"', '"+e+"' expected");return!1},cmnt:function(e){var t=null;return e===tt?C===a-1&&(x||"*"===T||A)&&(t=S):(C<e&&b(),C!==e||A||!x&&"/"!==T||(t=S)),t}},"line",{get:function(){return a}})}t.exports=o;var d=/[\s{}=;:[\],'"()<>]/g,e=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,l=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,p=/^ *[*/]+ */,c=/^\s*\*?\/*/,u=/\n/g,i=/\s/,f=/\\(.?)/g,n={0:"\0",r:"\r",n:"\n",t:"\t"};o.unescape=s},{}],35:[function(r,t){function g(e,t){m.call(this,e,t),this.fields={},this.oneofs=tt,this.extensions=tt,this.reserved=tt,this.group=tt,this.v=null,this.e=null,this.p=null,this.w=null}function i(e){return e.v=e.e=e.p=null,delete e.encode,delete e.decode,delete e.verify,e}t.exports=g;var m=r(23);((g.prototype=Object.create(m.prototype)).constructor=g).className="Type";var u=r(15),o=r(25),f=r(16),h=r(20),a=r(33),c=r(21),_=r(27),s=r(42),l=r(37),x=r(14),d=r(13),p=r(40),v=r(12),y=r(41);Object.defineProperties(g.prototype,{fieldsById:{get:function(){if(this.v)return this.v;this.v={};for(var e=Object.keys(this.fields),t=0;t<e.length;++t){var a=this.fields[e[t]],n=a.id;if(this.v[n])throw Error("duplicate id "+n+" in "+this);this.v[n]=a}return this.v}},fieldsArray:{get:function(){return this.e||(this.e=l.toArray(this.fields))}},oneofsArray:{get:function(){return this.p||(this.p=l.toArray(this.oneofs))}},ctor:{get:function(){return this.w||(this.ctor=g.generateConstructor(this)())},set:function(e){var t=e.prototype;t instanceof c||((e.prototype=new c).constructor=e,l.merge(e.prototype,t)),e.$type=e.prototype.$type=this,l.merge(e,c,!0),this.w=e;for(var a=0;a<this.fieldsArray.length;++a)this.e[a].resolve();var o={};for(a=0;a<this.oneofsArray.length;++a)o[this.p[a].resolve().name]={get:l.oneOfGetter(this.p[a].oneof),set:l.oneOfSetter(this.p[a].oneof)};a&&Object.defineProperties(e.prototype,o)}}}),g.generateConstructor=function(e){for(var t=l.codegen(["p"],e.name),n=0,a;n<e.fieldsArray.length;++n)(a=e.e[n]).map?t("this%s={}",l.safeProp(a.name)):a.repeated&&t("this%s=[]",l.safeProp(a.name));return t("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")},g.fromJSON=function(d,t){var i=new g(d,t.options);i.extensions=t.extensions,i.reserved=t.reserved;for(var n=Object.keys(t.fields),l=0;l<n.length;++l)i.add((void 0===t.fields[n[l]].keyType?f.fromJSON:h.fromJSON)(n[l],t.fields[n[l]]));if(t.oneofs)for(n=Object.keys(t.oneofs),l=0;l<n.length;++l)i.add(o.fromJSON(n[l],t.oneofs[n[l]]));if(t.nested)for(n=Object.keys(t.nested),l=0;l<n.length;++l){var p=t.nested[n[l]];i.add((p.id===tt?p.fields===tt?p.values===tt?p.methods===tt?m.fromJSON:a.fromJSON:u.fromJSON:g.fromJSON:f.fromJSON)(n[l],p))}return t.extensions&&t.extensions.length&&(i.extensions=t.extensions),t.reserved&&t.reserved.length&&(i.reserved=t.reserved),t.group&&(i.group=!0),t.comment&&(i.comment=t.comment),i},g.prototype.toJSON=function(e){var t=m.prototype.toJSON.call(this,e),a=!!e&&!!e.keepComments;return l.toObject(["options",t&&t.options||tt,"oneofs",m.arrayToJSON(this.oneofsArray,e),"fields",m.arrayToJSON(this.fieldsArray.filter(function(e){return!e.declaringField}),e)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:tt,"reserved",this.reserved&&this.reserved.length?this.reserved:tt,"group",this.group||tt,"nested",t&&t.nested||tt,"comment",a?this.comment:tt])},g.prototype.resolveAll=function(){for(var e=this.fieldsArray,t=0;t<e.length;)e[t++].resolve();var a=this.oneofsArray;for(t=0;t<a.length;)a[t++].resolve();return m.prototype.resolveAll.call(this)},g.prototype.get=function(e){return this.fields[e]||this.oneofs&&this.oneofs[e]||this.nested&&this.nested[e]||null},g.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);if(e instanceof f&&e.extend===tt){if(this.v?this.v[e.id]:this.fieldsById[e.id])throw Error("duplicate id "+e.id+" in "+this);if(this.isReservedId(e.id))throw Error("id "+e.id+" is reserved in "+this);if(this.isReservedName(e.name))throw Error("name '"+e.name+"' is reserved in "+this);return e.parent&&e.parent.remove(e),(this.fields[e.name]=e).message=this,e.onAdd(this),i(this)}return e instanceof o?(this.oneofs||(this.oneofs={}),(this.oneofs[e.name]=e).onAdd(this),i(this)):m.prototype.add.call(this,e)},g.prototype.remove=function(e){if(e instanceof f&&e.extend===tt){if(!this.fields||this.fields[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.fields[e.name],e.parent=null,e.onRemove(this),i(this)}if(e instanceof o){if(!this.oneofs||this.oneofs[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.oneofs[e.name],e.parent=null,e.onRemove(this),i(this)}return m.prototype.remove.call(this,e)},g.prototype.isReservedId=function(e){return m.isReservedId(this.reserved,e)},g.prototype.isReservedName=function(e){return m.isReservedName(this.reserved,e)},g.prototype.create=function(e){return new this.ctor(e)},g.prototype.setup=function(){for(var a=this.fullName,t=[],o=0;o<this.fieldsArray.length;++o)t.push(this.e[o].resolve().resolvedType);this.encode=x(this)({Writer:s,types:t,util:l}),this.decode=d(this)({Reader:_,types:t,util:l}),this.verify=p(this)({types:t,util:l}),this.fromObject=v.fromObject(this)({types:t,util:l}),this.toObject=v.toObject(this)({types:t,util:l});var i=y[a];if(i){var r=Object.create(this);r.fromObject=this.fromObject,this.fromObject=i.fromObject.bind(r),r.toObject=this.toObject,this.toObject=i.toObject.bind(r)}return this},g.prototype.encode=function(e,t){return this.setup().encode(e,t)},g.prototype.encodeDelimited=function(e,t){return this.encode(e,t&&t.len?t.fork():t).ldelim()},g.prototype.decode=function(e,t){return this.setup().decode(e,t)},g.prototype.decodeDelimited=function(e){return e instanceof _||(e=_.create(e)),this.decode(e,e.uint32())},g.prototype.verify=function(e){return this.setup().verify(e)},g.prototype.fromObject=function(e){return this.setup().fromObject(e)},g.prototype.toObject=function(e,t){return this.setup().toObject(e,t)},g.d=function(e){return function(n){l.decorateType(n,e)}}},{12:12,13:13,14:14,15:15,16:16,20:20,21:21,23:23,25:25,27:27,33:33,37:37,40:40,41:41,42:42}],36:[function(a,t,o){function n(a,t){var o=0,s={};for(t|=0;o<a.length;)s[e[o+t]]=a[o++];return s}var i=o,r=a(37),e=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];i.basic=n([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),i.defaults=n([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",r.emptyArray,null]),i.long=n([0,0,0,1,1],7),i.mapKey=n([0,0,0,5,5,0,0,0,1,1,0,2],2),i.packed=n([1,5,0,0,0,5,5,0,0,0,1,1,0])},{37:37}],37:[function(a,r){var d=r.exports=a(39),t=a(30),s,l;d.codegen=a(3),d.fetch=a(5),d.path=a(8),d.fs=d.inquire("fs"),d.toArray=function(e){if(e){for(var t=Object.keys(e),a=Array(t.length),n=0;n<t.length;)a[n]=e[t[n++]];return a}return[]},d.toObject=function(a){for(var t={},o=0;o<a.length;){var i=a[o++],r=a[o++];r!==tt&&(t[i]=r)}return t};var i=/\\/g,p=/"/g;d.isReserved=function(e){return /^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(e)},d.safeProp=function(e){return!/^[$\w_]+$/.test(e)||d.isReserved(e)?"[\""+e.replace(i,"\\\\").replace(p,"\\\"")+"\"]":"."+e},d.ucFirst=function(e){return e.charAt(0).toUpperCase()+e.substring(1)};var o=/_([a-z])/g;d.camelCase=function(e){return e.substring(0,1)+e.substring(1).replace(o,function(e,t){return t.toUpperCase()})},d.compareFieldsById=function(e,t){return e.id-t.id},d.decorateType=function(e,t){if(e.$type)return t&&e.$type.name!==t&&(d.decorateRoot.remove(e.$type),e.$type.name=t,d.decorateRoot.add(e.$type)),e.$type;s||(s=a(35));var o=new s(t||e.name);return d.decorateRoot.add(o),o.ctor=e,Object.defineProperty(e,"$type",{value:o,enumerable:!1}),Object.defineProperty(e.prototype,"$type",{value:o,enumerable:!1}),o};var c=0;d.decorateEnum=function(e){if(e.$type)return e.$type;l||(l=a(15));var t=new l("Enum"+c++,e);return d.decorateRoot.add(t),Object.defineProperty(e,"$type",{value:t,enumerable:!1}),t},Object.defineProperty(d,"decorateRoot",{get:function(){return t.decorated||(t.decorated=new(a(29)))}})},{15:15,29:29,3:3,30:30,35:35,39:39,5:5,8:8}],38:[function(a,t){function o(e,t){this.lo=e>>>0,this.hi=t>>>0}t.exports=o;var e=a(39),d=o.zero=new o(0,0);d.toNumber=function(){return 0},d.zzEncode=d.zzDecode=function(){return this},d.length=function(){return 1};var n=o.zeroHash="\0\0\0\0\0\0\0\0";o.fromNumber=function(e){if(0===e)return d;var a=0>e;a&&(e=-e);var i=e>>>0,s=(e-i)/4294967296>>>0;return a&&(s=~s>>>0,i=~i>>>0,4294967295<++i&&(i=0,4294967295<++s&&(s=0))),new o(i,s)},o.from=function(n){if("number"==typeof n)return o.fromNumber(n);if(e.isString(n)){if(!e.Long)return o.fromNumber(parseInt(n,10));n=e.Long.fromString(n)}return n.low||n.high?new o(n.low>>>0,n.high>>>0):d},o.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,a=~this.hi>>>0;return t||(a=a+1>>>0),-(t+4294967296*a)}return this.lo+4294967296*this.hi},o.prototype.toLong=function(n){return e.Long?new e.Long(0|this.lo,0|this.hi,!!n):{low:0|this.lo,high:0|this.hi,unsigned:!!n}};var r=String.prototype.charCodeAt;o.fromHash=function(e){return e===n?d:new o((r.call(e,0)|r.call(e,1)<<8|r.call(e,2)<<16|r.call(e,3)<<24)>>>0,(r.call(e,4)|r.call(e,5)<<8|r.call(e,6)<<16|r.call(e,7)<<24)>>>0)},o.prototype.toHash=function(){return _StringfromCharCode(255&this.lo,255&this.lo>>>8,255&this.lo>>>16,this.lo>>>24,255&this.hi,255&this.hi>>>8,255&this.hi>>>16,this.hi>>>24)},o.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},o.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},o.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,a=this.hi>>>24;return 0==a?0==t?16384>e?128>e?1:2:2097152>e?3:4:16384>t?128>t?5:6:2097152>t?7:8:128>a?9:10}},{39:39}],39:[function(a,t,o){function d(a,t,o){for(var n=Object.keys(t),r=0;r<n.length;++r)a[n[r]]!==tt&&o||(a[n[r]]=t[n[r]]);return a}function e(e){function a(e,t){return this instanceof a?void(Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,a):Object.defineProperty(this,"stack",{value:Error().stack||""}),t&&d(this,t)):new a(e,t)}return(a.prototype=Object.create(Error.prototype)).constructor=a,Object.defineProperty(a.prototype,"name",{get:function(){return e}}),a.prototype.toString=function(){return this.name+": "+this.message},a}var s=o;s.asPromise=a(1),s.base64=a(2),s.EventEmitter=a(4),s.float=a(6),s.inquire=a(7),s.utf8=a(10),s.pool=a(9),s.LongBits=a(38),s.global="undefined"!=typeof window&&window||"undefined"!=typeof global&&global||"undefined"!=typeof self&&self||this,s.emptyArray=Object.freeze?Object.freeze([]):[],s.emptyObject=Object.freeze?Object.freeze({}):{},s.isNode=!!(s.global.process&&s.global.process.versions&&s.global.process.versions.node),s.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&_Mathfloor3(e)===e},s.isString=function(e){return"string"==typeof e||e instanceof String},s.isObject=function(e){return e&&"object"==typeof e},s.isset=s.isSet=function(e,t){var a=e[t];return null!=a&&e.hasOwnProperty(t)&&("object"!=typeof a||0<(Array.isArray(a)?a.length:Object.keys(a).length))},s.Buffer=function(){try{var e=s.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),s.y=null,s.b=null,s.newBuffer=function(e){return"number"==typeof e?s.Buffer?s.b(e):new s.Array(e):s.Buffer?s.y(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},s.Array="undefined"==typeof Uint8Array?Array:Uint8Array,s.Long=s.global.dcodeIO&&s.global.dcodeIO.Long||s.global.Long||s.inquire("long"),s.key2Re=/^true|false|0|1$/,s.key32Re=/^-?(?:0|[1-9][0-9]*)$/,s.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,s.longToHash=function(e){return e?s.LongBits.from(e).toHash():s.LongBits.zeroHash},s.longFromHash=function(e,t){var a=s.LongBits.fromHash(e);return s.Long?s.Long.fromBits(a.lo,a.hi,t):a.toNumber(!!t)},s.merge=d,s.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},s.newError=e,s.ProtocolError=e("ProtocolError"),s.oneOfGetter=function(e){for(var a={},t=0;t<e.length;++t)a[e[t]]=1;return function(){for(var e=Object.keys(this),t=e.length-1;-1<t;--t)if(1===a[e[t]]&&this[e[t]]!==tt&&null!==this[e[t]])return e[t]}},s.oneOfSetter=function(e){return function(n){for(var t=0;t<e.length;++t)e[t]!==n&&delete this[e[t]]}},s.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},s.o=function(){var e=s.Buffer;e?(s.y=e.from!==Uint8Array.from&&e.from||function(n,t){return new e(n,t)},s.b=e.allocUnsafe||function(n){return new e(n)}):s.y=s.b=null}},{1:1,10:10,2:2,38:38,4:4,6:6,7:7,9:9}],40:[function(e,t){function d(e,t){return e.name+": "+t+(e.repeated&&"array"!==t?"[]":e.map&&"object"!==t?"{k:"+e.keyType+"}":"")+" expected"}function n(a,t,i,n){if(!t.resolvedType)switch(t.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":a("if(!util.isInteger(%s))",n)("return%j",d(t,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":a("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",n,n,n,n)("return%j",d(t,"integer|Long"));break;case"float":case"double":a("if(typeof %s!==\"number\")",n)("return%j",d(t,"number"));break;case"bool":a("if(typeof %s!==\"boolean\")",n)("return%j",d(t,"boolean"));break;case"string":a("if(!util.isString(%s))",n)("return%j",d(t,"string"));break;case"bytes":a("if(!(%s&&typeof %s.length===\"number\"||util.isString(%s)))",n,n,n)("return%j",d(t,"buffer"));}else if(t.resolvedType instanceof o){a("switch(%s){",n)("default:")("return%j",d(t,"enum value"));for(var r=Object.keys(t.resolvedType.values),e=0;e<r.length;++e)a("case %i:",t.resolvedType.values[r[e]]);a("break")("}")}else a("{")("var e=types[%i].verify(%s);",i,n)("if(e)")("return%j+e",t.name+".")("}");return a}function a(e,t,a){switch(t.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.key32Re.test(%s))",a)("return%j",d(t,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.key64Re.test(%s))",a)("return%j",d(t,"integer|Long key"));break;case"bool":e("if(!util.key2Re.test(%s))",a)("return%j",d(t,"boolean key"));}return e}t.exports=function(p){var t=l.codegen(["m"],p.name+"$verify")("if(typeof m!==\"object\"||m===null)")("return%j","object expected"),i=p.oneofsArray,c={};i.length&&t("var p={}");for(var r=0;r<p.fieldsArray.length;++r){var f=p.e[r].resolve(),s="m"+l.safeProp(f.name);if(f.optional&&t("if(%s!=null&&m.hasOwnProperty(%j)){",s,f.name),f.map)t("if(!util.isObject(%s))",s)("return%j",d(f,"object"))("var k=Object.keys(%s)",s)("for(var i=0;i<k.length;++i){"),a(t,f,"k[i]"),n(t,f,r,s+"[k[i]]")("}");else if(f.repeated)t("if(!Array.isArray(%s))",s)("return%j",d(f,"array"))("for(var i=0;i<%s.length;++i){",s),n(t,f,r,s+"[i]")("}");else{if(f.partOf){var u=l.safeProp(f.partOf.name);1===c[f.partOf.name]&&t("if(p%s===1)",u)("return%j",f.partOf.name+": multiple values"),c[f.partOf.name]=1,t("p%s=1",u)}n(t,f,r,s)}f.optional&&t("}")}return t("return null")};var o=e(15),l=e(37)},{15:15,37:37}],41:[function(e,t,a){var o=e(21);a[".google.protobuf.Any"]={fromObject:function(e){if(e&&e["@type"]){var t=this.lookup(e["@type"]);if(t){var a="."===e["@type"].charAt(0)?e["@type"].substr(1):e["@type"];return this.create({type_url:"/"+a,value:t.encode(t.fromObject(e)).finish()})}}return this.fromObject(e)},toObject:function(a,s){if(s&&s.json&&a.type_url&&a.value){var i=a.type_url.substring(a.type_url.lastIndexOf("/")+1),n=this.lookup(i);n&&(a=n.decode(a.value))}if(!(a instanceof this.ctor)&&a instanceof o){var r=a.$type.toObject(a,s);return r["@type"]=a.$type.fullName,r}return this.toObject(a,s)}}},{21:21}],42:[function(g,t){function m(e,t,a){this.fn=e,this.len=t,this.next=tt,this.val=a}function o(){}function i(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function f(){this.len=0,this.head=new m(o,0,0),this.tail=this.head,this.states=null}function a(e,t,a){t[a]=255&e}function c(e,t){this.len=e,this.next=tt,this.val=t}function l(e,t,a){for(;e.hi;)t[a++]=128|127&e.lo,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;127<e.lo;)t[a++]=128|127&e.lo,e.lo>>>=7;t[a++]=e.lo}function h(e,t,a){t[a]=255&e,t[a+1]=255&e>>>8,t[a+2]=255&e>>>16,t[a+3]=e>>>24}t.exports=f;var d=g(39),r=d.LongBits,e=d.base64,s=d.utf8,u;f.create=d.Buffer?function(){return(f.create=function(){return new u})()}:function(){return new f},f.alloc=function(e){return new d.Array(e)},d.Array!==Array&&(f.alloc=d.pool(f.alloc,d.Array.prototype.subarray)),f.prototype.g=function(e,t,a){return this.tail=this.tail.next=new m(e,t,a),this.len+=t,this},(c.prototype=Object.create(m.prototype)).fn=function(e,a,o){for(;127<e;)a[o++]=128|127&e,e>>>=7;a[o]=e},f.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new c(128>(e>>>=0)?1:16384>e?2:2097152>e?3:268435456>e?4:5,e)).len,this},f.prototype.int32=function(e){return 0>e?this.g(l,10,r.fromNumber(e)):this.uint32(e)},f.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},f.prototype.int64=f.prototype.uint64=function(e){var t=r.from(e);return this.g(l,t.length(),t)},f.prototype.sint64=function(e){var t=r.from(e).zzEncode();return this.g(l,t.length(),t)},f.prototype.bool=function(e){return this.g(a,1,e?1:0)},f.prototype.sfixed32=f.prototype.fixed32=function(e){return this.g(h,4,e>>>0)},f.prototype.sfixed64=f.prototype.fixed64=function(e){var t=r.from(e);return this.g(h,4,t.lo).g(h,4,t.hi)},f.prototype.float=function(e){return this.g(d.float.writeFloatLE,4,e)},f.prototype.double=function(e){return this.g(d.float.writeDoubleLE,8,e)};var _=d.Array.prototype.set?function(e,t,a){t.set(e,a)}:function(e,t,a){for(var n=0;n<e.length;++n)t[a+n]=e[n]};f.prototype.bytes=function(o){var r=o.length>>>0;if(!r)return this.g(a,1,0);if(d.isString(o)){var s=f.alloc(r=e.length(o));e.decode(o,s,0),o=s}return this.uint32(r).g(_,r,o)},f.prototype.string=function(e){var t=s.length(e);return t?this.uint32(t).g(s.write,t,e):this.g(a,1,0)},f.prototype.fork=function(){return this.states=new i(this),this.head=this.tail=new m(o,0,0),this.len=0,this},f.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new m(o,0,0),this.len=0),this},f.prototype.ldelim=function(){var e=this.head,t=this.tail,a=this.len;return this.reset().uint32(a),a&&(this.tail.next=e.next,this.tail=t,this.len+=a),this},f.prototype.finish=function(){for(var e=this.head.next,a=this.constructor.alloc(this.len),o=0;e;)e.fn(e.val,a,o),o+=e.len,e=e.next;return a},f.o=function(e){u=e}},{39:39}],43:[function(a,t){function i(){o.call(this)}function s(e,t,a){40>e.length?d.utf8.write(e,t,a):t.utf8Write(e,a)}t.exports=i;var o=a(42);(i.prototype=Object.create(o.prototype)).constructor=i;var d=a(39),n=d.Buffer;i.alloc=function(e){return(i.alloc=d.b)(e)};var e=n&&n.prototype instanceof Uint8Array&&"set"===n.prototype.set.name?function(e,t,a){t.set(e,a)}:function(e,t,a){if(e.copy)e.copy(t,a,0,e.length);else for(var o=0;o<e.length;)t[a++]=e[o++]};i.prototype.bytes=function(n){d.isString(n)&&(n=d.y(n,"base64"));var a=n.length>>>0;return this.uint32(a),a&&this.g(e,a,n),this},i.prototype.string=function(e){var t=n.byteLength(e);return this.uint32(t),t&&this.g(s,t,e),this}},{39:39,42:42}]},e={},t=[19],i=function a(t){var o=e[t];return o||r[t][0].call(o=e[t]={exports:{}},a,o,o.exports),o.exports}(t[0]),i.util.global.protobuf=i,"function"==typeof define&&define.amd&&define(["long"],function(e){return e&&e.isLong&&(i.util.Long=e,i.configure()),i}),"object"==typeof module&&module&&module.exports&&(module.exports=i)}();var flatbuffers={};flatbuffers.Offset,flatbuffers.Table,flatbuffers.SIZEOF_SHORT=2,flatbuffers.SIZEOF_INT=4,flatbuffers.FILE_IDENTIFIER_LENGTH=4,flatbuffers.Encoding={UTF8_BYTES:1,UTF16_STRING:2},flatbuffers.int32=new Int32Array(2),flatbuffers.float32=new Float32Array(flatbuffers.int32.buffer),flatbuffers.float64=new Float64Array(flatbuffers.int32.buffer),flatbuffers.isLittleEndian=1===new Uint16Array(new Uint8Array([1,0]).buffer)[0],flatbuffers.Long=function(e,t){this.low=0|e,this.high=0|t},flatbuffers.Long.create=function(e,t){return 0==e&&0==t?flatbuffers.Long.ZERO:new flatbuffers.Long(e,t)},flatbuffers.Long.prototype.toFloat64=function(){return(this.low>>>0)+4294967296*this.high},flatbuffers.Long.prototype.equals=function(e){return this.low==e.low&&this.high==e.high},flatbuffers.Long.ZERO=new flatbuffers.Long(0,0),flatbuffers.Builder=function(e){if(!e)var t=1024;else var t=e;this.bb=flatbuffers.ByteBuffer.allocate(t),this.space=t,this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},flatbuffers.Builder.prototype.forceDefaults=function(e){this.force_defaults=e},flatbuffers.Builder.prototype.dataBuffer=function(){return this.bb},flatbuffers.Builder.prototype.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())},flatbuffers.Builder.prototype.prep=function(e,t){e>this.minalign&&(this.minalign=e);for(var n=~(this.bb.capacity()-this.space+t)+1&e-1;this.space<n+e+t;){var a=this.bb.capacity();this.bb=flatbuffers.Builder.growByteBuffer(this.bb),this.space+=this.bb.capacity()-a}this.pad(n)},flatbuffers.Builder.prototype.pad=function(e){for(var t=0;t<e;t++)this.bb.writeInt8(--this.space,0)},flatbuffers.Builder.prototype.writeInt8=function(e){this.bb.writeInt8(this.space-=1,e)},flatbuffers.Builder.prototype.writeInt16=function(e){this.bb.writeInt16(this.space-=2,e)},flatbuffers.Builder.prototype.writeInt32=function(e){this.bb.writeInt32(this.space-=4,e)},flatbuffers.Builder.prototype.writeInt64=function(e){this.bb.writeInt64(this.space-=8,e)},flatbuffers.Builder.prototype.writeFloat32=function(e){this.bb.writeFloat32(this.space-=4,e)},flatbuffers.Builder.prototype.writeFloat64=function(e){this.bb.writeFloat64(this.space-=8,e)},flatbuffers.Builder.prototype.addInt8=function(e){this.prep(1,0),this.writeInt8(e)},flatbuffers.Builder.prototype.addInt16=function(e){this.prep(2,0),this.writeInt16(e)},flatbuffers.Builder.prototype.addInt32=function(e){this.prep(4,0),this.writeInt32(e)},flatbuffers.Builder.prototype.addInt64=function(e){this.prep(8,0),this.writeInt64(e)},flatbuffers.Builder.prototype.addFloat32=function(e){this.prep(4,0),this.writeFloat32(e)},flatbuffers.Builder.prototype.addFloat64=function(e){this.prep(8,0),this.writeFloat64(e)},flatbuffers.Builder.prototype.addFieldInt8=function(e,t,n){(this.force_defaults||t!=n)&&(this.addInt8(t),this.slot(e))},flatbuffers.Builder.prototype.addFieldInt16=function(e,t,n){(this.force_defaults||t!=n)&&(this.addInt16(t),this.slot(e))},flatbuffers.Builder.prototype.addFieldInt32=function(e,t,n){(this.force_defaults||t!=n)&&(this.addInt32(t),this.slot(e))},flatbuffers.Builder.prototype.addFieldInt64=function(e,t,n){(this.force_defaults||!t.equals(n))&&(this.addInt64(t),this.slot(e))},flatbuffers.Builder.prototype.addFieldFloat32=function(e,t,n){(this.force_defaults||t!=n)&&(this.addFloat32(t),this.slot(e))},flatbuffers.Builder.prototype.addFieldFloat64=function(e,t,n){(this.force_defaults||t!=n)&&(this.addFloat64(t),this.slot(e))},flatbuffers.Builder.prototype.addFieldOffset=function(e,t,n){(this.force_defaults||t!=n)&&(this.addOffset(t),this.slot(e))},flatbuffers.Builder.prototype.addFieldStruct=function(e,t,n){t!=n&&(this.nested(t),this.slot(e))},flatbuffers.Builder.prototype.nested=function(e){if(e!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")},flatbuffers.Builder.prototype.notNested=function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")},flatbuffers.Builder.prototype.slot=function(e){this.vtable[e]=this.offset()},flatbuffers.Builder.prototype.offset=function(){return this.bb.capacity()-this.space},flatbuffers.Builder.growByteBuffer=function(e){var t=e.capacity();if(3221225472&t)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var n=t<<1,a=flatbuffers.ByteBuffer.allocate(n);return a.setPosition(n-t),a.bytes().set(e.bytes(),n-t),a},flatbuffers.Builder.prototype.addOffset=function(e){this.prep(flatbuffers.SIZEOF_INT,0),this.writeInt32(this.offset()-e+flatbuffers.SIZEOF_INT)},flatbuffers.Builder.prototype.startObject=function(e){this.notNested(),null==this.vtable&&(this.vtable=[]),this.vtable_in_use=e;for(var t=0;t<e;t++)this.vtable[t]=0;this.isNested=!0,this.object_start=this.offset()},flatbuffers.Builder.prototype.endObject=function(){if(null==this.vtable||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var e=this.offset(),t=this.vtable_in_use-1;0<=t&&0==this.vtable[t];t--);for(var n=t+1;0<=t;t--)this.addInt16(0==this.vtable[t]?0:e-this.vtable[t]);this.addInt16(e-this.object_start);var a=(n+2)*flatbuffers.SIZEOF_SHORT;this.addInt16(a);var o=0,r=this.space;outer_loop:for(t=0;t<this.vtables.length;t++){var s=this.bb.capacity()-this.vtables[t];if(a==this.bb.readInt16(s)){for(var d=flatbuffers.SIZEOF_SHORT;d<a;d+=flatbuffers.SIZEOF_SHORT)if(this.bb.readInt16(r+d)!=this.bb.readInt16(s+d))continue outer_loop;o=this.vtables[t];break}}return o?(this.space=this.bb.capacity()-e,this.bb.writeInt32(this.space,o-e)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-e,this.offset()-e)),this.isNested=!1,e},flatbuffers.Builder.prototype.finish=function(e,t){if(t){var n=t;if(this.prep(this.minalign,flatbuffers.SIZEOF_INT+flatbuffers.FILE_IDENTIFIER_LENGTH),n.length!=flatbuffers.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+flatbuffers.FILE_IDENTIFIER_LENGTH);for(var a=flatbuffers.FILE_IDENTIFIER_LENGTH-1;0<=a;a--)this.writeInt8(n.charCodeAt(a))}this.prep(this.minalign,flatbuffers.SIZEOF_INT),this.addOffset(e),this.bb.setPosition(this.space)},flatbuffers.Builder.prototype.requiredField=function(e,t){var n=this.bb.capacity()-e,a=n-this.bb.readInt32(n),o=0!=this.bb.readInt16(a+t);if(!o)throw new Error("FlatBuffers: field "+t+" must be set")},flatbuffers.Builder.prototype.startVector=function(e,t,n){this.notNested(),this.vector_num_elems=t,this.prep(flatbuffers.SIZEOF_INT,e*t),this.prep(n,e*t)},flatbuffers.Builder.prototype.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()},flatbuffers.Builder.prototype.createString=function(e){if(e instanceof Uint8Array)var t=e;else for(var t=[],n=0;n<e.length;){var o=e.charCodeAt(n++),a;if(55296>o||56320<=o)a=o;else{var r=e.charCodeAt(n++);a=(o<<10)+r+-56613888}128>a?t.push(a):(2048>a?t.push(192|31&a>>6):(65536>a?t.push(224|15&a>>12):t.push(240|7&a>>18,128|63&a>>12),t.push(128|63&a>>6)),t.push(128|63&a))}this.addInt8(0),this.startVector(1,t.length,1),this.bb.setPosition(this.space-=t.length);for(var n=0,s=this.space,d=this.bb.bytes();n<t.length;n++)d[s++]=t[n];return this.endVector()},flatbuffers.Builder.prototype.createLong=function(e,t){return flatbuffers.Long.create(e,t)},flatbuffers.ByteBuffer=function(e){this.bytes_=e,this.position_=0},flatbuffers.ByteBuffer.allocate=function(e){return new flatbuffers.ByteBuffer(new Uint8Array(e))},flatbuffers.ByteBuffer.prototype.bytes=function(){return this.bytes_},flatbuffers.ByteBuffer.prototype.position=function(){return this.position_},flatbuffers.ByteBuffer.prototype.setPosition=function(e){this.position_=e},flatbuffers.ByteBuffer.prototype.capacity=function(){return this.bytes_.length},flatbuffers.ByteBuffer.prototype.readInt8=function(e){return this.readUint8(e)<<24>>24},flatbuffers.ByteBuffer.prototype.readUint8=function(e){return this.bytes_[e]},flatbuffers.ByteBuffer.prototype.readInt16=function(e){return this.readUint16(e)<<16>>16},flatbuffers.ByteBuffer.prototype.readUint16=function(e){return this.bytes_[e]|this.bytes_[e+1]<<8},flatbuffers.ByteBuffer.prototype.readInt32=function(e){return this.bytes_[e]|this.bytes_[e+1]<<8|this.bytes_[e+2]<<16|this.bytes_[e+3]<<24},flatbuffers.ByteBuffer.prototype.readUint32=function(e){return this.readInt32(e)>>>0},flatbuffers.ByteBuffer.prototype.readInt64=function(e){return new flatbuffers.Long(this.readInt32(e),this.readInt32(e+4))},flatbuffers.ByteBuffer.prototype.readUint64=function(e){return new flatbuffers.Long(this.readUint32(e),this.readUint32(e+4))},flatbuffers.ByteBuffer.prototype.readFloat32=function(e){return flatbuffers.int32[0]=this.readInt32(e),flatbuffers.float32[0]},flatbuffers.ByteBuffer.prototype.readFloat64=function(e){return flatbuffers.int32[flatbuffers.isLittleEndian?0:1]=this.readInt32(e),flatbuffers.int32[flatbuffers.isLittleEndian?1:0]=this.readInt32(e+4),flatbuffers.float64[0]},flatbuffers.ByteBuffer.prototype.writeInt8=function(e,t){this.bytes_[e]=t},flatbuffers.ByteBuffer.prototype.writeUint8=function(e,t){this.bytes_[e]=t},flatbuffers.ByteBuffer.prototype.writeInt16=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8},flatbuffers.ByteBuffer.prototype.writeUint16=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8},flatbuffers.ByteBuffer.prototype.writeInt32=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24},flatbuffers.ByteBuffer.prototype.writeUint32=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24},flatbuffers.ByteBuffer.prototype.writeInt64=function(e,t){this.writeInt32(e,t.low),this.writeInt32(e+4,t.high)},flatbuffers.ByteBuffer.prototype.writeUint64=function(e,t){this.writeUint32(e,t.low),this.writeUint32(e+4,t.high)},flatbuffers.ByteBuffer.prototype.writeFloat32=function(e,t){flatbuffers.float32[0]=t,this.writeInt32(e,flatbuffers.int32[0])},flatbuffers.ByteBuffer.prototype.writeFloat64=function(e,t){flatbuffers.float64[0]=t,this.writeInt32(e,flatbuffers.int32[flatbuffers.isLittleEndian?0:1]),this.writeInt32(e+4,flatbuffers.int32[flatbuffers.isLittleEndian?1:0])},flatbuffers.ByteBuffer.prototype.__offset=function(e,t){var n=e-this.readInt32(e);return t<this.readInt16(n)?this.readInt16(n+t):0},flatbuffers.ByteBuffer.prototype.__union=function(e,t){return e.bb_pos=t+this.readInt32(t),e.bb=this,e},flatbuffers.ByteBuffer.prototype.__string=function(e,t){var n=String.fromCharCode;e+=this.readInt32(e);var o=this.readInt32(e),r="",s=0;if(e+=flatbuffers.SIZEOF_INT,t===flatbuffers.Encoding.UTF8_BYTES)return this.bytes_.subarray(e,e+o);for(;s<o;){var l=this.readUint8(e+s++),a;if(192>l)a=l;else{var p=this.readUint8(e+s++);if(224>l)a=(31&l)<<6|63&p;else{var u=this.readUint8(e+s++);if(240>l)a=(15&l)<<12|(63&p)<<6|63&u;else{var c=this.readUint8(e+s++);a=(7&l)<<18|(63&p)<<12|(63&u)<<6|63&c}}}65536>a?r+=n(a):(a-=65536,r+=n((a>>10)+55296,(1023&a)+56320))}return r},flatbuffers.ByteBuffer.prototype.__indirect=function(e){return e+this.readInt32(e)},flatbuffers.ByteBuffer.prototype.__vector=function(e){return e+this.readInt32(e)+flatbuffers.SIZEOF_INT},flatbuffers.ByteBuffer.prototype.__vector_len=function(e){return this.readInt32(e+this.readInt32(e))},flatbuffers.ByteBuffer.prototype.__has_identifier=function(e){if(e.length!=flatbuffers.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+flatbuffers.FILE_IDENTIFIER_LENGTH);for(var t=0;t<flatbuffers.FILE_IDENTIFIER_LENGTH;t++)if(e.charCodeAt(t)!=this.readInt8(this.position_+flatbuffers.SIZEOF_INT+t))return!1;return!0},flatbuffers.ByteBuffer.prototype.createLong=function(e,t){return flatbuffers.Long.create(e,t)},this.flatbuffers=flatbuffers,!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Handlebars=t():e.Handlebars=t()}(this,function(){return function(t){function n(o){if(a[o])return a[o].exports;var r=a[o]={exports:{},id:o,loaded:!1};return t[o].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}var a={};return n.m=t,n.c=a,n.p="",n(0)}([function(t,a,u){"use strict";function c(){var e=b();return e.compile=function(t,n){return _.compile(t,n,e)},e.precompile=function(t,n){return _.precompile(t,n,e)},e.AST=h["default"],e.Compiler=_.Compiler,e.JavaScriptCompiler=l["default"],e.Parser=i.parser,e.parse=i.parse,e}var d=u(1)["default"];a.__esModule=!0;var e=u(2),f=d(e),g=u(35),h=d(g),i=u(36),_=u(41),y=u(42),l=d(y),m=u(39),n=d(m),o=u(34),p=d(o),b=f["default"].create,r=c();r.create=c,p["default"](r),r.Visitor=n["default"],r["default"]=r,a["default"]=r,t.exports=a["default"]},function(e,t){"use strict";t["default"]=function(e){return e&&e.__esModule?e:{default:e}},t.__esModule=!0},function(t,a,u){"use strict";function c(){var e=new g.HandlebarsEnvironment;return m.extend(e,g),e.SafeString=i["default"],e.Exception=y["default"],e.Utils=m,e.escapeExpression=m.escapeExpression,e.VM=o,e.template=function(t){return o.template(t,e)},e}var d=u(3)["default"],e=u(1)["default"];a.__esModule=!0;var f=u(4),g=d(f),h=u(21),i=e(h),_=u(6),y=e(_),l=u(5),m=d(l),n=u(22),o=d(n),p=u(34),b=e(p),r=c();r.create=c,b["default"](r),r["default"]=r,a["default"]=r,t.exports=a["default"]},function(e,t){"use strict";t["default"]=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t},t.__esModule=!0},function(t,n,a){"use strict";function o(e,t,n){this.helpers=e||{},this.partials=t||{},this.decorators=n||{},p.registerDefaultHelpers(this),i.registerDefaultDecorators(this)}var r=a(1)["default"];n.__esModule=!0,n.HandlebarsEnvironment=o;var e=a(5),s=a(6),d=r(s),p=a(10),i=a(18),c=a(20),u=r(c);n.VERSION="4.0.11";n.COMPILER_REVISION=7;n.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};o.prototype={constructor:o,logger:u["default"],log:u["default"].log,registerHelper:function(t,n){if(e.toString.call(t)==="[object Object]"){if(n)throw new d["default"]("Arg not supported with multiple helpers");e.extend(this.helpers,t)}else this.helpers[t]=n},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(t,n){if(e.toString.call(t)==="[object Object]")e.extend(this.partials,t);else{if("undefined"==typeof n)throw new d["default"]("Attempting to register a partial called \""+t+"\" as undefined");this.partials[t]=n}},unregisterPartial:function(e){delete this.partials[e]},registerDecorator:function(t,n){if(e.toString.call(t)==="[object Object]"){if(n)throw new d["default"]("Arg not supported with multiple decorators");e.extend(this.decorators,t)}else this.decorators[t]=n},unregisterDecorator:function(e){delete this.decorators[e]}};var l=u["default"].log;n.log=l,n.createFrame=e.createFrame,n.logger=u["default"]},function(e,t){"use strict";function r(e){return s[e]}function i(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],n)&&(e[n]=arguments[t][n]);return e}t.__esModule=!0,t.extend=i,t.indexOf=function(e,t){for(var n=0,a=e.length;n<a;n++)if(e[n]===t)return n;return-1},t.escapeExpression=function(e){if("string"!=typeof e){if(e&&e.toHTML)return e.toHTML();if(null==e)return"";if(!e)return e+"";e=""+e}return l.test(e)?e.replace(d,r):e},t.isEmpty=function(e){return!e&&0!==e||u(e)&&0===e.length},t.createFrame=function(e){var t=i({},e);return t._parent=e,t},t.blockParams=function(e,t){return e.path=t,e},t.appendContextPath=function(e,t){return(e?e+".":"")+t};var s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},d=/[&<>"'`=]/g,l=/[&<>"'`=]/,c=Object.prototype.toString;t.toString=c;var n=function(e){return"function"==typeof e};n(/x/)&&(t.isFunction=n=function(e){return"function"==typeof e&&"[object Function]"===c.call(e)}),t.isFunction=n;var u=Array.isArray||function(e){return e&&"object"==typeof e&&"[object Array]"===c.call(e)};t.isArray=u},function(t,n,a){"use strict";function o(t,n){var s=n&&n.loc,d,l;s&&(d=s.start.line,l=s.start.column,t+=" - "+d+":"+l);for(var p=Error.prototype.constructor.call(this,t),i=0;i<e.length;i++)this[e[i]]=p[e[i]];Error.captureStackTrace&&Error.captureStackTrace(this,o);try{s&&(this.lineNumber=d,r?Object.defineProperty(this,"column",{value:l,enumerable:!0}):this.column=l)}catch(e){}}var r=a(7)["default"];n.__esModule=!0;var e=["description","fileName","lineNumber","message","name","number","stack"];o.prototype=new Error,n["default"]=o,t.exports=n["default"]},function(e,t,n){e.exports={default:n(8),__esModule:!0}},function(e,t,n){var o=n(9);e.exports=function(e,t,n){return o.setDesc(e,t,n)}},function(e){var t=Object;e.exports={create:t.create,getProto:t.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:t.getOwnPropertyDescriptor,setDesc:t.defineProperty,setDescs:t.defineProperties,getKeys:t.keys,getNames:t.getOwnPropertyNames,getSymbols:t.getOwnPropertySymbols,each:[].forEach}},function(t,a,d){"use strict";var c=d(1)["default"];a.__esModule=!0,a.registerDefaultHelpers=function(e){u["default"](e),h["default"](e),g["default"](e),l["default"](e),n["default"](e),p["default"](e),r["default"](e)};var e=d(11),u=c(e),f=d(12),h=c(f),i=d(13),g=c(i),_=d(14),l=c(_),m=d(15),n=c(m),o=d(16),p=c(o),y=d(17),r=c(y)},function(e,t,n){"use strict";t.__esModule=!0;var o=n(5);t["default"]=function(t){t.registerHelper("blockHelperMissing",function(n,a){var r=a.inverse,e=a.fn;if(!0===n)return e(this);if(!1===n||null==n)return r(this);if(o.isArray(n))return 0<n.length?(a.ids&&(a.ids=[a.name]),t.helpers.each(n,a)):r(this);if(a.data&&a.ids){var i=o.createFrame(a.data);i.contextPath=o.appendContextPath(a.data.contextPath,a.name),a={data:i}}return e(n,a)})},e.exports=t["default"]},function(t,n,a){"use strict";var o=a(1)["default"];n.__esModule=!0;var r=a(5),e=a(6),s=o(e);n["default"]=function(e){e.registerHelper("each",function(e,t){function o(t,n,a){g&&(g.key=t,g.index=n,g.first=0===n,g.last=!!a,_&&(g.contextPath=_+t)),u+=p(e[t],{data:g,blockParams:r.blockParams([e[t],t],[_+t,null])})}if(!t)throw new s["default"]("Must pass iterator to #each");var p=t.fn,d=t.inverse,c=0,u="",g,_;if(t.data&&t.ids&&(_=r.appendContextPath(t.data.contextPath,t.ids[0])+"."),r.isFunction(e)&&(e=e.call(this)),t.data&&(g=r.createFrame(t.data)),e&&"object"==typeof e)if(r.isArray(e))for(var f=e.length;c<f;c++)c in e&&o(c,c,c==e.length-1);else{var l;for(var y in e)e.hasOwnProperty(y)&&(void 0!==l&&o(l,c-1),l=y,c++);void 0!==l&&o(l,c-1,!0)}return 0==c&&(u=d(this)),u})},t.exports=n["default"]},function(t,n,a){"use strict";var o=a(1)["default"];n.__esModule=!0;var r=a(6),e=o(r);n["default"]=function(t){t.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new e["default"]("Missing helper: \""+arguments[arguments.length-1].name+"\"")})},t.exports=n["default"]},function(e,t,n){"use strict";t.__esModule=!0;var o=n(5);t["default"]=function(e){e.registerHelper("if",function(e,t){return o.isFunction(e)&&(e=e.call(this)),(t.hash.includeZero||e)&&!o.isEmpty(e)?t.fn(this):t.inverse(this)}),e.registerHelper("unless",function(t,n){return e.helpers["if"].call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})})},e.exports=t["default"]},function(e,t){"use strict";t.__esModule=!0,t["default"]=function(t){t.registerHelper("log",function(){for(var n=[void 0],a=arguments[arguments.length-1],o=0;o<arguments.length-1;o++)n.push(arguments[o]);var r=1;null==a.hash.level?a.data&&null!=a.data.level&&(r=a.data.level):r=a.hash.level,n[0]=r,t.log.apply(t,n)})},e.exports=t["default"]},function(e,t){"use strict";t.__esModule=!0,t["default"]=function(e){e.registerHelper("lookup",function(e,t){return e&&e[t]})},e.exports=t["default"]},function(e,t,n){"use strict";t.__esModule=!0;var o=n(5);t["default"]=function(e){e.registerHelper("with",function(t,n){o.isFunction(t)&&(t=t.call(this));var r=n.fn;if(o.isEmpty(t))return n.inverse(this);var i=n.data;return n.data&&n.ids&&(i=o.createFrame(n.data),i.contextPath=o.appendContextPath(n.data.contextPath,n.ids[0])),r(t,{data:i,blockParams:o.blockParams([t],[i&&i.contextPath])})})},e.exports=t["default"]},function(t,n,a){"use strict";var o=a(1)["default"];n.__esModule=!0,n.registerDefaultDecorators=function(e){r["default"](e)};var e=a(19),r=o(e)},function(e,t,n){"use strict";t.__esModule=!0;var o=n(5);t["default"]=function(e){e.registerDecorator("inline",function(t,n,a,r){var e=t;return n.partials||(n.partials={},e=function(r,e){var i=a.partials;a.partials=o.extend({},i,n.partials);var s=t(r,e);return a.partials=i,s}),n.partials[r.args[0]]=r.fn,e})},e.exports=t["default"]},function(t,n,a){"use strict";n.__esModule=!0;var o=a(5),r={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(e){if("string"==typeof e){var t=o.indexOf(r.methodMap,e.toLowerCase());e=0<=t?t:parseInt(e,10)}return e},log:function(e){if(e=r.lookupLevel(e),"undefined"!=typeof console&&r.lookupLevel(r.level)<=e){var t=r.methodMap[e];console[t]||(t="log");for(var n=arguments.length,o=Array(1<n?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];console[t].apply(console,o)}}};n["default"]=r,t.exports=n["default"]},function(e,t){"use strict";function n(e){this.string=e}t.__esModule=!0,n.prototype.toString=n.prototype.toHTML=function(){return""+this.string},t["default"]=n,e.exports=t["default"]},function(t,a,u){"use strict";function c(t){var n=t&&t[0]||1,a=r.COMPILER_REVISION;if(n!==a){if(n<a){var o=r.REVISION_CHANGES[a],i=r.REVISION_CHANGES[n];throw new m["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+o+") or downgrade your runtime to an older version ("+i+").")}throw new m["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}}function d(t,n){function a(a,r,s){s.hash&&(r=o.extend({},r,s.hash),s.ids&&(s.ids[0]=!0)),a=n.VM.resolvePartial.call(this,a,r,s);var e=n.VM.invokePartial.call(this,a,r,s);if(null==e&&n.compile&&(s.partials[s.name]=n.compile(a,t.compilerOptions,n),e=s.partials[s.name](r,s)),null!=e){if(s.indent){for(var l=e.split("\n"),p=0,u=l.length;p<u&&(l[p]||p+1!==u);p++)l[p]=s.indent+l[p];e=l.join("\n")}return e}throw new m["default"]("The partial "+s.name+" could not be compiled when running in runtime-only mode")}function r(e){function n(e){return""+t.main(s,e,s.helpers,s.partials,o,d,i)}var a=1>=arguments.length||void 0===arguments[1]?{}:arguments[1],o=a.data;r._setup(a),!a.partial&&t.useData&&(o=y(e,o));var d=t.useBlockParams?[]:void 0,i;return t.useDepths&&(i=a.depths?e==a.depths[0]?a.depths:[e].concat(a.depths):[e]),(n=x(t.main,n,s,a.depths||[],o,d))(e,a)}if(!n)throw new m["default"]("No environment passed to template");if(!t||!t.main)throw new m["default"]("Unknown template object: "+typeof t);t.main.decorator=t.main_d,n.VM.checkRevision(t.compiler);var s={strict:function(e,t){if(!(t in e))throw new m["default"]("\""+t+"\" not defined in "+e);return e[t]},lookup:function(e,t){for(var n=e.length,a=0;a<n;a++)if(e[a]&&null!=e[a][t])return e[a][t]},lambda:function(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:o.escapeExpression,invokePartial:a,fn:function(e){var n=t[e];return n.decorator=t[e+"_d"],n},programs:[],program:function(t,n,a,o,r){var e=this.programs[t],i=this.fn(t);return n||r||o||a?e=_(this,t,i,n,a,o,r):e||(e=this.programs[t]=_(this,t,i)),e},data:function(e,t){for(;e&&t--;)e=e._parent;return e},merge:function(e,t){var n=e||t;return e&&t&&e!==t&&(n=o.extend({},t,e)),n},nullContext:i({}),noop:n.VM.noop,compilerInfo:t.compiler};return r.isTop=!0,r._setup=function(e){e.partial?(s.helpers=e.helpers,s.partials=e.partials,s.decorators=e.decorators):(s.helpers=s.merge(e.helpers,n.helpers),t.usePartial&&(s.partials=s.merge(e.partials,n.partials)),(t.usePartial||t.useDecorators)&&(s.decorators=s.merge(e.decorators,n.decorators)))},r._child=function(e,n,a,o){if(t.useBlockParams&&!a)throw new m["default"]("must pass block params");if(t.useDepths&&!o)throw new m["default"]("must pass parent depths");return _(s,e,t[e],n,0,a,o)},r}function _(t,n,a,o,r,i,s){function e(n){var r=1>=arguments.length||void 0===arguments[1]?{}:arguments[1],e=s;return!s||n==s[0]||n===t.nullContext&&null===s[0]||(e=[n].concat(s)),a(t,n,t.helpers,t.partials,r.data||o,i&&[r.blockParams].concat(i),e)}return e=x(a,e,t,s,o,i),e.program=n,e.depth=s?s.length:0,e.blockParams=r||0,e}function f(){return""}function y(e,t){return t&&"root"in t||(t=t?r.createFrame(t):{},t.root=e),t}function x(t,n,a,r,i,e){if(t.decorator){var s={};n=t.decorator(n,s,a,r&&r[0],i,e,r),o.extend(n,s)}return n}var i=u(23)["default"],e=u(3)["default"],l=u(1)["default"];a.__esModule=!0,a.checkRevision=c,a.template=d,a.wrapProgram=_,a.resolvePartial=function(e,t,n){return e?e.call||n.name||(n.name=e,e=n.partials[e]):e="@partial-block"===n.name?n.data["partial-block"]:n.partials[n.name],e},a.invokePartial=function(t,n,i){var s=i.data&&i.data["partial-block"];i.partial=!0,i.ids&&(i.data.contextPath=i.ids[0]||i.data.contextPath);var d;if(i.fn&&i.fn!==f&&!function(){i.data=r.createFrame(i.data);var e=i.fn;d=i.data["partial-block"]=function(t){var n=1>=arguments.length||void 0===arguments[1]?{}:arguments[1];return n.data=r.createFrame(n.data),n.data["partial-block"]=s,e(t,n)},e.partials&&(i.partials=o.extend({},i.partials,e.partials))}(),void 0===t&&d&&(t=d),void 0===t)throw new m["default"]("The partial "+i.name+" could not be found");return t instanceof Function?t(n,i):void 0},a.noop=f;var n=u(5),o=e(n),p=u(6),m=l(p),r=u(4)},function(e,t,n){e.exports={default:n(24),__esModule:!0}},function(e,t,n){n(25),e.exports=n(30).Object.seal},function(e,t,n){var o=n(26);n(27)("seal",function(e){return function(t){return e&&o(t)?e(t):t}})},function(e){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(t,n,a){var o=a(28),r=a(30),e=a(33);t.exports=function(t,n){var a=(r.Object||{})[t]||Object[t],i={};i[t]=n(a),o(o.S+o.F*e(function(){a(1)}),"Object",i)}},function(t,n,a){var u=a(29),d=a(30),e=a(31),f=function(t,a,h){var g=t&f.F,l=t&f.G,m=t&f.S,n=t&f.P,o=t&f.B,p=t&f.W,_=l?d:d[a]||(d[a]={}),r=l?u:m?u[a]:(u[a]||{}).prototype,s,y,b;for(s in l&&(h=a),h)y=!g&&r&&s in r,y&&s in _||(b=y?r[s]:h[s],_[s]=l&&"function"!=typeof r[s]?h[s]:o&&y?e(b,u):p&&r[s]==b?function(e){var t=function(t){return this instanceof e?new e(t):e(t)};return t.prototype=e.prototype,t}(b):n&&"function"==typeof b?e(Function.call,b):b,n&&((_.prototype||(_.prototype={}))[s]=b))};f.F=1,f.G=2,f.S=4,f.P=8,f.B=16,f.W=32,t.exports=f},function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},function(e){var t=e.exports={version:"1.2.6"};"number"==typeof __e&&(__e=t)},function(e,t,n){var o=n(32);e.exports=function(t,n,e){if(o(t),void 0===n)return t;return 1===e?function(e){return t.call(n,e)}:2===e?function(e,a){return t.call(n,e,a)}:3===e?function(a,o,r){return t.call(n,a,o,r)}:function(){return t.apply(n,arguments)}}},function(e){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){(function(n){"use strict";t.__esModule=!0,t["default"]=function(e){var t="undefined"==typeof n?window:n,a=t.Handlebars;e.noConflict=function(){return t.Handlebars===e&&(t.Handlebars=a),e}},e.exports=t["default"]}).call(t,function(){return this}())},function(e,t){"use strict";t.__esModule=!0;var n={helpers:{helperExpression:function(e){return"SubExpression"===e.type||("MustacheStatement"===e.type||"BlockStatement"===e.type)&&!!(e.params&&e.params.length||e.hash)},scopedId:function(e){return /^\.|this\b/.test(e.original)},simpleId:function(e){return 1===e.parts.length&&!n.helpers.scopedId(e)&&!e.depth}}};t["default"]=n,e.exports=t["default"]},function(t,a,o){"use strict";var r=o(1)["default"],e=o(3)["default"];a.__esModule=!0,a.parse=function(e,t){if("Program"===e.type)return e;d["default"].yy=f,f.locInfo=function(e){return new f.SourceLocation(t&&t.srcName,e)};var n=new i["default"](t);return n.accept(d["default"].parse(e))};var s=o(37),d=r(s),p=o(38),i=r(p),c=o(40),u=e(c),l=o(5);a.parser=d["default"];var f={};l.extend(f,u)},function(e,t){"use strict";t.__esModule=!0;var n=function(){function e(){this.yy={}}var t={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition_plus0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,1],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(t,n,a,o,r,e){var s=e.length-1;switch(r){case 1:return e[s-1];case 2:this.$=o.prepareProgram(e[s]);break;case 3:this.$=e[s];break;case 4:this.$=e[s];break;case 5:this.$=e[s];break;case 6:this.$=e[s];break;case 7:this.$=e[s];break;case 8:this.$=e[s];break;case 9:this.$={type:"CommentStatement",value:o.stripComment(e[s]),strip:o.stripFlags(e[s],e[s]),loc:o.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:e[s],value:e[s],loc:o.locInfo(this._$)};break;case 11:this.$=o.prepareRawBlock(e[s-2],e[s-1],e[s],this._$);break;case 12:this.$={path:e[s-3],params:e[s-2],hash:e[s-1]};break;case 13:this.$=o.prepareBlock(e[s-3],e[s-2],e[s-1],e[s],!1,this._$);break;case 14:this.$=o.prepareBlock(e[s-3],e[s-2],e[s-1],e[s],!0,this._$);break;case 15:this.$={open:e[s-5],path:e[s-4],params:e[s-3],hash:e[s-2],blockParams:e[s-1],strip:o.stripFlags(e[s-5],e[s])};break;case 16:this.$={path:e[s-4],params:e[s-3],hash:e[s-2],blockParams:e[s-1],strip:o.stripFlags(e[s-5],e[s])};break;case 17:this.$={path:e[s-4],params:e[s-3],hash:e[s-2],blockParams:e[s-1],strip:o.stripFlags(e[s-5],e[s])};break;case 18:this.$={strip:o.stripFlags(e[s-1],e[s-1]),program:e[s]};break;case 19:var d=o.prepareBlock(e[s-2],e[s-1],e[s],e[s],!1,this._$),i=o.prepareProgram([d],e[s-1].loc);i.chained=!0,this.$={strip:e[s-2].strip,program:i,chain:!0};break;case 20:this.$=e[s];break;case 21:this.$={path:e[s-1],strip:o.stripFlags(e[s-2],e[s])};break;case 22:this.$=o.prepareMustache(e[s-3],e[s-2],e[s-1],e[s-4],o.stripFlags(e[s-4],e[s]),this._$);break;case 23:this.$=o.prepareMustache(e[s-3],e[s-2],e[s-1],e[s-4],o.stripFlags(e[s-4],e[s]),this._$);break;case 24:this.$={type:"PartialStatement",name:e[s-3],params:e[s-2],hash:e[s-1],indent:"",strip:o.stripFlags(e[s-4],e[s]),loc:o.locInfo(this._$)};break;case 25:this.$=o.preparePartialBlock(e[s-2],e[s-1],e[s],this._$);break;case 26:this.$={path:e[s-3],params:e[s-2],hash:e[s-1],strip:o.stripFlags(e[s-4],e[s])};break;case 27:this.$=e[s];break;case 28:this.$=e[s];break;case 29:this.$={type:"SubExpression",path:e[s-3],params:e[s-2],hash:e[s-1],loc:o.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:e[s],loc:o.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:o.id(e[s-2]),value:e[s],loc:o.locInfo(this._$)};break;case 32:this.$=o.id(e[s-1]);break;case 33:this.$=e[s];break;case 34:this.$=e[s];break;case 35:this.$={type:"StringLiteral",value:e[s],original:e[s],loc:o.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:+e[s],original:+e[s],loc:o.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===e[s],original:"true"===e[s],loc:o.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:o.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:o.locInfo(this._$)};break;case 40:this.$=e[s];break;case 41:this.$=e[s];break;case 42:this.$=o.preparePath(!0,e[s],this._$);break;case 43:this.$=o.preparePath(!1,e[s],this._$);break;case 44:e[s-2].push({part:o.id(e[s]),original:e[s],separator:e[s-1]}),this.$=e[s-2];break;case 45:this.$=[{part:o.id(e[s]),original:e[s]}];break;case 46:this.$=[];break;case 47:e[s-1].push(e[s]);break;case 48:this.$=[e[s]];break;case 49:e[s-1].push(e[s]);break;case 50:this.$=[];break;case 51:e[s-1].push(e[s]);break;case 58:this.$=[];break;case 59:e[s-1].push(e[s]);break;case 64:this.$=[];break;case 65:e[s-1].push(e[s]);break;case 70:this.$=[];break;case 71:e[s-1].push(e[s]);break;case 78:this.$=[];break;case 79:e[s-1].push(e[s]);break;case 82:this.$=[];break;case 83:e[s-1].push(e[s]);break;case 86:this.$=[];break;case 87:e[s-1].push(e[s]);break;case 90:this.$=[];break;case 91:e[s-1].push(e[s]);break;case 94:this.$=[];break;case 95:e[s-1].push(e[s]);break;case 98:this.$=[e[s]];break;case 99:e[s-1].push(e[s]);break;case 100:this.$=[e[s]];break;case 101:e[s-1].push(e[s]);}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{13:40,15:[1,20],17:39},{20:42,56:41,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:45,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:48,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:42,56:49,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:50,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,51]},{72:[1,35],86:52},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:53,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:54,38:56,39:[1,58],43:57,44:[1,59],45:55,47:[2,54]},{28:60,43:61,44:[1,59],47:[2,56]},{13:63,15:[1,20],18:[1,62]},{15:[2,48],18:[2,48]},{33:[2,86],57:64,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:65,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:66,47:[1,67]},{30:68,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:69,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:70,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:71,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:75,33:[2,80],50:72,63:73,64:76,65:[1,44],69:74,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,80]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,51]},{20:75,53:81,54:[2,84],63:82,64:76,65:[1,44],69:83,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:84,47:[1,67]},{47:[2,55]},{4:85,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:86,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:87,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:88,47:[1,67]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:75,33:[2,88],58:89,63:90,64:76,65:[1,44],69:91,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:92,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:93,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,31:94,33:[2,60],63:95,64:76,65:[1,44],69:96,70:77,71:78,72:[1,79],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,66],36:97,63:98,64:76,65:[1,44],69:99,70:77,71:78,72:[1,79],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,22:100,23:[2,52],63:101,64:76,65:[1,44],69:102,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,92],62:103,63:104,64:76,65:[1,44],69:105,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,106]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:107,72:[1,108],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,109],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,110]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:56,39:[1,58],43:57,44:[1,59],45:112,46:111,47:[2,76]},{33:[2,70],40:113,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,114]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:75,63:116,64:76,65:[1,44],67:115,68:[2,96],69:117,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,118]},{32:119,33:[2,62],74:120,75:[1,121]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:122,74:123,75:[1,121]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,124]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,125]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,109]},{20:75,63:126,64:76,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:75,33:[2,72],41:127,63:128,64:76,65:[1,44],69:129,70:77,71:78,72:[1,79],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,130]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,131]},{33:[2,63]},{72:[1,133],76:132},{33:[1,134]},{33:[2,69]},{15:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:135,74:136,75:[1,121]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,138],77:[1,137]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,139]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],55:[2,55],57:[2,20],61:[2,57],74:[2,81],83:[2,85],87:[2,18],91:[2,89],102:[2,53],105:[2,93],111:[2,19],112:[2,77],117:[2,97],120:[2,63],123:[2,69],124:[2,12],136:[2,75],137:[2,32]},parseError:function(e){throw new Error(e)},parse:function(_){function a(){var e;return e=y.lexer.lex()||1,"number"!=typeof e&&(e=y.symbols_[e]||e),e}var y=this,c=[0],b=[null],E=[],T=this.table,g="",S=0,C=0,A=0;this.lexer.setInput(_),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var P=this.lexer.yylloc;E.push(P);var I=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var m={},w,L,N,O,M,D,B,R,z;;){if(N=c[c.length-1],this.defaultActions[N]?O=this.defaultActions[N]:(null!==w&&"undefined"!=typeof w||(w=a()),O=T[N]&&T[N][w]),"undefined"==typeof O||!O.length||!O[0]){var F="";if(!A){for(D in z=[],T[N])this.terminals_[D]&&2<D&&z.push("'"+this.terminals_[D]+"'");F=this.lexer.showPosition?"Parse error on line "+(S+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+z.join(", ")+", got '"+(this.terminals_[w]||w)+"'":"Parse error on line "+(S+1)+": Unexpected "+(1==w?"end of input":"'"+(this.terminals_[w]||w)+"'"),this.parseError(F,{text:this.lexer.match,token:this.terminals_[w]||w,line:this.lexer.yylineno,loc:P,expected:z})}}if(O[0]instanceof Array&&1<O.length)throw new Error("Parse Error: multiple actions possible at state: "+N+", token: "+w);switch(O[0]){case 1:c.push(w),b.push(this.lexer.yytext),E.push(this.lexer.yylloc),c.push(O[1]),w=null,L?(w=L,L=null):(C=this.lexer.yyleng,g=this.lexer.yytext,S=this.lexer.yylineno,P=this.lexer.yylloc,0<A&&A--);break;case 2:if(B=this.productions_[O[1]][1],m.$=b[b.length-B],m._$={first_line:E[E.length-(B||1)].first_line,last_line:E[E.length-1].last_line,first_column:E[E.length-(B||1)].first_column,last_column:E[E.length-1].last_column},I&&(m._$.range=[E[E.length-(B||1)].range[0],E[E.length-1].range[1]]),M=this.performAction.call(m,g,C,S,this.yy,O[1],b,E),"undefined"!=typeof M)return M;B&&(c=c.slice(0,2*(-1*B)),b=b.slice(0,-1*B),E=E.slice(0,-1*B)),c.push(this.productions_[O[1]][0]),b.push(m.$),E.push(m._$),R=T[c[c.length-2]][c[c.length-1]],c.push(R);break;case 3:return!0;}}return!0}},n=function(){var e={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e;var t=e.match(/(?:\r\n?|\n).*/g);return t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(t){var n=t.length,a=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-n-1),this.offset-=n;var o=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),a.length-1&&(this.yylineno-=a.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:a?(a.length===o.length?this.yylloc.first_column:0)+o[o.length-a.length].length-a[0].length:this.yylloc.first_column-n},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-n]),this},more:function(){return this._more=!0,this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(20<e.length?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return 20>e.length&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(20<e.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var t,n,o,r,i;this._more||(this.yytext="",this.match="");for(var s=this._currentRules(),l=0;l<s.length&&(o=this._input.match(this.rules[s[l]]),!o||n&&!(o[0].length>n[0].length)||(n=o,r=l,this.options.flex));l++);return n?(i=n[0].match(/(?:\r\n?|\n).*/g),i&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-i[i.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+n[0].length},this.yytext+=n[0],this.match+=n[0],this.matches=n,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(n[0].length),this.matched+=n[0],t=this.performAction.call(this,this.yy,this,s[r],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),t?t:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return"undefined"==typeof e?this.lex():e},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e)}};return e.options={},e.performAction=function(t,n,a){function o(e,t){return n.yytext=n.yytext.substr(e,n.yyleng-t)}switch(a){case 0:if("\\\\"===n.yytext.slice(-2)?(o(0,1),this.begin("mu")):"\\"===n.yytext.slice(-1)?(o(0,1),this.begin("emu")):this.begin("mu"),n.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),"raw"===this.conditionStack[this.conditionStack.length-1]?15:(n.yytext=n.yytext.substr(5,n.yyleng-9),"END_RAW_BLOCK");case 5:return 15;case 6:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:return this.popState(),44;case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(n.yytext),this.popState(),this.begin("com");break;case 22:return this.popState(),14;case 23:return 48;case 24:return 73;case 25:return 72;case 26:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return n.yytext=o(1,2).replace(/\\"/g,"\""),80;case 32:return n.yytext=o(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:return 82;case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return n.yytext=n.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5;}},e.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^\/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]*?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],e.conditions={mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}},e}();return t.lexer=n,e.prototype=t,t.Parser=e,new e}();t["default"]=n,e.exports=t["default"]},function(t,n,a){"use strict";function o(){var e=0>=arguments.length||void 0===arguments[0]?{}:arguments[0];this.options=e}function r(t,n,a){void 0===n&&(n=t.length);var o=t[n-1],r=t[n-2];return o?"ContentStatement"===o.type?(r||!a?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(o.original):void 0:a}function e(t,n,a){void 0===n&&(n=-1);var o=t[n+1],r=t[n+2];return o?"ContentStatement"===o.type?(r||!a?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(o.original):void 0:a}function s(t,n,a){var o=t[null==n?0:n+1];if(o&&"ContentStatement"===o.type&&(a||!o.rightStripped)){var r=o.value;o.value=o.value.replace(a?/^\s+/:/^[ \t]*\r?\n?/,""),o.rightStripped=o.value!==r}}function u(t,n,a){var o=t[null==n?t.length-1:n-1];if(o&&"ContentStatement"===o.type&&(a||!o.leftStripped)){var r=o.value;return o.value=o.value.replace(a?/\s+$/:/[ \t]+$/,""),o.leftStripped=o.value!==r,o.leftStripped}}var d=a(1)["default"];n.__esModule=!0;var i=a(39),l=d(i);o.prototype=new l["default"],o.prototype.Program=function(t){var a=!this.options.ignoreStandalone,f=!this.isRootSeen;this.isRootSeen=!0;for(var c=t.body,d=0,h=c.length;d<h;d++){var g=c[d],_=this.accept(g);if(_){var l=r(c,d,f),m=e(c,d,f),n=_.openStandalone&&l,o=_.closeStandalone&&m,p=_.inlineStandalone&&l&&m;_.close&&s(c,d,!0),_.open&&u(c,d,!0),a&&p&&(s(c,d),u(c,d)&&"PartialStatement"===g.type&&(g.indent=/([ \t]+$)/.exec(c[d-1].original)[1])),a&&n&&(s((g.program||g.inverse).body),u(c,d)),a&&o&&(s(c,d),u((g.inverse||g.program).body))}}return t},o.prototype.BlockStatement=o.prototype.DecoratorBlock=o.prototype.PartialBlockStatement=function(t){this.accept(t.program),this.accept(t.inverse);var n=t.program||t.inverse,a=t.program&&t.inverse,o=a,l=a;if(a&&a.chained)for(o=a.body[0].program;l.chained;)l=l.body[l.body.length-1].program;var p={open:t.openStrip.open,close:t.closeStrip.close,openStandalone:e(n.body),closeStandalone:r((o||n).body)};if(t.openStrip.close&&s(n.body,null,!0),a){var c=t.inverseStrip;c.open&&u(n.body,null,!0),c.close&&s(o.body,null,!0),t.closeStrip.open&&u(l.body,null,!0),!this.options.ignoreStandalone&&r(n.body)&&e(o.body)&&(u(n.body),s(o.body))}else t.closeStrip.open&&u(n.body,null,!0);return p},o.prototype.Decorator=o.prototype.MustacheStatement=function(e){return e.strip},o.prototype.PartialStatement=o.prototype.CommentStatement=function(e){var t=e.strip||{};return{inlineStandalone:!0,open:t.open,close:t.close}},n["default"]=o,t.exports=n["default"]},function(t,n,a){"use strict";function o(){this.parents=[]}function r(e){this.acceptRequired(e,"path"),this.acceptArray(e.params),this.acceptKey(e,"hash")}function e(e){r.call(this,e),this.acceptKey(e,"program"),this.acceptKey(e,"inverse")}function s(e){this.acceptRequired(e,"name"),this.acceptArray(e.params),this.acceptKey(e,"hash")}var d=a(1)["default"];n.__esModule=!0;var l=a(6),i=d(l);o.prototype={constructor:o,mutating:!1,acceptKey:function(e,t){var n=this.accept(e[t]);if(this.mutating){if(n&&!o.prototype[n.type])throw new i["default"]("Unexpected node type \""+n.type+"\" found when accepting "+t+" on "+e.type);e[t]=n}},acceptRequired:function(e,t){if(this.acceptKey(e,t),!e[t])throw new i["default"](e.type+" requires "+t)},acceptArray:function(e){for(var t=0,n=e.length;t<n;t++)this.acceptKey(e,t),e[t]||(e.splice(t,1),t--,n--)},accept:function(e){if(e){if(!this[e.type])throw new i["default"]("Unknown type: "+e.type,e);this.current&&this.parents.unshift(this.current),this.current=e;var t=this[e.type](e);return this.current=this.parents.shift(),!this.mutating||t?t:!1===t?void 0:e}},Program:function(e){this.acceptArray(e.body)},MustacheStatement:r,Decorator:r,BlockStatement:e,DecoratorBlock:e,PartialStatement:s,PartialBlockStatement:function(e){s.call(this,e),this.acceptKey(e,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:r,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(e){this.acceptArray(e.pairs)},HashPair:function(e){this.acceptRequired(e,"value")}},n["default"]=o,t.exports=n["default"]},function(e,t,n){"use strict";function r(e,t){if(t=t.path?t.path.original:t,e.path.original!==t){var n={loc:e.path.loc};throw new s["default"](e.path.original+" doesn't match "+t,n)}}function a(t,n,a){a=this.locInfo(a);for(var o=t?"@":"",r=[],e=0,l="",p=0,u=n.length;p<u;p++){var i=n[p].part,m=n[p].original!==i;if(o+=(n[p].separator||"")+i,m||".."!==i&&"."!==i&&"this"!==i)r.push(i);else{if(0<r.length)throw new s["default"]("Invalid path: "+o,{loc:a});".."===i&&(e++,l+="../")}}return{type:"PathExpression",data:t,depth:e,parts:r,original:o,loc:a}}var i=n(1)["default"];t.__esModule=!0,t.SourceLocation=function(e,t){this.source=e,this.start={line:t.first_line,column:t.first_column},this.end={line:t.last_line,column:t.last_column}},t.id=function(e){return /^\[.*\]$/.test(e)?e.substr(1,e.length-2):e},t.stripFlags=function(e,t){return{open:"~"===e.charAt(2),close:"~"===t.charAt(t.length-3)}},t.stripComment=function(e){return e.replace(/^\{\{~?\!-?-?/,"").replace(/-?-?~?\}\}$/,"")},t.preparePath=a,t.prepareMustache=function(t,n,a,o,r,e){var s=o.charAt(3)||o.charAt(2),d=/\*/.test(o);return{type:d?"Decorator":"MustacheStatement",path:t,params:n,hash:a,escaped:"{"!==s&&"&"!==s,strip:r,loc:this.locInfo(e)}},t.prepareRawBlock=function(t,n,a,o){r(t,a),o=this.locInfo(o);var i={type:"Program",body:n,strip:{},loc:o};return{type:"BlockStatement",path:t.path,params:t.params,hash:t.hash,program:i,openStrip:{},inverseStrip:{},closeStrip:{},loc:o}},t.prepareBlock=function(t,n,a,o,e,d){o&&o.path&&r(t,o);var l=/\*/.test(t.open);n.blockParams=t.blockParams;var p,c;if(a){if(l)throw new s["default"]("Unexpected inverse block on decorator",a);a.chain&&(a.program.body[0].closeStrip=o.strip),c=a.strip,p=a.program}return e&&(e=p,p=n,n=e),{type:l?"DecoratorBlock":"BlockStatement",path:t.path,params:t.params,hash:t.hash,program:n,inverse:p,openStrip:t.strip,inverseStrip:c,closeStrip:o&&o.strip,loc:this.locInfo(d)}},t.prepareProgram=function(e,t){if(!t&&e.length){var n=e[0].loc,a=e[e.length-1].loc;n&&a&&(t={source:n.source,start:{line:n.start.line,column:n.start.column},end:{line:a.end.line,column:a.end.column}})}return{type:"Program",body:e,strip:{},loc:t}},t.preparePartialBlock=function(t,n,a,o){return r(t,a),{type:"PartialBlockStatement",name:t.path,params:t.params,hash:t.hash,program:n,openStrip:t.strip,closeStrip:a&&a.strip,loc:this.locInfo(o)}};var o=n(6),s=i(o)},function(t,a,r){"use strict";function s(){}function d(t,n,a){if(null==t||"string"!=typeof t&&"Program"!==t.type)throw new h["default"]("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+t);n=n||{},"data"in n||(n.data=!0),n.compat&&(n.useDepths=!0);var o=a.parse(t,n),r=new a.Compiler().compile(o,n);return new a.JavaScriptCompiler().compile(r,n)}function e(t,n,a){function o(){var o=a.parse(t,n),r=new a.Compiler().compile(o,n),e=new a.JavaScriptCompiler().compile(r,n,void 0,!0);return a.template(e)}function r(e,t){return i||(i=o()),i.call(this,e,t)}if(void 0===n&&(n={}),null==t||"string"!=typeof t&&"Program"!==t.type)throw new h["default"]("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+t);n=g.extend({},n),"data"in n||(n.data=!0),n.compat&&(n.useDepths=!0);var i=void 0;return r._setup=function(e){return i||(i=o()),i._setup(e)},r._child=function(t,n,a,r){return i||(i=o()),i._child(t,n,a,r)},r}function p(e,t){if(e===t)return!0;if(g.isArray(e)&&g.isArray(t)&&e.length===t.length){for(var n=0;n<e.length;n++)if(!p(e[n],t[n]))return!1;return!0}}function u(e){if(!e.path.parts){var t=e.path;e.path={type:"PathExpression",data:!1,depth:0,parts:[t.original+""],original:t.original+"",loc:t.loc}}}var c=r(1)["default"];a.__esModule=!0,a.Compiler=s,a.precompile=d,a.compile=e;var i=r(6),h=c(i),g=r(5),l=r(35),m=c(l),n=[].slice;s.prototype={compiler:s,equals:function(t){var n=this.opcodes.length;if(t.opcodes.length!==n)return!1;for(var a=0;a<n;a++){var o=this.opcodes[a],r=t.opcodes[a];if(o.opcode!==r.opcode||!p(o.args,r.args))return!1}n=this.children.length;for(var a=0;a<n;a++)if(!this.children[a].equals(t.children[a]))return!1;return!0},guid:0,compile:function(e,t){this.sourceNode=[],this.opcodes=[],this.children=[],this.options=t,this.stringParams=t.stringParams,this.trackIds=t.trackIds,t.blockParams=t.blockParams||[];var n=t.knownHelpers;if(t.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,if:!0,unless:!0,with:!0,log:!0,lookup:!0},n)for(var a in n)a in n&&(this.options.knownHelpers[a]=n[a]);return this.accept(e)},compileProgram:function(e){var t=new this.compiler,n=t.compile(e,this.options),a=this.guid++;return this.usePartial=this.usePartial||n.usePartial,this.children[a]=n,this.useDepths=this.useDepths||n.useDepths,a},accept:function(e){if(!this[e.type])throw new h["default"]("Unknown type: "+e.type,e);this.sourceNode.unshift(e);var t=this[e.type](e);return this.sourceNode.shift(),t},Program:function(e){this.options.blockParams.unshift(e.blockParams);for(var t=e.body,n=t.length,a=0;a<n;a++)this.accept(t[a]);return this.options.blockParams.shift(),this.isSimple=1===n,this.blockParams=e.blockParams?e.blockParams.length:0,this},BlockStatement:function(e){u(e);var t=e.program,n=e.inverse;t=t&&this.compileProgram(t),n=n&&this.compileProgram(n);var a=this.classifySexpr(e);"helper"===a?this.helperSexpr(e,t,n):"simple"===a?(this.simpleSexpr(e),this.opcode("pushProgram",t),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("blockValue",e.path.original)):(this.ambiguousSexpr(e,t,n),this.opcode("pushProgram",t),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function(e){var t=e.program&&this.compileProgram(e.program),n=this.setupFullMustacheParams(e,t,void 0),a=e.path;this.useDecorators=!0,this.opcode("registerDecorator",n.length,a.original)},PartialStatement:function(t){this.usePartial=!0;var n=t.program;n&&(n=this.compileProgram(t.program));var a=t.params;if(1<a.length)throw new h["default"]("Unsupported number of partial arguments: "+a.length,t);a.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):a.push({type:"PathExpression",parts:[],depth:0}));var o=t.name.original,r="SubExpression"===t.name.type;r&&this.accept(t.name),this.setupFullMustacheParams(t,n,void 0,!0);var e=t.indent||"";this.options.preventIndent&&e&&(this.opcode("appendContent",e),e=""),this.opcode("invokePartial",r,o,e),this.opcode("append")},PartialBlockStatement:function(e){this.PartialStatement(e)},MustacheStatement:function(e){this.SubExpression(e),e.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(e){this.DecoratorBlock(e)},ContentStatement:function(e){e.value&&this.opcode("appendContent",e.value)},CommentStatement:function(){},SubExpression:function(e){u(e);var t=this.classifySexpr(e);"simple"===t?this.simpleSexpr(e):"helper"===t?this.helperSexpr(e):this.ambiguousSexpr(e)},ambiguousSexpr:function(t,n,a){var o=t.path,r=o.parts[0];this.opcode("getContext",o.depth),this.opcode("pushProgram",n),this.opcode("pushProgram",a),o.strict=!0,this.accept(o),this.opcode("invokeAmbiguous",r,null!=n||null!=a)},simpleSexpr:function(e){var t=e.path;t.strict=!0,this.accept(t),this.opcode("resolvePossibleLambda")},helperSexpr:function(t,n,a){var o=this.setupFullMustacheParams(t,n,a),r=t.path,e=r.parts[0];if(this.options.knownHelpers[e])this.opcode("invokeKnownHelper",o.length,e);else{if(this.options.knownHelpersOnly)throw new h["default"]("You specified knownHelpersOnly, but used the unknown helper "+e,t);r.strict=!0,r.falsy=!0,this.accept(r),this.opcode("invokeHelper",o.length,r.original,m["default"].helpers.simpleId(r))}},PathExpression:function(e){this.addDepth(e.depth),this.opcode("getContext",e.depth);var t=e.parts[0],n=m["default"].helpers.scopedId(e),a=!e.depth&&!n&&this.blockParamIndex(t);a?this.opcode("lookupBlockParam",a,e.parts):t?e.data?(this.options.data=!0,this.opcode("lookupData",e.depth,e.parts,e.strict)):this.opcode("lookupOnContext",e.parts,e.falsy,e.strict,n):this.opcode("pushContext")},StringLiteral:function(e){this.opcode("pushString",e.value)},NumberLiteral:function(e){this.opcode("pushLiteral",e.value)},BooleanLiteral:function(e){this.opcode("pushLiteral",e.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(e){var t=e.pairs,n=0,a=t.length;for(this.opcode("pushHash");n<a;n++)this.pushParam(t[n].value);for(;n--;)this.opcode("assignToHash",t[n].key);this.opcode("popHash")},opcode:function(e){this.opcodes.push({opcode:e,args:n.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(e){e&&(this.useDepths=!0)},classifySexpr:function(t){var n=m["default"].helpers.simpleId(t.path),a=n&&!!this.blockParamIndex(t.path.parts[0]),o=!a&&m["default"].helpers.helperExpression(t),r=!a&&(o||n);if(r&&!o){var i=t.path.parts[0],s=this.options;s.knownHelpers[i]?o=!0:s.knownHelpersOnly&&(r=!1)}return o?"helper":r?"ambiguous":"simple"},pushParams:function(e){for(var t=0,n=e.length;t<n;t++)this.pushParam(e[t])},pushParam:function(e){var t=null==e.value?e.original||"":e.value;if(this.stringParams)t.replace&&(t=t.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),e.depth&&this.addDepth(e.depth),this.opcode("getContext",e.depth||0),this.opcode("pushStringParam",t,e.type),"SubExpression"===e.type&&this.accept(e);else{if(this.trackIds){var n;if(!e.parts||m["default"].helpers.scopedId(e)||e.depth||(n=this.blockParamIndex(e.parts[0])),n){var a=e.parts.slice(1).join(".");this.opcode("pushId","BlockParam",n,a)}else t=e.original||t,t.replace&&(t=t.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",e.type,t)}this.accept(e)}},setupFullMustacheParams:function(t,n,a,o){var r=t.params;return this.pushParams(r),this.opcode("pushProgram",n),this.opcode("pushProgram",a),t.hash?this.accept(t.hash):this.opcode("emptyHash",o),r},blockParamIndex:function(t){for(var n=0,a=this.options.blockParams.length;n<a;n++){var o=this.options.blockParams[n],r=o&&g.indexOf(o,t);if(o&&0<=r)return[n,r]}}}},function(t,n,a){"use strict";function o(e){this.value=e}function r(){}function s(t,n,a,o){var r=n.popStack(),i=0,s=a.length;for(t&&s--;i<s;i++)r=n.nameLookup(r,a[i],o);return t?[n.aliasable("container.strict"),"(",r,", ",n.quotedString(a[i]),")"]:r}var e=a(1)["default"];n.__esModule=!0;var d=a(4),p=a(6),u=e(p),i=a(5),c=a(43),l=e(c);r.prototype={nameLookup:function(e,t){return r.isValidJavaScriptVariableName(t)?[e,".",t]:[e,"[",JSON.stringify(t),"]"]},depthedLookup:function(e){return[this.aliasable("container.lookup"),"(depths, \"",e,"\")"]},compilerInfo:function(){var e=d.COMPILER_REVISION,t=d.REVISION_CHANGES[e];return[e,t]},appendToBuffer:function(e,t,n){return i.isArray(e)||(e=[e]),e=this.source.wrap(e,t),this.environment.isSimple?["return ",e,";"]:n?["buffer += ",e,";"]:(e.appendToBuffer=!0,e)},initializeBuffer:function(){return this.quotedString("")},compile:function(t,a,r,s){this.environment=t,this.options=a,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!s,this.name=this.environment.name,this.isChild=!!r,this.context=r||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(t,a),this.useDepths=this.useDepths||t.useDepths||t.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||t.useBlockParams;var d=t.opcodes,e,p,c,_;for(c=0,_=d.length;c<_;c++)e=d[c],this.source.currentLocation=e.loc,p=p||e.loc,this[e.opcode].apply(this,e.args);if(this.source.currentLocation=p,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new u["default"]("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend("var decorators = container.decorators;\n"),this.decorators.push("return fn;"),s?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"),this.decorators.push("}\n"),this.decorators=this.decorators.merge()));var y=this.createFunctionContext(s);if(this.isChild)return y;var b={compiler:this.compilerInfo(),main:y};this.decorators&&(b.main_d=this.decorators,b.useDecorators=!0);var x=this.context,m=x.programs,n=x.decorators;for(c=0,_=m.length;c<_;c++)m[c]&&(b[c]=m[c],n[c]&&(b[c+"_d"]=n[c],b.useDecorators=!0));return this.environment.usePartial&&(b.usePartial=!0),this.options.data&&(b.useData=!0),this.useDepths&&(b.useDepths=!0),this.useBlockParams&&(b.useBlockParams=!0),this.options.compat&&(b.compat=!0),s?b.compilerOptions=this.options:(b.compiler=JSON.stringify(b.compiler),this.source.currentLocation={start:{line:1,column:0}},b=this.objectLiteral(b),a.srcName?(b=b.toStringWithSourceMap({file:a.destName}),b.map=b.map&&b.map.toString()):b=b.toString()),b},preamble:function(){this.lastContext=0,this.source=new l["default"](this.options.srcName),this.decorators=new l["default"](this.options.srcName)},createFunctionContext:function(t){var n="",a=this.stackVars.concat(this.registers.list);0<a.length&&(n+=", "+a.join(", "));var o=0;for(var r in this.aliases){var e=this.aliases[r];this.aliases.hasOwnProperty(r)&&e.children&&1<e.referenceCount&&(n+=", alias"+ ++o+"="+r,e.children[0]="alias"+o)}var i=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&i.push("blockParams"),this.useDepths&&i.push("depths");var s=this.mergeSource(n);return t?(i.push(s),Function.apply(this,i)):this.source.wrap(["function(",i.join(","),") {\n  ",s,"}"])},mergeSource:function(t){var n=this.environment.isSimple,o=!this.forceBuffer,r,i,s,l;return this.source.each(function(e){e.appendToBuffer?(s?e.prepend("  + "):s=e,l=e):(s&&(i?s.prepend("buffer += "):r=!0,l.add(";"),s=l=void 0),i=!0,n||(o=!1))}),o?s?(s.prepend("return "),l.add(";")):i||this.source.push("return \"\";"):(t+=", buffer = "+(r?"":this.initializeBuffer()),s?(s.prepend("return buffer + "),l.add(";")):this.source.push("return buffer;")),t&&this.source.prepend("var "+t.substring(2)+(r?"":";\n")),this.source.merge()},blockValue:function(e){var t=this.aliasable("helpers.blockHelperMissing"),n=[this.contextName(0)];this.setupHelperArgs(e,0,n);var a=this.popStack();n.splice(1,0,a),this.push(this.source.functionCall(t,"call",n))},ambiguousBlockValue:function(){var e=this.aliasable("helpers.blockHelperMissing"),t=[this.contextName(0)];this.setupHelperArgs("",0,t,!0),this.flushInline();var n=this.topStack();t.splice(1,0,n),this.pushSource(["if (!",this.lastHelper,") { ",n," = ",this.source.functionCall(e,"call",t),"}"])},appendContent:function(e){this.pendingContent?e=this.pendingContent+e:this.pendingLocation=this.source.currentLocation,this.pendingContent=e},append:function(){if(this.isInline())this.replaceStack(function(e){return[" != null ? ",e," : \"\""]}),this.pushSource(this.appendToBuffer(this.popStack()));else{var e=this.popStack();this.pushSource(["if (",e," != null) { ",this.appendToBuffer(e,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(e){this.lastContext=e},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(t,n,a,o){var r=0;o||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(t[r++])),this.resolvePath("context",t,r,n,a)},lookupBlockParam:function(e,t){this.useBlockParams=!0,this.push(["blockParams[",e[0],"][",e[1],"]"]),this.resolvePath("context",t,1)},lookupData:function(e,t,n){e?this.pushStackLiteral("container.data(data, "+e+")"):this.pushStackLiteral("data"),this.resolvePath("data",t,0,!0,n)},resolvePath:function(t,n,a,o,r){var i=this;if(this.options.strict||this.options.assumeObjects)return void this.push(s(this.options.strict&&r,this,n,t));for(var e=n.length;a<e;a++)this.replaceStack(function(r){var e=i.nameLookup(r,n[a],t);return o?[" && ",e]:[" != null ? ",e," : ",r]})},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(e,t){this.pushContext(),this.pushString(t),"SubExpression"!==t&&("string"==typeof e?this.pushString(e):this.pushStackLiteral(e))},emptyHash:function(e){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(e?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[],ids:[]}},popHash:function(){var e=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(e.ids)),this.stringParams&&(this.push(this.objectLiteral(e.contexts)),this.push(this.objectLiteral(e.types))),this.push(this.objectLiteral(e.values))},pushString:function(e){this.pushStackLiteral(this.quotedString(e))},pushLiteral:function(e){this.pushStackLiteral(e)},pushProgram:function(e){null==e?this.pushStackLiteral(null):this.pushStackLiteral(this.programExpression(e))},registerDecorator:function(e,t){var n=this.nameLookup("decorators",t,"decorator"),a=this.setupHelperArgs(t,e);this.decorators.push(["fn = ",this.decorators.functionCall(n,"",["fn","props","container",a])," || fn;"])},invokeHelper:function(t,n,a){var o=this.popStack(),r=this.setupHelper(t,n),e=a?[r.name," || "]:"",i=["("].concat(e,o);this.options.strict||i.push(" || ",this.aliasable("helpers.helperMissing")),i.push(")"),this.push(this.source.functionCall(i,"call",r.callParams))},invokeKnownHelper:function(e,t){var n=this.setupHelper(e,t);this.push(this.source.functionCall(n.name,"call",n.callParams))},invokeAmbiguous:function(t,n){this.useRegister("helper");var a=this.popStack();this.emptyHash();var o=this.setupHelper(0,t,n),r=this.lastHelper=this.nameLookup("helpers",t,"helper"),e=["(","(helper = ",r," || ",a,")"];this.options.strict||(e[0]="(helper = ",e.push(" != null ? helper : ",this.aliasable("helpers.helperMissing"))),this.push(["(",e,o.paramsInit?["),(",o.paramsInit]:[],"),","(typeof helper === ",this.aliasable("\"function\"")," ? ",this.source.functionCall("helper","call",o.callParams)," : helper))"])},invokePartial:function(t,n,a){var o=[],r=this.setupParams(n,1,o);t&&(n=this.popStack(),delete r.name),a&&(r.indent=JSON.stringify(a)),r.helpers="helpers",r.partials="partials",r.decorators="container.decorators",t?o.unshift(n):o.unshift(this.nameLookup("partials",n,"partial")),this.options.compat&&(r.depths="depths"),r=this.objectLiteral(r),o.push(r),this.push(this.source.functionCall("container.invokePartial","",o))},assignToHash:function(t){var n=this.popStack(),a,o,r;this.trackIds&&(r=this.popStack()),this.stringParams&&(o=this.popStack(),a=this.popStack());var i=this.hash;a&&(i.contexts[t]=a),o&&(i.types[t]=o),r&&(i.ids[t]=r),i.values[t]=n},pushId:function(e,t,n){"BlockParam"===e?this.pushStackLiteral("blockParams["+t[0]+"].path["+t[1]+"]"+(n?" + "+JSON.stringify("."+n):"")):"PathExpression"===e?this.pushString(t):"SubExpression"===e?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:r,compileChildren:function(t,n){for(var a=t.children,o=void 0,r=void 0,s=0,l=a.length;s<l;s++){o=a[s],r=new this.compiler;var p=this.matchExistingProgram(o);if(null==p){this.context.programs.push("");var c=this.context.programs.length;o.index=c,o.name="program"+c,this.context.programs[c]=r.compile(o,n,this.context,!this.precompile),this.context.decorators[c]=r.decorators,this.context.environments[c]=o,this.useDepths=this.useDepths||r.useDepths,this.useBlockParams=this.useBlockParams||r.useBlockParams,o.useDepths=this.useDepths,o.useBlockParams=this.useBlockParams}else o.index=p.index,o.name="program"+p.index,this.useDepths=this.useDepths||p.useDepths,this.useBlockParams=this.useBlockParams||p.useBlockParams}},matchExistingProgram:function(e){for(var t=0,n=this.context.environments.length,a;t<n;t++)if(a=this.context.environments[t],a&&a.equals(e))return a},programExpression:function(e){var t=this.environment.children[e],n=[t.index,"data",t.blockParams];return(this.useBlockParams||this.useDepths)&&n.push("blockParams"),this.useDepths&&n.push("depths"),"container.program("+n.join(", ")+")"},useRegister:function(e){this.registers[e]||(this.registers[e]=!0,this.registers.list.push(e))},push:function(e){return e instanceof o||(e=this.source.wrap(e)),this.inlineStack.push(e),e},pushStackLiteral:function(e){this.push(new o(e))},pushSource:function(e){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),e&&this.source.push(e)},replaceStack:function(t){var n=["("],a,r,s;if(!this.isInline())throw new u["default"]("replaceStack on non-inline");var d=this.popStack(!0);if(d instanceof o)a=[d.value],n=["(",a],s=!0;else{r=!0;var l=this.incrStack();n=["((",this.push(l)," = ",d,")"],a=this.topStack()}var p=t.call(this,a);s||this.popStack(),r&&this.stackSlot--,this.push(n.concat(p,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var t=this.inlineStack;this.inlineStack=[];for(var n=0,a=t.length,r;n<a;n++)if(r=t[n],r instanceof o)this.compileStack.push(r);else{var i=this.incrStack();this.pushSource([i," = ",r,";"]),this.compileStack.push(i)}},isInline:function(){return this.inlineStack.length},popStack:function(e){var t=this.isInline(),n=(t?this.inlineStack:this.compileStack).pop();if(!e&&n instanceof o)return n.value;if(!t){if(!this.stackSlot)throw new u["default"]("Invalid stack pop");this.stackSlot--}return n},topStack:function(){var e=this.isInline()?this.inlineStack:this.compileStack,t=e[e.length-1];return t instanceof o?t.value:t},contextName:function(e){return this.useDepths&&e?"depths["+e+"]":"depth"+e},quotedString:function(e){return this.source.quotedString(e)},objectLiteral:function(e){return this.source.objectLiteral(e)},aliasable:function(e){var t=this.aliases[e];return t?(t.referenceCount++,t):(t=this.aliases[e]=this.source.wrap(e),t.aliasable=!0,t.referenceCount=1,t)},setupHelper:function(t,n,a){var o=[],r=this.setupHelperArgs(n,t,o,a),e=this.nameLookup("helpers",n,"helper"),i=this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : (container.nullContext || {})");return{params:o,paramsInit:r,name:e,callParams:[i].concat(o)}},setupParams:function(t,n,a){var o={},r=[],e=[],s=[],d=!a,p;d&&(a=[]),o.name=this.quotedString(t),o.hash=this.popStack(),this.trackIds&&(o.hashIds=this.popStack()),this.stringParams&&(o.hashTypes=this.popStack(),o.hashContexts=this.popStack());var u=this.popStack(),f=this.popStack();(f||u)&&(o.fn=f||"container.noop",o.inverse=u||"container.noop");for(var h=n;h--;)p=this.popStack(),a[h]=p,this.trackIds&&(s[h]=this.popStack()),this.stringParams&&(e[h]=this.popStack(),r[h]=this.popStack());return d&&(o.args=this.source.generateArray(a)),this.trackIds&&(o.ids=this.source.generateArray(s)),this.stringParams&&(o.types=this.source.generateArray(e),o.contexts=this.source.generateArray(r)),this.options.data&&(o.data="data"),this.useBlockParams&&(o.blockParams="blockParams"),o},setupHelperArgs:function(t,n,a,o){var r=this.setupParams(t,n,a);return r=this.objectLiteral(r),o?(this.useRegister("options"),a.push("options"),["options=",r]):a?(a.push(r),""):r}},function(){for(var e=["break","else","new","var","case","finally","return","void","catch","for","switch","while","continue","function","this","with","default","if","throw","delete","in","try","do","instanceof","typeof","abstract","enum","int","short","boolean","export","interface","static","byte","extends","long","super","char","final","native","synchronized","class","float","package","throws","const","goto","private","transient","debugger","implements","protected","volatile","double","import","public","let","yield","await","null","true","false"],t=r.RESERVED_WORDS={},n=0,a=e.length;n<a;n++)t[e[n]]=!0}(),r.isValidJavaScriptVariableName=function(e){return!r.RESERVED_WORDS[e]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(e)},n["default"]=r,t.exports=n["default"]},function(t,n,a){"use strict";function o(t,n,a){if(i.isArray(t)){for(var o=[],r=0,s=t.length;r<s;r++)o.push(n.wrap(t[r],a));return o}return"boolean"==typeof t||"number"==typeof t?t+"":t}function r(e){this.srcFile=e,this.source=[]}n.__esModule=!0;var i=a(5),e;try{}catch(e){}e||(e=function(e,t,n,a){this.src="",a&&this.add(a)},e.prototype={add:function(e){i.isArray(e)&&(e=e.join("")),this.src+=e},prepend:function(e){i.isArray(e)&&(e=e.join("")),this.src=e+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}}),r.prototype={isEmpty:function(){return!this.source.length},prepend:function(e,t){this.source.unshift(this.wrap(e,t))},push:function(e,t){this.source.push(this.wrap(e,t))},merge:function(){var e=this.empty();return this.each(function(t){e.add(["  ",t,"\n"])}),e},each:function(e){for(var t=0,n=this.source.length;t<n;t++)e(this.source[t])},empty:function(){var t=this.currentLocation||{start:{}};return new e(t.start.line,t.start.column,this.srcFile)},wrap:function(t){var n=1>=arguments.length||void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];return t instanceof e?t:(t=o(t,this,n),new e(n.start.line,n.start.column,this.srcFile,t))},functionCall:function(e,t,n){return n=this.generateList(n),this.wrap([e,t?"."+t+"(":"(",n,")"])},quotedString:function(e){return"\""+(e+"").replace(/\\/g,"\\\\").replace(/"/g,"\\\"").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+"\""},objectLiteral:function(t){var n=[];for(var a in t)if(t.hasOwnProperty(a)){var r=o(t[a],this);"undefined"!==r&&n.push([this.quotedString(a),":",r])}var e=this.generateList(n);return e.prepend("{"),e.add("}"),e},generateList:function(t){for(var n=this.empty(),a=0,r=t.length;a<r;a++)a&&n.add(","),n.add(o(t[a],this));return n},generateArray:function(e){var t=this.generateList(e);return t.prepend("["),t.add("]"),t}},n["default"]=r,t.exports=n["default"]}])}),!function(m){"use strict";function _(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||f.defaults,this.rules=y.normal,this.options.pedantic?this.rules=y.pedantic:this.options.gfm&&(this.options.tables?this.rules=y.tables:this.rules=y.gfm)}function a(n,e){if(this.options=e||f.defaults,this.links=n,this.rules=s.normal,this.renderer=this.options.renderer||new h,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.pedantic?this.rules=s.pedantic:this.options.gfm&&(this.options.breaks?this.rules=s.breaks:this.rules=s.gfm)}function h(t){this.options=t||f.defaults}function r(){}function b(t){this.tokens=[],this.token=null,this.options=t||f.defaults,this.options.renderer=this.options.renderer||new h,this.renderer=this.options.renderer,this.renderer.options=this.options}function p(n,e){return n.replace(e?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function u(t){return t.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,function(n,e){return"colon"===(e=e.toLowerCase())?":":"#"===e.charAt(0)?"x"===e.charAt(1)?i(parseInt(e.substring(2),16)):i(+e.substring(1)):""})}function e(a,t){return a=a.source||a,t=t||"",{replace:function(n,e){return e=(e=e.source||e).replace(/(^|[^\[])\^/g,"$1"),a=a.replace(n,e),this},getRegex:function(){return new RegExp(a,t)}}}function c(a,o){return n[" "+a]||(/^[^:]+:\/*[^/]*$/.test(a)?n[" "+a]=a+"/":n[" "+a]=x(a,"/",!0)),a=n[" "+a],"//"===o.slice(0,2)?a.replace(/:[\s\S]*/,":")+o:"/"===o.charAt(0)?a.replace(/(:\/*[^/]*)[\s\S]*/,"$1")+o:a+o}function t(){}function g(a){for(var e=1,o,i;e<arguments.length;e++)for(i in o=arguments[e])Object.prototype.hasOwnProperty.call(o,i)&&(a[i]=o[i]);return a}function v(a,e){var t=a.replace(/\|/g,function(a,e,t){for(var n=!1,o=e;0<=--o&&"\\"===t[o];)n=!n;return n?"|":" |"}).split(/ \|/),n=0;if(t.length>e)t.splice(e);else for(;t.length<e;)t.push("");for(;n<t.length;n++)t[n]=t[n].trim().replace(/\\\|/g,"|");return t}function x(a,e,t){if(0===a.length)return"";for(var n=0,o;n<a.length;)if(o=a.charAt(a.length-n-1),o!==e||t){if(o===e||!t)break;n++}else n++;return a.substr(0,a.length-n)}function f(a,d,c){if(null==a)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof a)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(a)+", string expected");if(c||"function"==typeof d){c||(c=d,d=null);var u=(d=g({},f.defaults,d||{})).highlight,e=0,l,h;try{l=_.lex(a,d)}catch(t){return c(t)}h=l.length;var m=function(n){if(n)return d.highlight=u,c(n);var a;try{a=b.parse(l,d)}catch(t){n=t}return d.highlight=u,n?c(n):c(null,a)};if(!u||3>u.length)return m();if(delete d.highlight,!h)return m();for(;e<l.length;e++)!function(a){"code"===a.type?u(a.text,a.lang,function(n,e){return n?m(n):null==e||e===a.text?--h||m():(a.text=e,a.escaped=!0,void(--h||m()))}):--h||m()}(l[e])}else try{return d&&(d=g({},f.defaults,d)),b.parse(_.lex(a,d),d)}catch(t){if(t.message+="\nPlease report this to https://github.com/markedjs/marked.",(d||f.defaults).silent)return"<p>An error occurred:</p><pre>"+p(t.message+"",!0)+"</pre>";throw t}}var i=String.fromCharCode,y={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:t,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,nptable:t,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=\\h*\\n)[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=\\h*\\n)[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:t,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading| {0,3}>|<\/?(?:tag)(?: +|\n|\/?>)|<(?:script|pre|style|!--))[^\n]+)*)/,text:/^[^\n]+/};y._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,y._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,y.def=e(y.def).replace("label",y._label).replace("title",y._title).getRegex(),y.bullet=/(?:[*+-]|\d+\.)/,y.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,y.item=e(y.item,"gm").replace(/bull/g,y.bullet).getRegex(),y.list=e(y.list).replace(/bull/g,y.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+y.def.source+")").getRegex(),y._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",y._comment=/<!--(?!-?>)[\s\S]*?-->/,y.html=e(y.html,"i").replace("comment",y._comment).replace("tag",y._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),y.paragraph=e(y.paragraph).replace("hr",y.hr).replace("heading",y.heading).replace("lheading",y.lheading).replace("tag",y._tag).getRegex(),y.blockquote=e(y.blockquote).replace("paragraph",y.paragraph).getRegex(),y.normal=g({},y),y.gfm=g({},y.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\n? *\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),y.gfm.paragraph=e(y.paragraph).replace("(?!","(?!"+y.gfm.fences.source.replace("\\1","\\2")+"|"+y.list.source.replace("\\1","\\3")+"|").getRegex(),y.tables=g({},y.gfm,{nptable:/^ *([^|\n ].*\|.*)\n *([-:]+ *\|[-| :]*)(?:\n((?:.*[^>\n ].*(?:\n|$))*)\n*|$)/,table:/^ *\|(.+)\n *\|?( *[-:]+[-| :]*)(?:\n((?: *[^>\n ].*(?:\n|$))*)\n*|$)/}),y.pedantic=g({},y.normal,{html:e("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",y._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/}),_.rules=y,_.lex=function(n,e){return new _(e).lex(n)},_.prototype.lex=function(t){return t=t.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(t,!0)},_.prototype.token=function(_,E){var t,k,T,w,S,C,A,P,I,L,N,O,M,D,B,j;for(_=_.replace(/^ +$/gm,"");_;)if((T=this.rules.newline.exec(_))&&(_=_.substring(T[0].length),1<T[0].length&&this.tokens.push({type:"space"})),T=this.rules.code.exec(_))_=_.substring(T[0].length),T=T[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?T:x(T,"\n")});else if(T=this.rules.fences.exec(_))_=_.substring(T[0].length),this.tokens.push({type:"code",lang:T[2],text:T[3]||""});else if(T=this.rules.heading.exec(_))_=_.substring(T[0].length),this.tokens.push({type:"heading",depth:T[1].length,text:T[2]});else if(E&&(T=this.rules.nptable.exec(_))&&(C={type:"table",header:v(T[1].replace(/^ *| *\| *$/g,"")),align:T[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:T[3]?T[3].replace(/\n$/,"").split("\n"):[]}).header.length===C.align.length){for(_=_.substring(T[0].length),N=0;N<C.align.length;N++)C.align[N]=/^ *-+: *$/.test(C.align[N])?"right":/^ *:-+: *$/.test(C.align[N])?"center":/^ *:-+ *$/.test(C.align[N])?"left":null;for(N=0;N<C.cells.length;N++)C.cells[N]=v(C.cells[N],C.header.length);this.tokens.push(C)}else if(T=this.rules.hr.exec(_))_=_.substring(T[0].length),this.tokens.push({type:"hr"});else if(T=this.rules.blockquote.exec(_))_=_.substring(T[0].length),this.tokens.push({type:"blockquote_start"}),T=T[0].replace(/^ *> ?/gm,""),this.token(T,E),this.tokens.push({type:"blockquote_end"});else if(T=this.rules.list.exec(_)){for(_=_.substring(T[0].length),A={type:"list_start",ordered:D=1<(w=T[2]).length,start:D?+w:"",loose:!1},this.tokens.push(A),t=!(P=[]),M=(T=T[0].match(this.rules.item)).length,N=0;N<M;N++)L=(C=T[N]).length,~(C=C.replace(/^ *([*+-]|\d+\.) +/,"")).indexOf("\n ")&&(L-=C.length,C=this.options.pedantic?C.replace(/^ {1,4}/gm,""):C.replace(new RegExp("^ {1,"+L+"}","gm"),"")),this.options.smartLists&&N!==M-1&&(w===(S=y.bullet.exec(T[N+1])[0])||1<w.length&&1<S.length||(_=T.slice(N+1).join("\n")+_,N=M-1)),k=t||/\n\n(?!\s*$)/.test(C),N!==M-1&&(t="\n"===C.charAt(C.length-1),k||(k=t)),k&&(A.loose=!0),j=void 0,(B=/^\[[ xX]\] /.test(C))&&(j=" "!==C[1],C=C.replace(/^\[[ xX]\] +/,"")),I={type:"list_item_start",task:B,checked:j,loose:k},P.push(I),this.tokens.push(I),this.token(C,!1),this.tokens.push({type:"list_item_end"});if(A.loose)for(M=P.length,N=0;N<M;N++)P[N].loose=!0;this.tokens.push({type:"list_end"})}else if(T=this.rules.html.exec(_))_=_.substring(T[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===T[1]||"script"===T[1]||"style"===T[1]),text:T[0]});else if(E&&(T=this.rules.def.exec(_)))_=_.substring(T[0].length),T[3]&&(T[3]=T[3].substring(1,T[3].length-1)),O=T[1].toLowerCase().replace(/\s+/g," "),this.tokens.links[O]||(this.tokens.links[O]={href:T[2],title:T[3]});else if(E&&(T=this.rules.table.exec(_))&&(C={type:"table",header:v(T[1].replace(/^ *| *\| *$/g,"")),align:T[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:T[3]?T[3].replace(/(?: *\| *)?\n$/,"").split("\n"):[]}).header.length===C.align.length){for(_=_.substring(T[0].length),N=0;N<C.align.length;N++)C.align[N]=/^ *-+: *$/.test(C.align[N])?"right":/^ *:-+: *$/.test(C.align[N])?"center":/^ *:-+ *$/.test(C.align[N])?"left":null;for(N=0;N<C.cells.length;N++)C.cells[N]=v(C.cells[N].replace(/^ *\| *| *\| *$/g,""),C.header.length);this.tokens.push(C)}else if(T=this.rules.lheading.exec(_))_=_.substring(T[0].length),this.tokens.push({type:"heading",depth:"="===T[2]?1:2,text:T[1]});else if(E&&(T=this.rules.paragraph.exec(_)))_=_.substring(T[0].length),this.tokens.push({type:"paragraph",text:"\n"===T[1].charAt(T[1].length-1)?T[1].slice(0,-1):T[1]});else if(T=this.rules.text.exec(_))_=_.substring(T[0].length),this.tokens.push({type:"text",text:T[0]});else if(_)throw new Error("Infinite loop on byte: "+_.charCodeAt(0));return this.tokens};var s={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:t,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(href(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,strong:/^__([^\s])__(?!_)|^\*\*([^\s])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,em:/^_([^\s_])_(?!_)|^\*([^\s*"<\[])\*(?!\*)|^_([^\s][\s\S]*?[^\s_])_(?!_)|^_([^\s_][\s\S]*?[^\s])_(?!_)|^\*([^\s"<\[][\s\S]*?[^\s*])\*(?!\*)|^\*([^\s*"<\[][\s\S]*?[^\s])\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`]?)\s*\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:t,text:/^[\s\S]+?(?=[\\<!\[`*]|\b_| {2,}\n|$)/};s._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,s._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,s._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,s.autolink=e(s.autolink).replace("scheme",s._scheme).replace("email",s._email).getRegex(),s._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,s.tag=e(s.tag).replace("comment",y._comment).replace("attribute",s._attribute).getRegex(),s._label=/(?:\[[^\[\]]*\]|\\[\[\]]?|`[^`]*`|[^\[\]\\])*?/,s._href=/\s*(<(?:\\[<>]?|[^\s<>\\])*>|(?:\\[()]?|\([^\s\x00-\x1f\\]*\)|[^\s\x00-\x1f()\\])*?)/,s._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,s.link=e(s.link).replace("label",s._label).replace("href",s._href).replace("title",s._title).getRegex(),s.reflink=e(s.reflink).replace("label",s._label).getRegex(),s.normal=g({},s),s.pedantic=g({},s.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,link:e(/^!?\[(label)\]\((.*?)\)/).replace("label",s._label).getRegex(),reflink:e(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",s._label).getRegex()}),s.gfm=g({},s.normal,{escape:e(s.escape).replace("])","~|])").getRegex(),url:e(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("email",s._email).getRegex(),_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~+(?=\S)([\s\S]*?\S)~+/,text:e(s.text).replace("]|","~]|").replace("|","|https?://|ftp://|www\\.|[a-zA-Z0-9.!#$%&'*+/=?^_`{\\|}~-]+@|").getRegex()}),s.breaks=g({},s.gfm,{br:e(s.br).replace("{2,}","*").getRegex(),text:e(s.gfm.text).replace("{2,}","*").getRegex()}),a.rules=s,a.output=function(o,e,t){return new a(e,t).output(o)},a.prototype.output=function(d){for(var c="",u,f,h,g,m,_;d;)if(m=this.rules.escape.exec(d))d=d.substring(m[0].length),c+=m[1];else if(m=this.rules.autolink.exec(d))d=d.substring(m[0].length),h="@"===m[2]?"mailto:"+(f=p(this.mangle(m[1]))):f=p(m[1]),c+=this.renderer.link(h,null,f);else if(!(this.inLink||!(m=this.rules.url.exec(d)))){for(;_=m[0],m[0]=this.rules._backpedal.exec(m[0])[0],_!==m[0];);d=d.substring(m[0].length),"@"===m[2]?h="mailto:"+(f=p(m[0])):(f=p(m[0]),h="www."===m[1]?"http://"+f:f),c+=this.renderer.link(h,null,f)}else if(m=this.rules.tag.exec(d))!this.inLink&&/^<a /i.test(m[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(m[0])&&(this.inLink=!1),d=d.substring(m[0].length),c+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(m[0]):p(m[0]):m[0];else if(m=this.rules.link.exec(d))d=d.substring(m[0].length),this.inLink=!0,h=m[2],this.options.pedantic?(u=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(h))?(h=u[1],g=u[3]):g="":g=m[3]?m[3].slice(1,-1):"",h=h.trim().replace(/^<([\s\S]*)>$/,"$1"),c+=this.outputLink(m,{href:a.escapes(h),title:a.escapes(g)}),this.inLink=!1;else if((m=this.rules.reflink.exec(d))||(m=this.rules.nolink.exec(d))){if(d=d.substring(m[0].length),u=(m[2]||m[1]).replace(/\s+/g," "),!(u=this.links[u.toLowerCase()])||!u.href){c+=m[0].charAt(0),d=m[0].substring(1)+d;continue}this.inLink=!0,c+=this.outputLink(m,u),this.inLink=!1}else if(m=this.rules.strong.exec(d))d=d.substring(m[0].length),c+=this.renderer.strong(this.output(m[4]||m[3]||m[2]||m[1]));else if(m=this.rules.em.exec(d))d=d.substring(m[0].length),c+=this.renderer.em(this.output(m[6]||m[5]||m[4]||m[3]||m[2]||m[1]));else if(m=this.rules.code.exec(d))d=d.substring(m[0].length),c+=this.renderer.codespan(p(m[2].trim(),!0));else if(m=this.rules.br.exec(d))d=d.substring(m[0].length),c+=this.renderer.br();else if(m=this.rules.del.exec(d))d=d.substring(m[0].length),c+=this.renderer.del(this.output(m[1]));else if(m=this.rules.text.exec(d))d=d.substring(m[0].length),c+=this.renderer.text(p(this.smartypants(m[0])));else if(d)throw new Error("Infinite loop on byte: "+d.charCodeAt(0));return c},a.escapes=function(t){return t?t.replace(a.rules._escapes,"$1"):t},a.prototype.outputLink=function(a,e){var t=e.href,n=e.title?p(e.title):null;return"!"===a[0].charAt(0)?this.renderer.image(t,n,p(a[1])):this.renderer.link(t,n,this.output(a[1]))},a.prototype.smartypants=function(t){return this.options.smartypants?t.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026"):t},a.prototype.mangle=function(a){if(!this.options.mangle)return a;for(var e="",o=a.length,r=0,i;r<o;r++)i=a.charCodeAt(r),.5<Math.random()&&(i="x"+i.toString(16)),e+="&#"+i+";";return e},h.prototype.code=function(a,o,t){if(this.options.highlight){var i=this.options.highlight(a,o);null!=i&&i!==a&&(t=!0,a=i)}return o?"<pre><code class=\""+this.options.langPrefix+p(o,!0)+"\">"+(t?a:p(a,!0))+"</code></pre>\n":"<pre><code>"+(t?a:p(a,!0))+"</code></pre>"},h.prototype.blockquote=function(t){return"<blockquote>\n"+t+"</blockquote>\n"},h.prototype.html=function(t){return t},h.prototype.heading=function(a,e,t){return this.options.headerIds?"<h"+e+" id=\""+this.options.headerPrefix+t.toLowerCase().replace(/[^\w]+/g,"-")+"\">"+a+"</h"+e+">\n":"<h"+e+">"+a+"</h"+e+">\n"},h.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},h.prototype.list=function(a,e,t){var n=e?"ol":"ul";return"<"+n+(e&&1!==t?" start=\""+t+"\"":"")+">\n"+a+"</"+n+">\n"},h.prototype.listitem=function(t){return"<li>"+t+"</li>\n"},h.prototype.checkbox=function(t){return"<input "+(t?"checked=\"\" ":"")+"disabled=\"\" type=\"checkbox\""+(this.options.xhtml?" /":"")+"> "},h.prototype.paragraph=function(t){return"<p>"+t+"</p>\n"},h.prototype.table=function(n,e){return e&&(e="<tbody>"+e+"</tbody>"),"<table>\n<thead>\n"+n+"</thead>\n"+e+"</table>\n"},h.prototype.tablerow=function(t){return"<tr>\n"+t+"</tr>\n"},h.prototype.tablecell=function(a,e){var t=e.header?"th":"td";return(e.align?"<"+t+" align=\""+e.align+"\">":"<"+t+">")+a+"</"+t+">\n"},h.prototype.strong=function(t){return"<strong>"+t+"</strong>"},h.prototype.em=function(t){return"<em>"+t+"</em>"},h.prototype.codespan=function(t){return"<code>"+t+"</code>"},h.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},h.prototype.del=function(t){return"<del>"+t+"</del>"},h.prototype.link=function(a,o,t){if(this.options.sanitize){try{var n=decodeURIComponent(u(a)).replace(/[^\w:]/g,"").toLowerCase()}catch(n){return t}if(0===n.indexOf("javascript:")||0===n.indexOf("vbscript:")||0===n.indexOf("data:"))return t}this.options.baseUrl&&!d.test(a)&&(a=c(this.options.baseUrl,a));try{a=encodeURI(a).replace(/%25/g,"%")}catch(n){return t}var r="<a href=\""+p(a)+"\"";return o&&(r+=" title=\""+o+"\""),r+=">"+t+"</a>"},h.prototype.image=function(a,o,t){this.options.baseUrl&&!d.test(a)&&(a=c(this.options.baseUrl,a));var n="<img src=\""+a+"\" alt=\""+t+"\"";return o&&(n+=" title=\""+o+"\""),n+=this.options.xhtml?"/>":">"},h.prototype.text=function(t){return t},r.prototype.strong=r.prototype.em=r.prototype.codespan=r.prototype.del=r.prototype.text=function(t){return t},r.prototype.link=r.prototype.image=function(a,e,t){return""+t},r.prototype.br=function(){return""},b.parse=function(n,e){return new b(e).parse(n)},b.prototype.parse=function(n){this.inline=new a(n.links,this.options),this.inlineText=new a(n.links,g({},this.options,{renderer:new r})),this.tokens=n.reverse();for(var e="";this.next();)e+=this.tok();return e},b.prototype.next=function(){return this.token=this.tokens.pop()},b.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},b.prototype.parseText=function(){for(var t=this.token.text;"text"===this.peek().type;)t+="\n"+this.next().text;return this.inline.output(t)},b.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,u(this.inlineText.output(this.token.text)));case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var d="",p="",c,f,h,g;for(h="",c=0;c<this.token.header.length;c++)h+=this.renderer.tablecell(this.inline.output(this.token.header[c]),{header:!0,align:this.token.align[c]});for(d+=this.renderer.tablerow(h),c=0;c<this.token.cells.length;c++){for(f=this.token.cells[c],h="",g=0;g<f.length;g++)h+=this.renderer.tablecell(this.inline.output(f[g]),{header:!1,align:this.token.align[g]});p+=this.renderer.tablerow(h)}return this.renderer.table(d,p);case"blockquote_start":for(p="";"blockquote_end"!==this.next().type;)p+=this.tok();return this.renderer.blockquote(p);case"list_start":p="";for(var m=this.token.ordered,l=this.token.start;"list_end"!==this.next().type;)p+=this.tok();return this.renderer.list(p,m,l);case"list_item_start":p="";var o=this.token.loose;for(this.token.task&&(p+=this.renderer.checkbox(this.token.checked));"list_item_end"!==this.next().type;)p+=o||"text"!==this.token.type?this.tok():this.parseText();return this.renderer.listitem(p);case"html":return this.renderer.html(this.token.text);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText());}};var n={},d=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;t.exec=t,f.options=f.setOptions=function(t){return g(f.defaults,t),f},f.getDefaults=function(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:new h,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tables:!0,xhtml:!1}},f.defaults=f.getDefaults(),f.Parser=b,f.parser=b.parse,f.Renderer=h,f.TextRenderer=r,f.Lexer=_,f.lexer=_.lex,f.InlineLexer=a,f.inlineLexer=a.output,f.parse=f,"undefined"!=typeof module&&"object"==typeof exports?module.exports=f:"function"==typeof define&&define.amd?define(function(){return f}):m.marked=f}(this||("undefined"==typeof window?global:window));var onnx=null;class OnnxModelFactory{match(e,t){var n=t.split(".").pop();return"saved_model.pb"!=t&&"predict_net.pb"!=t&&("onnx"==n||"pb"==n)}open(e,t,n,a){n.import("/onnx.js",t=>{if(t)return void a(t,null);var o=null;try{onnx=protobuf.roots.onnx.onnx,o=onnx.ModelProto.decode(e)}catch(e){return void a(new OnnxError("Protocol Buffer loader failed to decode ModelProto input stream ("+e.message+")."),null)}var r=null;try{r=new OnnxModel(o)}catch(e){return n.exception(e,!1),void a(new OnnxError(e.message),null)}OnnxOperatorMetadata.open(n,()=>{a(null,r)})})}}class OnnxModel{constructor(e){if(this._model=e,this._irVersion=e.irVersion,this._opsetImport=e.opsetImport,this._producerName=e.producerName,this._producerVersion=e.producerVersion,this._domain=e.domain,this._modelVersion=e.modelVersion,this._docString=e.docString,this._metadata=[],this._imageFormat="",e.metadataProps){var t={};e.metadataProps.forEach(e=>{switch(e.key){case"author":this._author=e.value;break;case"company":this._company=e.value;break;case"converted_from":this._converted_from=e.value;break;case"license":this._license=e.value;break;case"license_url":this._licenseUrl=e.value;break;case"Image.BitmapPixelFormat":case"Image.ColorSpaceGamma":case"Image.NominalPixelRange":t[e.key]=e.value;break;default:this._metadata.push({name:e.key,value:e.value});}}),this._imageFormat=[t["Image.BitmapPixelFormat"],t["Image.ColorSpaceGamma"],t["Image.NominalPixelRange"]].filter(e=>e)}}get format(){var e="ONNX";return this._irVersion&&(e=e+" v"+this._irVersion.toString()),e}get imports(){if(this._opsetImport&&0<this._opsetImport.length){var e=[];return this._opsetImport.forEach(t=>{var n=t.domain?t.domain:"ai.onnx",a=n+" v"+t.version;e.includes(a)||e.push(a)}),e.join(", ")}return null}get producer(){var e=[];return this._producerName&&e.push(this._producerName),this._producerVersion&&0<this._producerVersion.length&&e.push(this._producerVersion),0<e.length?e.join(" "):null}get domain(){return this._domain||null}get description(){return this._docString||null}get author(){return this._author||null}get company(){return this._company||null}get source(){return this._converted_from||null}get license(){var e=[];return this._license&&0<this._license.length&&e.push(this._license),this._licenseUrl&&0<this._licenseUrl.length&&e.push("<a href='"+this._licenseUrl+"'>"+this._licenseUrl+"</a>"),0<e.length?e:null}get metadata(){return this._metadata}get graphs(){if(this._model){if(this._graphs=[],this._model.graph){var e=new OnnxGraphOperatorMetadata(this._opsetImport),t=new OnnxGraph(e,this._model.graph,0,this._imageFormat);this._graphs.push(t)}delete this._model}return this._graphs}}class OnnxGraph{constructor(e,t,n,a){if(this._metadata=e,this._node="",this._description="",this._nodes=[],this._inputs=[],this._outputs=[],this._operators={},this._imageFormat=a,t){this._name=t.name||"("+n.toString()+")",this._description=t.docString||"",this._initializerMap={},this._connectionMap={},t.initializer.forEach(e=>{this._initializerMap[e.name]=new OnnxTensor(e,e.name,"Initializer")}),t.valueInfo.forEach(e=>{this._connection(e.name,e.type,e.docString)});var o=[],r={};t.node.forEach(e=>{this._operators[e.opType]=(this._operators[e.opType]||0)+1,e.output.forEach(e=>{r[e]=(r[e]||0)+1})}),t.node.forEach(e=>{var t=!1;if("Constant"==e.opType&&e.output&&1==e.output.length){var n=e.output[0];if(1==r[n]){var a=e.attribute.find(e=>"value"==e.name&&e.t);a&&(this._initializerMap[n]=new OnnxTensor(a.t,n,"Constant"),t=!0)}}t||o.push(e)}),t.input.forEach(e=>{var t=this._connection(e.name,e.type,e.docString);this._initializerMap[e.name]||(t.name=e.name,this._inputs.push(t))}),t.output.map(e=>{var t=this._connection(e.name,e.type,e.docString);t.name=e.name,this._outputs.push(t)}),o.forEach(e=>{var t=[];e.input&&(t=this._metadata.getInputs(e.opType,e.input),t.forEach(e=>{e.connections=e.connections.map(e=>{e=this._connection(e.id);var t=this._initializerMap[e.id];return t&&(e.initializer=t,e.type=e.type||t.type.toString()),e})}));var n=[];e.output&&(n=this._metadata.getOutputs(e.opType,e.output),n.forEach(e=>{e.connections=e.connections.map(e=>this._connection(e.id))})),this._nodes.push(new OnnxNode(this,e.opType,e.domain,e.name,e.docString,e.attribute,t,n))}),delete this._initializerMap,delete this._connectionMap}}get name(){return this._name}get description(){return this._description}get operators(){return this._operators}get groups(){return!1}get inputs(){return this._inputs}get outputs(){return this._outputs}get nodes(){return this._nodes}get metadata(){return this._metadata}_connection(e,t,n){var a=this._connectionMap[e];return a||(a={},a.id=e,t&&(a.type=OnnxTensor._formatType(t,this._imageFormat)),n&&(a.description=n),this._connectionMap[e]=a),a}}class OnnxNode{constructor(e,t,n,a,o,r,i,s){this._graph=e,this._operator=t,n&&(this._domain=n),a&&(this._name=a),o&&(this._description=o),this._attributes=[],r&&0<r.length&&r.forEach(e=>{this._attributes.push(new OnnxAttribute(this,e))}),this._inputs=i,this._outputs=s}get operator(){return this._operator}get name(){return this._name||null}get description(){return this._description||null}get primitive(){return null}get documentation(){return this._graph.metadata.getOperatorDocumentation(this._operator)}get domain(){return this._domain||null}get category(){return this._graph.metadata.getOperatorCategory(this._operator)}get group(){return null}get attributes(){return this._attributes}get inputs(){return this._inputs}get outputs(){return this._outputs}get dependencies(){return[]}get graph(){return this._graph}}class OnnxAttribute{constructor(e,t){this._node=e,this._attribute=t}get name(){return this._attribute.name}get type(){if(!this._attribute.hasOwnProperty("type"))return this._node.graph.metadata.getAttributeType(this._node.operator,this._attribute.name);OnnxAttribute._attributeTypeMap||(OnnxAttribute._attributeTypeMap={},OnnxAttribute._attributeTypeMap[onnx.AttributeProto.AttributeType.UNDEFINED]="UNDEFINED",OnnxAttribute._attributeTypeMap[onnx.AttributeProto.AttributeType.FLOAT]="float",OnnxAttribute._attributeTypeMap[onnx.AttributeProto.AttributeType.INT]="int",OnnxAttribute._attributeTypeMap[onnx.AttributeProto.AttributeType.STRING]="string",OnnxAttribute._attributeTypeMap[onnx.AttributeProto.AttributeType.TENSOR]="tensor",OnnxAttribute._attributeTypeMap[onnx.AttributeProto.AttributeType.GRAPH]="graph",OnnxAttribute._attributeTypeMap[onnx.AttributeProto.AttributeType.FLOATS]="float",OnnxAttribute._attributeTypeMap[onnx.AttributeProto.AttributeType.INTS]="int[]",OnnxAttribute._attributeTypeMap[onnx.AttributeProto.AttributeType.STRINGS]="string[]",OnnxAttribute._attributeTypeMap[onnx.AttributeProto.AttributeType.TENSORS]="tensor[]",OnnxAttribute._attributeTypeMap[onnx.AttributeProto.AttributeType.GRAPHS]="graph[]");var e=OnnxAttribute._attributeTypeMap[this._attribute.type];return e?e:OnnxTensor._attributeTypeMap[onnx.AttributeProto.AttributeType.UNDEFINED]}get value(){var e=String.fromCharCode;if(this._attribute.ints&&0<this._attribute.ints.length)return 65536<this._attribute.ints.length?"...":this._attribute.ints.map(e=>e.toString()).join(", ");return this._attribute.floats&&0<this._attribute.floats.length?65536<this._attribute.floats.length?"...":this._attribute.floats.map(e=>e.toString()).join(", "):this._attribute.strings&&0<this._attribute.strings.length?65536<this._attribute.strings.length?"...":this._attribute.strings.map(t=>0==t.filter(e=>32>=e&&128<=e).length?"\""+e.apply(null,t)+"\"":t.map(e=>e.toString()).join(", ")).join(", "):this._attribute.s&&0<this._attribute.s.length?0==this._attribute.s.filter(e=>32>=e&&128<=e).length?"\""+e.apply(null,this._attribute.s)+"\"":this._attribute.s.map(e=>e.toString()).join(", "):this._attribute.hasOwnProperty("f")?this._attribute.f.toString():this._attribute.hasOwnProperty("i")?this._attribute.i.toString():this._attribute.hasOwnProperty("t")?new OnnxTensor(this._attribute.t).value:"?"}get description(){return this._attribute.docString?this._attribute.docString:null}get visible(){return this._node.graph.metadata.getAttributeVisible(this._node.operator,this)}get tensor(){return this._attribute.hasOwnProperty("t")}}class OnnxTensor{constructor(e,t,n){this._tensor=e,this._id=t,this._kind=n||null}get id(){return this._id}get name(){return this._tensor.name?this._tensor.name:this._id}get kind(){return this._kind}get type(){return new OnnxTensorType(this._tensor)}get value(){var e=this._decode(Number.MAX_SAFE_INTEGER);return e.error?null:e.value}toString(){var e=this._decode(1e4);if(e.error)return e.error;switch(this._tensor.dataType){case onnx.TensorProto.DataType.INT64:case onnx.TensorProto.DataType.UINT64:return OnnxTensor._stringify(e.value,"","    ");}return JSON.stringify(e.value,null,4)}_decode(e){var t={};if(!this._tensor.dataType)return t.error="Tensor has no data type.",t;if(!this._tensor.dims)return t.error="Tensor has no dimensions.",t;var n={index:0,count:0,limit:e};switch(this._tensor.dataType){case onnx.TensorProto.DataType.FLOAT:if(this._tensor.floatData&&0<this._tensor.floatData.length)n.data=this._tensor.floatData;else if(this._tensor.rawData&&0<this._tensor.rawData.length)n.rawData=new DataView(this._tensor.rawData.buffer,this._tensor.rawData.byteOffset,this._tensor.rawData.byteLength);else return t.error="Tensor data is empty.",t;break;case onnx.TensorProto.DataType.DOUBLE:if(this._tensor.doubleData&&0<this._tensor.doubleData.length)n.data=this._tensor.doubleData;else if(this._tensor.rawData&&0<this._tensor.rawData.length)n.rawData=new DataView(this._tensor.rawData.buffer,this._tensor.rawData.byteOffset,this._tensor.rawData.byteLength);else return t.error="Tensor data is empty.",t;break;case onnx.TensorProto.DataType.INT32:if(this._tensor.int32Data&&0<this._tensor.int32Data.length)n.data=this._tensor.int32Data;else if(this._tensor.rawData&&0<this._tensor.rawData.length)n.rawData=new DataView(this._tensor.rawData.buffer,this._tensor.rawData.byteOffset,this._tensor.rawData.byteLength);else return t.error="Tensor data is empty.",t;break;case onnx.TensorProto.DataType.UINT32:if(this._tensor.uint64Data&&0<this._tensor.uint64Data.length)n.data=this._tensor.uint64Data;else if(this._tensor.rawData&&0<this._tensor.rawData.length)n.rawData=this._tensor.rawData;else return t.error="Tensor data is empty.",t;break;case onnx.TensorProto.DataType.INT64:if(this._tensor.int64Data&&0<this._tensor.int64Data.length)n.data=this._tensor.int64Data;else if(this._tensor.rawData&&0<this._tensor.rawData.length)n.rawData=this._tensor.rawData;else return t.error="Tensor data is empty.",t;break;case onnx.TensorProto.DataType.UINT64:if(this._tensor.uint64Data&&0<this._tensor.uint64Data.length)n.data=this._tensor.uint64Data;else if(this._tensor.rawData&&0<this._tensor.rawData.length)n.rawData=this._tensor.rawData;else return t.error="Tensor data is empty.",t;break;default:return t.error="Tensor data type is not implemented.",t;}return t.value=this._decodeDimension(n,0),t}_decodeDimension(e,t){var n=[],a=this._tensor.dims[t];if(t==this._tensor.dims.length-1)for(var o=0;o<a;o++){if(e.count>e.limit)return n.push("..."),n;if(e.data)n.push(e.data[e.index++]),e.count++;else if(e.rawData)switch(this._tensor.dataType){case onnx.TensorProto.DataType.FLOAT:n.push(e.rawData.getFloat32(e.index,!0)),e.index+=4,e.count++;break;case onnx.TensorProto.DataType.DOUBLE:n.push(e.rawData.getFloat64(e.index,!0)),e.index+=8,e.count++;break;case onnx.TensorProto.DataType.INT32:n.push(e.rawData.getInt32(e.index,!0)),e.index+=4,e.count++;break;case onnx.TensorProto.DataType.UINT32:n.push(e.rawData.getUint32(e.index,!0)),e.index+=4,e.count++;break;case onnx.TensorProto.DataType.INT64:n.push(new Int64(e.rawData.subarray(e.index,e.index+8))),e.index+=8,e.count++;break;case onnx.TensorProto.DataType.UINT64:n.push(new Uint64(e.rawData.subarray(e.index,e.index+8))),e.index+=8,e.count++;}}else for(var r=0;r<a;r++){if(e.count>e.limit)return n.push("..."),n;n.push(this._decodeDimension(e,t+1))}return n}static _stringify(e,t,n){if(Array.isArray(e)){var a=["["],o=e.map(e=>OnnxTensor._stringify(e,t+n,n));return 0<o.length&&a.push(o.join(",\n")),a.push("]"),a.join("\n")}return t+e.toString()}static _formatElementType(e){if(!OnnxTensor._elementTypeMap){var t={};OnnxTensor._elementTypeMap=t,t[onnx.TensorProto.DataType.UNDEFINED]="UNDEFINED",t[onnx.TensorProto.DataType.FLOAT]="float32",t[onnx.TensorProto.DataType.UINT8]="uint8",t[onnx.TensorProto.DataType.INT8]="int8",t[onnx.TensorProto.DataType.UINT16]="uint16",t[onnx.TensorProto.DataType.INT16]="int16",t[onnx.TensorProto.DataType.INT32]="int32",t[onnx.TensorProto.DataType.INT64]="int64",t[onnx.TensorProto.DataType.STRING]="string",t[onnx.TensorProto.DataType.BOOL]="bool",t[onnx.TensorProto.DataType.FLOAT16]="float16",t[onnx.TensorProto.DataType.DOUBLE]="float64",t[onnx.TensorProto.DataType.UINT32]="uint32",t[onnx.TensorProto.DataType.UINT64]="uint64",t[onnx.TensorProto.DataType.COMPLEX64]="complex64",t[onnx.TensorProto.DataType.COMPLEX128]="complex128"}var n=OnnxTensor._elementTypeMap[e];return n?n:OnnxTensor._elementTypeMap[onnx.TensorProto.DataType.UNDEFINED]}static _formatType(e,t){if(!e)return{value:"?"};var n={};switch(e.value){case"tensorType":var a=e.tensorType,o=OnnxTensor._formatElementType(a.elemType);a.shape&&a.shape.dim&&(o+="["+a.shape.dim.map(e=>e.dimParam?e.dimParam:e.dimValue.toString()).join(",")+"]"),n=o;break;case"mapType":var r=OnnxTensor._formatElementType(e.mapType.keyType),i=OnnxTensor._formatType(e.mapType.valueType);n="map<"+r+","+i.value+">";break;case"sequenceType":var s=OnnxTensor._formatType(e.sequenceType.elemType);n="sequence<"+s.value+">";break;default:n="?";}var d="";switch(e.denotation){case"TENSOR":d="Tensor";break;case"IMAGE":d="Image"+(t?"("+t.join(",")+")":"");break;case"AUDIO":d="Audio";break;case"TEXT":d="Text";}return{value:n,denotation:d}}}class OnnxTensorType{constructor(e){this._dataType="?",e.hasOwnProperty("dataType")&&(this._dataType=OnnxTensor._formatElementType(e.dataType)),this._shape=[],e.hasOwnProperty("dims")&&(this._shape=e.dims.map(e=>e))}get dataType(){return this._dataType}get shape(){return this._shape}toString(){return this.dataType+(this._shape?"["+this._shape.map(e=>e.toString()).join(",")+"]":"")}}class OnnxGraphOperatorMetadata{constructor(e){this._cache={},this._imports={},e&&e.forEach(e=>{var t=e.domain||"";"ai.onnx"==t&&(t=""),(!this._imports[t]||this._imports[t]>e.version)&&(this._imports[t]=e.version)}),0==Object.keys(this._imports).length&&(this._imports[""]=1,this._imports["ai.onnx.ml"]=1)}getSchema(e){var t=this._cache[e];return t||(t=OnnxOperatorMetadata.operatorMetadata.getSchema(e,this._imports),t&&(this._cache[e]=t)),t}getAttributeSchema(e,t){var n=this.getSchema(e);if(n){var a=n.attributeMap;a||(a={},n.attributes&&n.attributes.forEach(e=>{a[e.name]=e}),n.attributeMap=a);var o=a[t];if(o)return o}return null}getInputs(e,t){var n=[],a=0,o=this.getSchema(e);return o&&o.inputs?o.inputs.forEach(e=>{if(a<t.length||"optional"!=e.option){var o={name:e.name,type:e.type},r="variadic"==e.option?t.length-a:1;o.connections=[],t.slice(a,a+r).forEach(t=>{(""!=t||"optional"!=e.option)&&o.connections.push({id:t})}),a+=r,n.push(o)}}):t.slice(a).forEach(e=>{n.push({name:"("+a.toString()+")",connections:[{id:e}]}),a++}),n}getOutputs(e,t){var n=[],a=0,o=this.getSchema(e);return o&&o.outputs?o.outputs.forEach(e=>{if(a<t.length||"optional"!=e.option){var o={name:e.name},r="variadic"==e.option?t.length-a:1;o.connections=t.slice(a,a+r).map(e=>({id:e})),a+=r,n.push(o)}}):t.slice(a).forEach(e=>{n.push({name:"("+a.toString()+")",connections:[{id:e}]}),a++}),n}getAttributeType(e,t){var n=this.getAttributeSchema(e,t);return n&&n.type?n.type:""}getAttributeVisible(e,t){var n=this.getAttributeSchema(e,t.name);return!(n&&n.hasOwnProperty("default")&&n.default&&t.value==n.default.toString())}getOperatorCategory(e){var t=this.getSchema(e);return t&&t.category?t.category:null}getOperatorDocumentation(e){var t=this.getSchema(e);if(t){t=JSON.parse(JSON.stringify(t)),t.name=e,t.description&&(t.description=this.markdown(t.description)),t.attributes&&t.attributes.forEach(e=>{e.description&&(e.description=this.markdown(e.description))}),t.inputs&&t.inputs.forEach(e=>{e.description&&(e.description=this.markdown(e.description))}),t.outputs&&t.outputs.forEach(e=>{e.description&&(e.description=this.markdown(e.description))});var n=e=>2147483647==e?"&#8734;":e.toString();return t.min_input!=t.max_input&&(t.inputs_range=n(t.min_input)+" - "+n(t.max_input)),t.min_output!=t.max_output&&(t.outputs_range=n(t.min_output)+" - "+n(t.max_output)),t.type_constraints&&t.type_constraints.forEach(e=>{e.allowed_type_strs&&(e.allowed_type_strs_display=e.allowed_type_strs.map(e=>e).join(", "))}),t}return null}markdown(e){return marked(e,{baseUrl:"https://github.com/onnx/onnx/blob/master/docs/"})}}class OnnxOperatorMetadata{static open(e,t){OnnxOperatorMetadata.operatorMetadata?t(null,OnnxOperatorMetadata.operatorMetadata):e.request("/onnx-metadata.json",(e,n)=>{OnnxOperatorMetadata.operatorMetadata=new OnnxOperatorMetadata(n),t(null,OnnxOperatorMetadata.operatorMetadata)})}constructor(e){if(this._map={},e){var t=JSON.parse(e);t&&t.forEach(e=>{if(e.name&&e.schema){var t=e.name;this._map[t]=this._map[t]||[],this._map[t].push(e.schema)}})}}getSchema(e,t){var n=null,a=this._map[e];if(a){var o=-1;a.forEach(e=>{var a=e.domain;"ai.onnx"==a&&(a="");var r=t[a],i=e.since_version;r>=i&&o<i&&(o=i,n=e)})}return n}}class OnnxError extends Error{constructor(e){super(e),this.name="Error loading ONNX model."}}var tensorflow=null;class TensorFlowModelFactory{match(e,t){var n=t.split(".").pop();return"predict_net.pb"!=t&&("pb"==n||"meta"==n)}open(e,t,n,a){n.import("/tf.js",o=>{if(o)a(o,null);else{tensorflow=protobuf.roots.tf.tensorflow;try{var r=null,i=null;if("saved_model.pb"==t)r=tensorflow.SavedModel.decode(e),i="TensorFlow Saved Model",r.savedModelSchemaVersion&&(i=i+" v"+r.savedModelSchemaVersion.toString());else{var s=null,d=t.split(".").pop();if("meta"!=d)try{var l=tensorflow.GraphDef.decode(e);s=new tensorflow.MetaGraphDef,s.graphDef=l,s.anyInfo=t,i="TensorFlow Graph"}catch(e){}s||(s=tensorflow.MetaGraphDef.decode(e),i="TensorFlow MetaGraph"),r=new tensorflow.SavedModel,r.metaGraphs.push(s)}var p=new TensorFlowModel(r,i);TensorFlowOperatorMetadata.open(n,()=>{a(null,p)})}catch(e){n.exception(e,!1),a(new TensorFlowError(e.message),null)}}})}}class TensorFlowModel{constructor(e,t){this._model=e,this._format=t,this._graphs=[];for(var n=0;n<this._model.metaGraphs.length;n++)this._graphs.push(new TensorFlowGraph(this,this._model.metaGraphs[n],n));this._activeGraph=0<this._graphs.length?this._graphs[0]:null}get format(){return this._format}get description(){return null}get graphs(){return this._graphs}}class TensorFlowGraph{constructor(e,t,n){this._model=e,this._graph=t,this._metadata=new TensorFlowGraphOperatorMetadata(t.metaInfoDef),this._name=this._graph.anyInfo?this._graph.anyInfo.toString():"("+n.toString()+")",this._operators={},this._inputMap={},this._graph.graphDef&&this._graph.graphDef.node.forEach(e=>{this._operators[e.op]=(this._operators[e.op]||0)+1})}get operators(){return this._operators}get model(){return this._model}get name(){return this._name}get version(){return this._graph.metaInfoDef&&this._graph.metaInfoDef.tensorflowVersion?this._graph.metaInfoDef.tensorflowVersion:null}get tags(){return this._graph.metaInfoDef&&this._graph.metaInfoDef.tags?this._graph.metaInfoDef.tags.join(", "):null}get groups(){return!1}get inputs(){this._update();var e=[];return Object.keys(this._inputMap).forEach(t=>{e.push(this._inputMap[t])}),e}get outputs(){return this._update(),[]}get nodes(){this._update();var e=[];return this._graph.graphDef&&this._graph.graphDef.node.forEach(t=>{if(0!=t.output.filter(e=>!e.startsWith("^"))||0<t.input.filter(e=>!e.startsWith("^")).length){var n=t.name;this._initializerMap[n]||this._inputMap[n]||e.push(new TensorFlowNode(this,t))}}),e}get metadata(){return this._metadata}get namespaces(){return this._namespaces}_update(){if(!this._nodeMap&&this._graph.graphDef.node){this._nodeMap={},this._namespaces={};var e=this._graph.graphDef.node;e.forEach(e=>{var t=e.name;if(this._nodeMap[t]=e,"Const"!=e.op){var n=t.lastIndexOf("/");if(-1!=n){var a=t.substring(0,n);this._namespaces[a]=!0}}e.output=[]}),e.forEach(e=>{for(var t=0;t<e.input.length;t++){var n=e.input[t].split(":",2),a=n[0];if(!a.startsWith("^")){var o=1==n.length?0:parseInt(n[1]),r=this._nodeMap[a];if(e.input[t]=0==o?a:a+":"+o.toString(),r){for(var s=r.output.length;s<=o;s++)r.output.push("");r.output[o]=e.input[t]}}else{var d=a.substring(1),l=this._nodeMap[d];l&&(!l.dependency&&(l.dependency=[]),l.dependency.push({id:a,name:e.name,operator:e.op}))}}}),this._nodeOutputCountMap={},e.forEach(e=>{this._metadata.getInputs(e).forEach(e=>{var t=1<e.connections.length;e.connections.forEach(n=>{if(t)this._nodeOutputCountMap[n.id]="N";else{var a=n.id.startsWith("^")?n.id.substring(1):n.id,o=this._nodeOutputCountMap[a];"N"!=o&&(o=o?o:0,this._nodeOutputCountMap[e]=o+1)}})}),e.input.forEach(e=>{e=e.startsWith("^")?e.substring(1):e;var t=this._nodeOutputCountMap[e];t||(t=0),this._nodeOutputCountMap[e]=t+1})}),this._initializerMap={},this._graph.graphDef.node.forEach(e=>{if("Const"==e.op&&this._checkEmptyInput(e)&&this._checkSingleOutput(e)){var t=e.attr.value;if(t&&t.hasOwnProperty("tensor")){var n=e.output[0];n&&(this._initializerMap[n]=new TensorFlowTensor(t.tensor,n,e.name,"Constant"))}}}),this._graph.graphDef.node.forEach(e=>{if("Identity"==e.op&&1==e.input.length&&this._checkSingleOutput(e)){var t=e.input[0],n=this._initializerMap[t];if(n){var a=e.output[0];this._initializerMap[t]="-",n.kind="Identity Constant",this._initializerMap[a]=n}}}),this._inputMap={},this._graph.graphDef.node.forEach(e=>{if("Placeholder"==e.op&&0==e.input.length&&1==e.output.length){var t=e.attr.dtype,n=e.attr.shape;t&&t.type&&n&&n.shape&&(this._inputMap[e.output[0]]={id:e.output[0],name:e.name,type:TensorFlowTensor.formatDataType(t.type)+TensorFlowTensor.formatTensorShape(n.shape)})}})}}_getInitializer(e){var t=this._initializerMap[e];return t?t:null}_checkEmptyInput(e){var t=e.input.filter(e=>!e.startsWith("^"));return 0==t.length}_checkSingleOutput(e){if(1!=e.output.length)return!1;var t=e.output[0],n=this._nodeOutputCountMap[t];return!(1!=n)}}class TensorFlowNode{constructor(e,t){this._graph=e,this._node=t}get graph(){return this._graph}get operator(){return this._node.op}get name(){return this._node.name}get device(){return this._node.device}get group(){var e=this._node.name;if(this._graph.namespaces[e])return e;var t=e.lastIndexOf("/");if(-1!=t){var n=e.substring(0,t);if(this._graph.namespaces[n])return n}return""}get description(){return null}get primitive(){return null}get domain(){return null}get documentation(){return this._graph.metadata.getOperatorDocumentation(this.operator)}get category(){return this._graph.metadata.getOperatorCategory(this.operator)}get inputs(){if(this._node.input){var e=this._graph.metadata.getInputs(this._node);return e.forEach(e=>{e.connections.forEach(e=>{var t=this._graph._getInitializer(e.id);t&&(e.type=t.type.toString(),e.initializer=t)})}),e}return[]}get outputs(){return this._graph.metadata.getOutputs(this._node)}get dependencies(){var e=[];return this._node.dependency&&this._node.dependency.forEach(t=>{e.push(t)}),e}get attributes(){var e=this._graph.metadata,t=this._node,n=[];return t.attr&&Object.keys(t.attr).forEach(a=>{var o=t.attr[a],r=e.getAttributeVisible(t.op,a,o);n.push(new TensorFlowAttribute(this,a,o,r))}),n}}class TensorFlowAttribute{constructor(e,t,n,a){this._node=e,this._name=t,this._value=n,a||(this._hidden=!0)}get name(){return this._name}get type(){if(this._value.hasOwnProperty("tensor"))return new TensorFlowTensor(this._value.tensor).type;var e=this._node.graph.metadata;return e?e.getAttributeType(this._node.operator,this._name):""}get value(){var e=TensorFlowAttribute.formatAttributeValue(this._value);return Array.isArray(e)?e.join(", "):e}static formatAttributeValue(e){if(e.hasOwnProperty("type"))return TensorFlowTensor.formatDataType(e.type);if(e.hasOwnProperty("i"))return e.i.toString();if(e.hasOwnProperty("f"))return e.f.toString();if(e.hasOwnProperty("b"))return e.b.toString();if(e.hasOwnProperty("shape"))return TensorFlowTensor.formatTensorShape(e.shape);if(e.hasOwnProperty("s"))return 0==e.s.length?"":0==e.s.filter(e=>32>=e&&128<=e).length?"\""+TensorFlowOperatorMetadata.textDecoder.decode(e.s)+"\"":e.s.map(e=>e.toString()).join(", ");if(e.hasOwnProperty("tensor"))return new TensorFlowTensor(e.tensor).value;if(e.hasOwnProperty("list")){var t=e.list;if(t.s&&0<t.s.length)return 65536<t.s.length?"Too large to render.":t.s.map(t=>0==t.filter(e=>32>=e&&128<=e).length?"\""+TensorFlowOperatorMetadata.textDecoder.decode(e.s)+"\"":t.map(e=>e.toString()).join(", "));if(t.i&&0<t.i.length)return 65536<t.i.length?"Too large to render.":t.i.map(e=>e.toString());if(t.f&&0<t.f.length)return 65536<t.f.length?"Too large to render.":t.f.map(e=>e.toString());if(t.type&&0<t.type.length)return 65536<t.type.length?"Too large to render.":t.type.map(e=>TensorFlowTensor.formatDataType(e));if(t.shape&&0<t.shape.length)return 65536<t.shape.length?"Too large to render.":t.shape.map(e=>TensorFlowTensor.formatTensorShape(e))}return""}get visible(){return!this._hidden}get tensor(){return!!this._value.hasOwnProperty("tensor")&&!(this._value.tensor.tensorShape&&this._value.tensor.tensorShape.dim&&0==this._value.tensor.tensorShape.dim.length)}}class TensorFlowTensor{constructor(e,t,n,a){this._tensor=e,this._id=t,this._name=n,a&&(this._kind=a)}get id(){return this._id}get name(){return this._name}get type(){return new TensorFlowTensorType(this._tensor.dtype,this._tensor.tensorShape)}get kind(){return this._kind}set kind(e){this._kind=e}get value(){var e=this._decode(Number.MAX_SAFE_INTEGER);return e.error?null:e.value}toString(){var e=this._decode(1e4);return e.error?e.error:JSON.stringify(e.value,null,4)}_decode(e){var t={};if(!this._tensor.dtype)return t.error="Tensor has no data type.",t;if(!this._tensor.tensorShape||!this._tensor.tensorShape.dim)return t.error="Tensor has no dimensions.",t;var n={};switch(n.index=0,n.count=0,n.limit=e,n.size=1,this._tensor.tensorShape.dim.forEach(e=>{n.size*=e.size?e.size:0}),this._tensor.dtype){case tensorflow.DataType.DT_FLOAT:if(this._tensor.tensorContent&&0<this._tensor.tensorContent.length)n.rawData=new DataView(this._tensor.tensorContent.buffer,this._tensor.tensorContent.byteOffset,this._tensor.tensorContent.byteLength);else if(this._tensor.floatVal&&this._tensor.floatVal.length==n.size)n.data=this._tensor.floatVal;else return t.error="Tensor data is empty.",t;break;case tensorflow.DataType.DT_INT32:if(this._tensor.tensorContent&&0<this._tensor.tensorContent.length)n.rawData=new DataView(this._tensor.tensorContent.buffer,this._tensor.tensorContent.byteOffset,this._tensor.tensorContent.byteLength);else if(this._tensor.intVal&&this._tensor.intVal.length==n.size)n.data=this._tensor.intVal;else return t.error="Tensor data is empty.",t;break;case tensorflow.DataType.DT_STRING:if(this._tensor.tensorContent&&0<this._tensor.tensorContent.length)return t.error="Tensor data type is not implemented.",t;if(this._tensor.stringVal&&this._tensor.stringVal.length==n.size)n.data=this._tensor.stringVal;else return t.error="Tensor data is empty.",t;break;case tensorflow.DataType.DT_BOOL:return t.error="Tensor data type is not implemented.",t;default:return t.error="Tensor data type is not implemented.",t;}return t.value=this._decodeDimension(n,0),t}_decodeDimension(e,t){var n=[],a=this._tensor.tensorShape.dim;if(0==a.length&&1==e.data.length)return this._decodeDataValue(e);var o=a[t],r=o.size;if(t==a.length-1)for(var s=0;s<r;s++){if(e.count>e.limit)return n.push("..."),n;if(e.data)n.push(this._decodeDataValue(e)),e.count++;else if(e.rawData)switch(this._tensor.dtype){case tensorflow.DataType.DT_FLOAT:n.push(e.rawData.getFloat32(e.index,!0)),e.index+=4,e.count++;break;case tensorflow.DataType.DT_INT32:n.push(e.rawData.getInt32(e.index,!0)),e.index+=4,e.count++;}}else for(var d=0;d<r;d++){if(e.count>e.limit)return n.push("..."),n;n.push(this._decodeDimension(e,t+1))}return n}_decodeDataValue(e){var t=e.data[e.index++];return this._tensor.dtype==tensorflow.DataType.DT_STRING?TensorFlowOperatorMetadata.textDecoder.decode(t):t}static formatDataType(e){TensorFlowTensor.dataType||(TensorFlowTensor.dataType={},Object.keys(tensorflow.DataType).forEach(e=>{var t=tensorflow.DataType[e];e=e.startsWith("DT_")?e.substring(3):e,TensorFlowTensor.dataType[t]=e.toLowerCase()}));var t=TensorFlowTensor.dataType[e];return t?t:"?"}static formatTensorShape(e){return e&&e.dim?e.unknownRank?"[-]":0==e.dim.length?"":1!=e.dim.length||e.dim[0].size?"["+e.dim.map(e=>e.size&&-1!=e.size?e.size.toString():"?").join(",")+"]":"[0]":"?"}}class TensorFlowTensorType{constructor(e,t){this._dtype=e,this._shape=t}get dataType(){return this._dtype?TensorFlowTensor.formatDataType(this._dtype):"?"}get shape(){return null}toString(){return this.dataType+TensorFlowTensor.formatTensorShape(this._shape)}}class TensorFlowGraphOperatorMetadata{constructor(e){this._map={},e&&e.strippedOpList&&e.strippedOpList.op&&e.strippedOpList.op.forEach(()=>{})}getSchema(e){var t=TensorFlowOperatorMetadata.operatorMetadata.getSchema(e);return t||(t=this._map[e]),t}getInputs(e){var t=[],n=0,a=e.input.filter(e=>!e.startsWith("^")),o=this.getSchema(e.op);return o&&o.inputs?o.inputs.forEach(o=>{var r=1;if(o.numberAttr){var i=e.attr[o.numberAttr];i&&i.i&&(r=i.i)}var s={};s.name=o.name,o.type?s.type=TensorFlowTensor.formatDataType(o.type):o.typeAttr?s.type=o.typeAttr:o.typeListAttr&&(s.type=o.typeListAttr),s.connections=a.slice(n,n+r).map(e=>({id:e})),t.push(s),n+=r}):a.slice(n).forEach(e=>{t.push({name:"("+n.toString()+")",connections:[{id:e}]}),n++}),t}getOutputs(e){var t=[],n=0,a=e.output,o=this.getSchema(e.op);return o&&o.outputs?o.outputs.forEach(o=>{var r=1;if(o.numberAttr){var i=e.attr[o.numberAttr];i&&i.i&&(r=i.i)}var s={};s.name=o.name,o.type?s.type=TensorFlowTensor.formatDataType(o.type):o.typeAttr?s.type=o.typeAttr:o.typeListAttr&&(s.type=o.typeListAttr),s.connections=a.slice(n,n+r).map(e=>({id:e})),t.push(s),n+=r}):a.slice(n).forEach(e=>{t.push({name:"("+n.toString()+")",connections:[{id:e}]}),n++}),t}getAttributeSchema(e,t){var n=this.getSchema(e);if(n){var a=n.attributeMap;a||(a={},n.attributes&&n.attributes.forEach(e=>{a[e.name]=e}),n.attributeMap=a);var o=a[t];if(o)return o}return null}getAttributeType(e,t){var n=this.getAttributeSchema(e,t);return n&&n.type?n.type:""}getAttributeVisible(e,t,n){var a=this.getSchema(e);if(a){var o=this.getAttributeSchema(e,t);if(o){if(o.hasOwnProperty("visible"))return o.visible;if(o.hasOwnProperty("default")){var r=TensorFlowAttribute.formatAttributeValue(n),i=TensorFlowGraphOperatorMetadata.formatAttributeValue(o.default);if(r==i)return!1}}if("_output_shapes"==t||"_class"==t)return!1;var s=a.hiddenAttributeMap;if(s||(s={},a.inputs&&a.inputs.forEach(e=>{e.typeAttr?s[e.typeAttr]=!0:e.typeListAttr&&(s[e.typeListAttr]=!0),e.numberAttr&&(s[e.numberAttr]=!0)}),a.outputs&&a.outputs.forEach(e=>{e.typeAttr?s[e.typeAttr]=!0:e.typeListAttr&&(s[e.typeListAttr]=!0),e.numberAttr&&(s[e.numberAttr]=!0)}),a.hiddenAttributeMap=s),s[t])return!1}return!0}getOperatorCategory(e){var t=this.getSchema(e);return t&&t.category?t.category:null}getOperatorDocumentation(e){var t=this.getSchema(e);return t?(t=JSON.parse(JSON.stringify(t)),t.name=e,t.summary&&(t.summary=marked(t.summary)),t.description&&(t.description=marked(t.description)),t.inputs&&t.inputs.forEach(e=>{e.type?e.type=TensorFlowTensor.formatDataType(e.type):e.typeAttr?e.type=e.typeAttr:e.typeListAttr&&(e.type=e.typeListAttr),e.description&&(e.description=marked(e.description))}),t.outputs&&t.outputs.forEach(e=>{e.type?e.type=TensorFlowTensor.formatDataType(e.type):e.typeAttr?e.type=e.typeAttr:e.typeListAttr&&(e.type=e.typeListAttr),e.description&&(e.description=marked(e.description))}),t.attributes&&t.attributes.forEach(e=>{var t=e.description;if(e.allowedValues){var n=TensorFlowGraphOperatorMetadata.formatAttributeValue(e.allowedValues);n=Array.isArray(n)?n:[n],n=n.map(e=>"`"+e+"`").join(", "),n="Must be one of the following: "+n+".",t=t?n+" "+t:n}if(e.defaultValue){var a=TensorFlowGraphOperatorMetadata.formatAttributeValue(e.defaultValue);a=Array.isArray(a)?a:[a],a=a.map(e=>"`"+e+"`").join(", "),a="Defaults to "+a+".",t=t?a+" "+t:a}t&&(e.description=marked(t))}),t):null}static formatAttributeValue(e){if(Array.isArray(e))return e.map(e=>TensorFlowGraphOperatorMetadata.formatAttributeValue(e));if(e===Object(e))switch(e.type){case"type":return TensorFlowTensor.formatDataType(e.value);case"shape":return e.value;case"tensor":return e.value;}return"string"==typeof e?"\""+e+"\"":e.toString()}}class TensorFlowOperatorMetadata{static open(e,t){TensorFlowOperatorMetadata.textDecoder=TensorFlowOperatorMetadata.textDecoder||new TextDecoder("utf-8"),TensorFlowOperatorMetadata.operatorMetadata?t(null,TensorFlowOperatorMetadata.operatorMetadata):e.request("/tf-metadata.json",(e,n)=>{TensorFlowOperatorMetadata.operatorMetadata=new TensorFlowOperatorMetadata(n),t(null,TensorFlowOperatorMetadata.operatorMetadata)})}constructor(e){if(this._map={},e&&e){var t=JSON.parse(e);t&&t.forEach(e=>{e.name&&e.schema&&(this._map[e.name]=e.schema)})}}getSchema(e){return this._map[e]}}class TensorFlowError extends Error{constructor(e){super(e),this.name="Error loading TensorFlow model."}}class TensorFlowLiteModelFactory{match(e,t){var n=t.split(".").pop();return"tflite"==n}open(e,t,n,a){n.import("/tflite.js",t=>{if(t)a(t,null);else try{var o=new flatbuffers.ByteBuffer(e);if(!tflite.Model.bufferHasIdentifier(o))a(new TensorFlowLiteError("Invalid FlatBuffers identifier."));else{var r=tflite.Model.getRootAsModel(o);r=new TensorFlowLiteModel(r),TensorFlowLiteOperatorMetadata.open(n,()=>{a(null,r)})}}catch(e){n.exception(e,!1),a(new TensorFlowLiteError(e.message),null)}})}}class TensorFlowLiteModel{constructor(e){this._model=e,this._graphs=[],this._operatorCodeList=[];var t={};Object.keys(tflite.BuiltinOperator).forEach(function(e){var n={"2D":!0,LSH:!0,SVDF:!0,RNN:!0,L2:!0,LSTM:!0},a=tflite.BuiltinOperator[e];t[a]=e.split("_").map(e=>1>e.length||n[e]?e:e.substring(0,1)+e.substring(1).toLowerCase()).join("")});for(var n=0;n<this._model.operatorCodesLength();n++){var a=this._model.operatorCodes(n),o=a.builtinCode();this._operatorCodeList.push(o==tflite.BuiltinOperator.CUSTOM?a.customCode():t[o])}for(var r=this._model.subgraphsLength(),i=0,s;i<r;i++)s=1<r?"("+i.toString()+")":"",this._graphs.push(new TensorFlowLiteGraph(this,this._model.subgraphs(i),s))}get format(){return"TensorFlow Lite v"+this._model.version().toString()}get description(){var e=this._model.description();return e&&0<e.length?e:null}get graphs(){return this._graphs}}class TensorFlowLiteGraph{constructor(e,t,n){this._model=e,this._graph=t,this._name=this._graph.name(),this._nodes=[],this._operators={},this._name||(this._name=n),this._initializerMap={};for(var a=0;a<t.tensorsLength();a++){var o=t.tensors(a),r=e._model.buffers(o.buffer());0<r.dataLength()&&(this._initializerMap[a]=new TensorFlowLiteTensor(o,r,a))}for(var s=0,d;s<this._graph.operatorsLength();s++)d=new TensorFlowLiteNode(this,this._graph.operators(s)),this._operators[d.operator]=(this._operators[d.operator]||0)+1,this._nodes.push(d)}get operators(){return this._operators}get model(){return this._model}get name(){return this._name}get groups(){return!1}get inputs(){for(var e=[],t=this._graph,n=0;n<t.inputsLength();n++){var a=t.inputs(n),o=t.tensors(a);e.push({id:a.toString(),name:o.name(),type:new TensorFlowLiteTensorType(o).toString()})}return e}get outputs(){for(var e=[],t=this._graph,n=0;n<t.outputsLength();n++){var a=t.outputs(n),o=t.tensors(a);e.push({id:a.toString(),name:o.name(),type:new TensorFlowLiteTensorType(o).toString()})}return e}get nodes(){return this._nodes}getInitializer(e){var t=this._initializerMap[e];return t?t:null}}class TensorFlowLiteNode{constructor(e,t){this._graph=e,this._node=t}get operator(){if(!this._operator){var e=this._graph.model._operatorCodeList,t=this._node.opcodeIndex();this._operator=t<e.length?e[t]:"("+t.toString()+")"}return this._operator}get name(){return null}get domain(){return null}get primitive(){return null}get documentation(){return null}get group(){return null}get category(){return TensorFlowLiteOperatorMetadata.operatorMetadata.getOperatorCategory(this.operator)}get inputs(){var e=TensorFlowLiteOperatorMetadata.operatorMetadata.getInputs(this._node,this.operator);return e.forEach(e=>{e.connections.forEach(e=>{var t=e.id,n=this._graph._graph.tensors(t);e.type=new TensorFlowLiteTensorType(n).toString();var a=this._graph.getInitializer(t);a&&(e.initializer=a),e.id=e.id.toString()})}),e}get outputs(){for(var e=[],t=this._graph._graph,n=this._node,a=0;a<n.outputsLength();a++){var o=n.outputs(a),r=t.tensors(o),s={name:TensorFlowLiteOperatorMetadata.operatorMetadata.getOutputName(this.operator,a),connections:[]},d={};d.id=o.toString(),d.type=new TensorFlowLiteTensorType(r).toString();var l=this._graph.getInitializer(o);l&&(d.initializer=l),s.connections.push(d),e.push(s)}return e}get dependencies(){return[]}get attributes(){if(!this._attributes){this._attributes=[];var metadata=TensorFlowLiteOperatorMetadata.operatorMetadata,node=this._node,operator=this._operator,optionsTypeName="tflite."+operator+"Options",optionsType=eval(optionsTypeName);if("function"==typeof optionsType){var options=eval("new "+optionsTypeName+"()");node.builtinOptions(options);var attributeNames=[];Object.keys(Object.getPrototypeOf(options)).forEach(function(e){"__init"!=e&&attributeNames.push(e)}),attributeNames.forEach(e=>{if(options[e]&&"function"==typeof options[e]){var t=options[e]();if(t=this.formatAttributeValue(t,e,optionsTypeName),null!=t){e=this.formatAttributeName(e);var n=metadata.getAttributeType(operator,e),a=metadata.getAttributeVisible(operator,e,t);this._attributes.push(new TensorFlowLiteAttribute(e,n,t,a))}}})}}return this._attributes}formatAttributeName(e){for(var t=e.toLowerCase(),n="",a=0;a<e.length;a++)n+=e[a]==t[a]?e[a]:"_"+t[a];return n}formatAttributeValue(e,t,n){if(!TensorFlowLiteNode._optionsEnumTypeMap){TensorFlowLiteNode._optionsEnumTypeMap={};var a=TensorFlowLiteNode._optionsEnumTypeMap;a["tflite.Conv2DOptions"]={padding:{type:tflite.Padding},fusedActivationFunction:{type:tflite.ActivationFunctionType}},a["tflite.Pool2DOptions"]={padding:{type:tflite.Padding},fusedActivationFunction:{type:tflite.ActivationFunctionType}},a["tflite.DepthwiseConv2DOptions"]={padding:{type:tflite.Padding},fusedActivationFunction:{type:tflite.ActivationFunctionType}},a["tflite.LSHProjectionOptions"]={type:{type:tflite.LSHProjectionType}},a["tflite.SVDFOptions"]={fusedActivationFunction:{type:tflite.ActivationFunctionType}},a["tflite.RNNOptions"]={fusedActivationFunction:{type:tflite.ActivationFunctionType}},a["tflite.FullyConnectedOptions"]={fusedActivationFunction:{type:tflite.ActivationFunctionType}},a["tflite.ConcatenationOptions"]={fusedActivationFunction:{type:tflite.ActivationFunctionType}},a["tflite.AddOptions"]={fusedActivationFunction:{type:tflite.ActivationFunctionType}},a["tflite.MulOptions"]={fusedActivationFunction:{type:tflite.ActivationFunctionType}},a["tflite.L2NormOptions"]={fusedActivationFunction:{type:tflite.ActivationFunctionType}},a["tflite.LSTMOptions"]={fusedActivationFunction:{type:tflite.ActivationFunctionType}},a["tflite.EmbeddingLookupSparseOptions"]={combiner:{type:tflite.CombinerType}}}var o=TensorFlowLiteNode._optionsEnumTypeMap[n];if(o){var r=o[t];if(r){var i=r.map;if(!i){i={};var s=r.type;Object.keys(s).forEach(function(e){i[s[e]]=e}),r.map=i}var d=i[e];if(d)return d}}return"string"!=typeof e&&(e=e.toString()),e}}class TensorFlowLiteAttribute{constructor(e,t,n,a){this._name=e,this._type=t,this._value=n,this._visible=a}get name(){return this._name}get type(){return this._type}get value(){return this._value}get visible(){return this._visible}}class TensorFlowLiteTensor{constructor(e,t,n){this._id=n,this._tensor=e,this._buffer=t}get id(){return this._id.toString()}get name(){return this._tensor.name()}get type(){return new TensorFlowLiteTensorType(this._tensor)}get quantization(){var e=this._tensor.quantization();if(e){var t=1==e.scaleLength()?e.scale(0):0,n=1==e.zeroPointLength()?e.zeroPoint(0).toFloat64():0;if(0!=t||0!=n)return"f = "+t.toString()+" * "+(0==n?"q":"(q - "+n.toString()+")")}return null}get value(){var e=this._decode(Number.MAX_SAFE_INTEGER);return e.error?null:e.value}toString(){var e=this._decode(1e4);return e.error?e.error:JSON.stringify(e.value,null,4)}_decode(e){var t={};if(0==this._buffer.dataLength())return t.error="Tensor data is empty.",t.error;var n={index:0,count:0,limit:e},a=this._buffer.dataArray();if(n.data=new DataView(a.buffer,a.byteOffset,a.byteLength),this._tensor.type()==tflite.TensorType.STRING){var o=window.TextDecoder?new TextDecoder("utf-8"):null,r=0,i=n.data.getInt32(0,!0);r+=4;for(var s=[],d=0;d<i;d++)s.push(n.data.getInt32(r,!0)),r+=4;s.push(a.length);for(var l=[],p=0,c;p<i;p++)c=a.subarray(s[p],s[p+1]),o?l.push(o.decode(c)):l.push(String.fromCharCode.apply(null,c));n.data=l}return t.value=this._decodeDimension(n,0),t}_decodeDimension(e,t){var n=this._tensor.shape(t),a=[];if(t==this._tensor.shapeLength()-1)for(var o=0;o<n;o++){if(e.count>e.limit)return a.push("..."),a;switch(this._tensor.type()){case tflite.TensorType.FLOAT32:a.push(e.data.getFloat32(e.index,!0)),e.index+=4,e.count++;break;case tflite.TensorType.FLOAT16:a.push(TensorFlowLiteTensor._decodeNumberFromFloat16(e.data.getUint16(e.index,!0))),e.index+=2,e.count++;break;case tflite.TensorType.UINT8:a.push(e.data.getUint8(e.index)),e.index+=1,e.count++;break;case tflite.TensorType.INT32:a.push(e.data.getInt32(e.index,!0)),e.index+=4,e.count++;break;case tflite.TensorType.INT64:a.push(new Int64(e.data.getInt64(e.index,!0))),e.index+=8,e.count++;break;case tflite.TensorType.STRING:a.push(e.data[e.index++]),e.count++;break;default:}}else for(var r=0;r<n;r++){if(e.count>e.limit)return a.push("..."),a;a.push(this._decodeDimension(e,t+1))}return a}static _decodeNumberFromFloat16(t){var n=(32768&t)>>15,a=(31744&t)>>10,e=1023&t;if(0==a)return 0.00006103515625*(n?-1:1)*(e/1024);return 31==a?e?NaN:(n?-1:1)*(1/0):(n?-1:1)*Math.pow(2,a-15)*(1+e/1024)}}class TensorFlowLiteTensorType{constructor(e){this._dataType=e.type(),this._shape=[];var t=e.shapeLength();if(0<t)for(var n=0;n<t;n++)this._shape.push(e.shape(n))}get dataType(){TensorFlowLiteTensorType._typeMap||(TensorFlowLiteTensorType._typeMap={},TensorFlowLiteTensorType._typeMap[tflite.TensorType.FLOAT32]="float32",TensorFlowLiteTensorType._typeMap[tflite.TensorType.FLOAT16]="float16",TensorFlowLiteTensorType._typeMap[tflite.TensorType.INT32]="int32",TensorFlowLiteTensorType._typeMap[tflite.TensorType.UINT8]="byte",TensorFlowLiteTensorType._typeMap[tflite.TensorType.INT64]="int64",TensorFlowLiteTensorType._typeMap[tflite.TensorType.STRING]="string",TensorFlowLiteTensorType._typeMap[tflite.TensorType.BOOL]="bool");var e=TensorFlowLiteTensorType._typeMap[this._dataType];return e?e:"?"}get shape(){return this._shape}toString(){return this.dataType+(this._shape?"["+this._shape.map(e=>e.toString()).join(",")+"]":"")}}class TensorFlowLiteOperatorMetadata{static open(e,t){TensorFlowLiteOperatorMetadata.operatorMetadata?t(null,TensorFlowLiteOperatorMetadata.operatorMetadata):e.request("/tflite-metadata.json",(e,n)=>{TensorFlowLiteOperatorMetadata.operatorMetadata=new TensorFlowLiteOperatorMetadata(n),t(null,TensorFlowLiteOperatorMetadata.operatorMetadata)})}constructor(e){if(this._map={},e){var t=JSON.parse(e);t&&t.forEach(e=>{e.name&&e.schema&&(this._map[e.name]=e.schema)})}}getSchema(e){return this._map[e]}getInputs(e,t){for(var n=[],a=[],o=0;o<e.inputsLength();o++)a.push(e.inputs(o));for(var r=this.getSchema(t),s=0;s<a.length;){var d={connections:[]},l=1,p=null;if(r&&r.inputs&&s<r.inputs.length){var c=r.inputs[s];p=c.name,"variadic"==c.option&&(l=a.length-s),c.hasOwnProperty("visible")&&!c.visible&&(d.hidden=!0)}d.name=p?p:"("+s.toString()+")";for(var u=a.slice(s,s+l),f=0;f<u.length;f++)-1!=u[f]&&d.connections.push({id:u[f]});s+=l,n.push(d)}return n}getOutputName(e,t){var n=this.getSchema(e);if(n){var a=n.outputs;if(a&&t<a.length){var o=a[t];if(o&&(!o.option||"variadic"!=o.option)){var r=o.name;if(r)return r}}}return"("+t.toString()+")"}getAttributeSchema(e,t){var n=this.getSchema(e);if(n){var a=n.attributeMap;a||(a={},n.attributes&&n.attributes.forEach(e=>{a[e.name]=e}),n.attributeMap=a);var o=a[t];if(o)return o}return null}getAttributeType(e,t){var n=this.getAttributeSchema(e,t);return n?n.type:""}getAttributeVisible(e,t,n){var a=this.getAttributeSchema(e,t);if(a){if(a.hasOwnProperty("visible"))return a.visible;if(a.hasOwnProperty("default"))return n!=a.default}return!0}getOperatorCategory(e){var t=this.getSchema(e);return t&&t.category?t.category:null}}class TensorFlowLiteError extends Error{constructor(e){super(e),this.name="Error loading TensorFlow Lite model."}}class KerasModelFactory{match(e,t){var n=t.split(".").pop();if("keras"==n||"h5"==n||"hdf5"==n)return!0;if("json"==n&&!t.endsWith("-symbol.json")){var a=new TextDecoder("utf-8"),o=a.decode(e);if(!o.includes("\"mxnet_version\":"))return!0}return!1}open(e,t,n,a){n.import("/hdf5.js",o=>{if(o)return void a(o,null);try{var r="Keras",i=null,s=null,d=null,l=t.split(".").pop();if("keras"==l||"h5"==l||"hdf5"==l){var p=new hdf5.File(e);i=p.rootGroup;var c=i.attributes.model_config;if(!c)return void a(new KerasError("HDF5 file does not contain a 'model_config' graph. Use 'save()' instead of 'save_weights()' to save both the graph and weights."),null);d=JSON.parse(c)}else if("json"==l){var u=new window.TextDecoder("utf-8"),f=u.decode(e);d=JSON.parse(f),d&&d.modelTopology&&d.modelTopology.model_config&&(r="TensorFlow.js "+r,s=d,d=d.modelTopology.model_config)}if(!d)return void a(new KerasError("'model_config' is not present."));if(!d.class_name)return void a(new KerasError("'class_name' is not present."),null);var h=new KerasModel(r,d,i,s);KerasOperatorMetadata.open(n,()=>{a(null,h)})}catch(e){n.exception(e,!1),a(new KerasError(e.message),null)}})}}class KerasModel{constructor(e,t,n,a){this._format=e,this._graphs=[];var o=null,r=null;n?(n.attributes.keras_version&&(this._version=n.attributes.keras_version),n.attributes.backend&&(this._backend=n.attributes.backend),o=n.group("model_weights")):a&&(a.modelTopology&&a.modelTopology.keras_version&&(this._version=a.modelTopology.keras_version),a.modelTopology&&a.modelTopology.backend&&(this._backend=a.modelTopology.backend),a.weightsManifest&&(r={},a.weightsManifest.forEach(e=>{var t=!1,n=null;e.weights.forEach(e=>{var a=e.name.split("/").shift();null==n?(n=a,t=!0):n!=a&&(t=!1)}),t&&(r[n]=e)}))),this._activeGraph=new KerasGraph(t,o,r),this._graphs.push(this._activeGraph)}get name(){return null}get description(){return null}get format(){return this._format+(this._version?" v"+this._version:"")}get runtime(){return this._backend}get graphs(){return this._graphs}}class KerasGraph{constructor(e,t,n){switch(e.name?this._name=e.name:e.config&&e.config.name&&(this._name=e.config.name),this._inputs=[],this._outputs=[],this._nodes=[],this._groups=!1,this._operators={},e.class_name){case"Sequential":this._loadSequential(e.config,t,n,"",null,null);break;case"Model":this._loadModel(e.config,t,n,"",null,null);break;default:throw new KerasError("'"+e.class_name+"' is not supported.");}}get operators(){return this._operators}get name(){return this._name}get groups(){return!!this._groups}get inputs(){return this._inputs}get outputs(){return this._outputs}get nodes(){return this._nodes}_loadModel(e,t,n,a,o,r){if(a&&(this._groups=!0),e.layers){var i={};e.layers.forEach(e=>{e.name&&!i[e.name]&&(i[e.name]=e,e._inputs=[],e._outputs=[])}),e.layers.forEach(e=>{e.inbound_nodes&&e.inbound_nodes.forEach(t=>{t.forEach(t=>{var n=t[0],a=i[n];if(a){var o=t[2];for(0!=o&&(n+=":"+o.toString());o>=a._outputs.length;)a._outputs.push("");a._outputs[o]=n}e._inputs.push(n)})})})}e.input_layers&&e.input_layers.forEach((t,n)=>{var a=t[0],r={id:a,name:a},s=i[a];s&&"InputLayer"==s.class_name&&(this._loadInput(s,r),delete i[a]),o&&n<o.length?e.layers&&e.layers.forEach(e=>{e._inputs&&(e._inputs=e._inputs.map(e=>e==r.id?o[n]:e))}):this._inputs.push(r)}),e.output_layers&&e.output_layers.forEach((e,t)=>{var n=e[0],a=i[n],o=!0;if(r&&t<r.length&&(n=r[t],o=!1),a){var s=e[2];for(0!=s&&(n+=":"+s.toString());s>=a._outputs.length;)a._outputs.push("");a._outputs[s]=n}o&&this._outputs.push({id:n,type:"T",name:n})}),e.layers&&e.layers.forEach(e=>{this._operators[e.class_name]=(this._operators[e.class_name]||0)+1,i[e.name]&&this._loadNode(e,e._inputs,e._outputs,t,n,a)})}_loadSequential(e,t,n,a,o,r){a&&(this._groups=!0);var i="input";if(!o){var s={id:i,name:i};this._inputs.push(s)}var d=0;e.forEach(l=>{this._operators[l.class_name]=(this._operators[l.class_name]||0)+1;var p=d.toString(),c=[i];0==d&&(o&&0<o.length?c=[o[0]]:this._loadInput(l,s)),d++,l.config&&l.config.name&&(p=l.config.name),i=p;var u=[i];d==e.length&&r&&0<r.length&&(u=[r[0]],i=null),this._loadNode(l,c,u,t,n,a)}),i&&this._outputs.push({id:i,type:"T",name:i})}_loadNode(e,t,n,a,o,r){var i=e.class_name;switch(i){case"Sequential":this._loadSequential(e.config,a,o,e.name,t,n);break;case"Model":this._loadModel(e.config,a,o,e.name,t,n);break;default:var s=e.config;this._nodes.push(new KerasNode(i,s,t,n,r,a,o));}}_loadInput(e,t){if(t.type="",e&&e.config){var n=e.config;if(n.dtype&&(t.type=n.dtype,delete n.dtype),n.batch_input_shape){var a=n.batch_input_shape;a=a.map(e=>null==e?"?":e).join(","),t.type=t.type+"["+a+"]",delete n.batch_input_shape}}}}class KerasNode{constructor(e,t,n,a,o,r,i){if(o&&(this._group=o),this._operator=e,this._config=t,this._inputs=n,this._outputs=a,("Bidirectional"==e||"TimeDistributed"==e)&&this._config&&this._config.layer){var s=this._config.layer;this._inner=new KerasNode(s.class_name,s.config,[],[],null,null)}var d=this.name;if(this._initializers={},r){var l=null;if(o?l=r.group(o):t&&(l=r.group(t.name)),l){var p=l.attributes.weight_names;p&&(o&&(p=p.filter(e=>e.startsWith(d+"/"))),p.forEach(e=>{var t=l.group(e);if(t){var n=t.value;n&&(this._inputs.push(e),this._initializers[e]=new KerasTensor(n.type,n.shape,n.rawData,""))}}))}}else if(i){var c=i[d];c&&c.weights.forEach(e=>{e.name&&(this._inputs.push(e.name),this._initializers[e.name]=new KerasTensor(e.dtype,e.shape,null,c.paths.join(";")))})}}get operator(){return this._operator}get documentation(){return KerasOperatorMetadata.operatorMetadata.getOperatorDocumentation(this.operator)}get name(){if(this._config&&this._config.name)return this._config.name;debugger;return""}get group(){return this._group?this._group:""}get category(){return KerasOperatorMetadata.operatorMetadata.getOperatorCategory(this.operator)}get inputs(){var e=KerasOperatorMetadata.operatorMetadata.getInputs(this,this._inputs);return e.forEach(e=>{e.connections.forEach(e=>{var t=this._initializers[e.id];t&&(e.type=t.type.toString(),e.initializer=t)})}),e}get outputs(){var e=[];return this._outputs.forEach((t,n)=>{var a={connections:[]};a.name=KerasOperatorMetadata.operatorMetadata.getOutputName(this.operator,n),a.connections.push({id:t}),e.push(a)}),e}get attributes(){var e=[];return this._config&&Object.keys(this._config).forEach(t=>{var n=this._config[t];if("name"!=t&&null!=n){var a=KerasOperatorMetadata.operatorMetadata.getAttributeVisible(this.operator,t,n);e.push(new KerasAttribute(t,n,a))}}),e}get dependencies(){return[]}get inner(){return this._inner}}class KerasAttribute{constructor(e,t,n){this._name=e,this._value=t,n||(this._hidden=!0)}get name(){return this._name}get value(){return!0===this._value?"true":!1===this._value?"false":null===this._value?"null":0==this._value?0:"object"==typeof this._value&&this._value.class_name&&this._value.config?this._value.class_name+"("+Object.keys(this._value.config).map(e=>{var t=this._value.config[e];return e+"="+JSON.stringify(t)}).join(", ")+")":this._value?JSON.stringify(this._value):"?"}get visible(){return!this._hidden}}class KerasTensor{constructor(e,t,n,a){this._type=new KerasTensorType(e,t),this._data=n,this._reference=a}get kind(){return"Weights"}get name(){return this._name}get type(){return this._type}get reference(){return this._reference}get value(){var e=this._decode(Number.MAX_SAFE_INTEGER);return e.error?null:e.value}toString(){var e=this._decode(1e4);return e.error?e.error:JSON.stringify(e.value,null,4)}_decode(e){var t={};if(this._reference)return t.value="Tensor reference not implemented.",t;if(!this._data)return t.error="Tensor data is empty.",t;var n={index:0,count:0,limit:e};switch(this._type){case"float16":n.precision=16;break;case"float32":n.precision=32;break;case"float64":n.precision=64;break;default:return t.error="Tensor data type is not supported.",t.error;}return n.rawData=new DataView(this._data.buffer,this._data.byteOffset,this._data.byteLength),t.value=this._decodeDimension(n,0),t}_decodeDimension(e,t){var n=[],a=this._shape[t];if(t==this._shape.length-1)for(var o=0;o<a;o++){if(e.count>e.limit)return n.push("..."),n;if(e.rawData){switch(e.precision){case 16:n.push(KerasTensor._decodeNumberFromFloat16(e.rawData.getUint16(e.index,!0))),e.index+=2;break;case 32:n.push(e.rawData.getFloat32(e.index,!0)),e.index+=4;break;case 64:n.push(e.rawData.getFloat64(e.index,!0)),e.index+=8;}e.count++}}else for(var r=0;r<a;r++){if(e.count>e.limit)return n.push("..."),n;n.push(this._decodeDimension(e,t+1))}return n}static _decodeNumberFromFloat16(t){var n=(32768&t)>>15,a=(31744&t)>>10,e=1023&t;if(0==a)return 0.00006103515625*(n?-1:1)*(e/1024);return 31==a?e?NaN:(n?-1:1)*(1/0):(n?-1:1)*Math.pow(2,a-15)*(1+e/1024)}}class KerasTensorType{constructor(e,t){this._dataType=e,this._shape=t}get dataType(){return this._dataType}get shape(){return this._shape}toString(){return this.dataType+(this._shape?"["+this._shape.map(e=>e.toString()).join(",")+"]":"")}}class KerasOperatorMetadata{static open(e,t){KerasOperatorMetadata.operatorMetadata?t(null,KerasOperatorMetadata.operatorMetadata):e.request("/keras-metadata.json",(e,n)=>{KerasOperatorMetadata.operatorMetadata=new KerasOperatorMetadata(n),t(null,KerasOperatorMetadata.operatorMetadata)})}constructor(e){if(this._map={},e){var t=JSON.parse(e);t&&t.forEach(e=>{e.name&&e.schema&&(this._map[e.name]=e.schema)})}}getInputs(e,t){for(var n=[],a=e.operator,o=this._map[a],r=e.inner,i=r?r.operator:null,s=i?this._map[i]:null,d=0;d<t.length;){var l={connections:[]},p=1,c=null;if(!(!s||0==d))switch(a){case"Bidirectional":var u=d;s&&s.inputs&&(u<s.inputs.length?c="forward_"+s.inputs[u].name:(u=u-s.inputs.length+1,u<s.inputs.length&&(c="backward_"+s.inputs[u].name))),l.hidden=!0;break;case"TimeDistributed":s&&s.inputs&&d<s.inputs.length&&(c=s.inputs[d].name);}else if(o&&o.inputs&&d<o.inputs.length){var f=o.inputs[d];c=f.name,"variadic"==o.inputs[d].option&&(p=t.length-d)}l.name=c?c:"("+d.toString()+")";for(var h=t.slice(d,d+p),g=0;g<h.length;g++)l.connections.push({id:h[g]});d+=p,n.push(l)}return n}getOutputName(e,t){var n=this._map[e];if(n){var a=n.outputs;if(a&&t<a.length){var o=a[t];if(o){var r=o.name;if(r)return r}}}return"("+t.toString()+")"}getAttributeVisible(e,t,n){if("trainable"==t)return!1;if(("Bidirectional"==e||"TimeDistributed"==e)&&"layer"==t)return!1;var a=this._map[e];if(a&&a.attributes&&0<a.attributes.length){a.attributeMap||(a.attributeMap={},a.attributes.forEach(e=>{a.attributeMap[e.name]=e}));var o=a.attributeMap[t];if(o){if(o.hasOwnProperty("visible"))return o.visible;if(o.hasOwnProperty("default"))return!KerasOperatorMetadata.isEquivalent(o.default,n)}}return!0}getOperatorCategory(e){var t=this._map[e];if(t){var n=t.category;if(n)return n}return null}getOperatorDocumentation(e){var t=this._map[e];return t?(t=JSON.parse(JSON.stringify(t)),t.name=e,t.description&&(t.description=marked(t.description)),t.attributes&&t.attributes.forEach(e=>{e.description&&(e.description=marked(e.description))}),t.inputs&&t.inputs.forEach(e=>{e.description&&(e.description=marked(e.description))}),t.outputs&&t.outputs.forEach(e=>{e.description&&(e.description=marked(e.description))}),t.references&&t.references.forEach(e=>{e&&(e.description=marked(e.description))}),t):""}static isEquivalent(e,t){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!==e)return t!==t;var n=typeof e;if("function"!=n&&"object"!=n&&"object"!=typeof t)return!1;var a=toString.call(e);if(a!==toString.call(t))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e==+e?0==+e?1/+e==1/t:+e==+t:+t!=+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Array]":var o=e.length;if(o!==t.length)return!1;for(;o--;)if(!KerasOperatorMetadata.isEquivalent(e[o],t[o]))return!1;return!0;}var r=Object.keys(e),i=r.length;if(Object.keys(t).length!=i)return!1;for(;i--;){var s=r[i];if(!(t.hasOwnProperty(s)&&KerasOperatorMetadata.isEquivalent(e[s],t[s])))return!1}return!0}}class KerasError extends Error{constructor(e){super(e),this.name="Error loading Keras model."}}var coreml=null;class CoreMLModelFactory{match(e,t){var n=t.split(".").pop();return"mlmodel"==n}open(e,t,n,a){n.import("/coreml.js",t=>{if(t)return void a(t,null);var o=null;try{coreml=protobuf.roots.coreml.CoreML.Specification,o=coreml.Model.decode(e)}catch(e){return void a(new CoreMLError("Protocol Buffer loader failed to decode coreml.Model input stream ("+e.message+")."),null)}var r=null;try{r=new CoreMLModel(o)}catch(e){return n.exception(e,!1),void a(new CoreMLError(e.message),null)}CoreMLOperatorMetadata.open(n,()=>{a(null,r)})})}}class CoreMLModel{constructor(e){if(this._specificationVersion=e.specificationVersion,this._graphs=[new CoreMLGraph(e)],e.description&&e.description.metadata){var t=e.description.metadata;if(t.versionString&&(this._version=t.versionString),t.author&&(this._author=t.author),t.shortDescription&&(this._description=t.shortDescription),t.license&&(this._license=t.license),t.userDefined&&0<Object.keys(t.userDefined).length)debugger}}get format(){return"CoreML v"+this._specificationVersion.toString()}get version(){return this._version||null}get description(){return this._description||null}get author(){return this._author||null}get license(){return this._license||null}get graphs(){return this._graphs}}class CoreMLGraph{constructor(e){this._description=e.description,this._groups=!1,this._inputs=this._description.input.map(e=>({id:e.name,name:e.name,description:e.shortDescription,type:CoreMLGraph.formatFeatureType(e.type)})),this._outputs=this._description.output.map(e=>({id:e.name,name:e.name,description:e.shortDescription,type:CoreMLGraph.formatFeatureType(e.type)})),this._nodes=[],this._operators={},this._type=this._loadModel(e,{},"")}get operators(){return this._operators}get name(){return""}get type(){return this._type}get inputs(){return this._inputs}get outputs(){return this._outputs}get nodes(){return this._nodes}get groups(){return this._groups}_updateOutput(e,t){return this._nodes.forEach(n=>{n._outputs=n._outputs.map(n=>n==e?t:n)}),t}_updateClassifierOutput(e,t){var n=t.labelProbabilityLayerName;!n&&0<this._nodes.length&&(n=this._nodes.slice(-1).pop()._outputs[0]);var a=this._description.predictedFeatureName,o=this._description.predictedProbabilitiesName;if((a||o)&&n&&t.ClassLabels){a=a?a:"?",o=o?o:"?";var r=this._updateOutput(n,n+":labelProbabilityLayerName"),i=t.ClassLabels;this._operators[i]=(this._operators[i]||0)+1,this._nodes.push(new CoreMLNode(e,i,null,t[i],[r],[o,a]))}}_loadModel(e,t,n){if(this._groups|=!!(0<n.length),e.neuralNetworkClassifier){var a=e.neuralNetworkClassifier;if(a.layers.forEach(e=>{var a=e.layer;this._createNode(t,n,a,e.name,e[a],e.input,e.output)}),this._updateClassifierOutput(n,a),a.preprocessing&&0<a.preprocessing.length){var o=this._description.input[0].name,r=[];this._nodes.forEach(e=>{e._inputs.some(e=>e==o)&&r.push(e)});var i=o,s=0;a.preprocessing.forEach(e=>{var a=e.preprocessor,r=e.featureName?e.featureName:i;i=o+":"+s.toString(),this._createNode(t,n,a,null,e[a],[r],[i]),s++}),r.forEach(e=>{e._inputs=e._inputs.map(e=>e==o?i:e)})}return"Neural Network Classifier"}if(e.neuralNetwork)return e.neuralNetwork.layers.forEach(e=>{var a=e.layer;this._createNode(t,n,a,e.name,e[a],e.input,e.output)}),"Neural Network";if(e.neuralNetworkRegressor)return e.neuralNetworkRegressor.layers.forEach(e=>{var a=e.layer;this._createNode(t,n,a,e.name,e[a],e.input,e.output)}),"Neural Network Regressor";if(e.pipeline)return e.pipeline.models.forEach(e=>{this._loadModel(e,t,(n?n+"/":"")+"pipeline")}),"Pipeline";if(e.pipelineClassifier)return e.pipelineClassifier.pipeline.models.forEach(e=>{this._loadModel(e,t,(n?n+"/":"")+"pipelineClassifier")}),"Pipeline Classifier";if(e.pipelineRegressor)return e.pipelineRegressor.pipeline.models.forEach(e=>{this._loadModel(e,t,(n?n+"/":"")+"pipelineRegressor")}),"Pipeline Regressor";if(e.glmClassifier)return this._createNode(t,n,"glmClassifier",null,{classEncoding:e.glmClassifier.classEncoding,offset:e.glmClassifier.offset,weights:e.glmClassifier.weights},[e.description.input[0].name],[e.description.predictedProbabilitiesName]),this._updateClassifierOutput(n,e.glmClassifier),"Generalized Linear Classifier";if(e.glmRegressor)return this._createNode(t,n,"glmRegressor",null,e.glmRegressor,[e.description.input[0].name],[e.description.output[0].name]),"Generalized Linear Regressor";if(e.dictVectorizer)return this._createNode(t,n,"dictVectorizer",null,e.dictVectorizer,[e.description.input[0].name],[e.description.output[0].name]),"Dictionary Vectorizer";if(e.featureVectorizer)return this._createNode(t,n,"featureVectorizer",null,e.featureVectorizer,CoreMLGraph.formatFeatureDescriptionList(e.description.input),[e.description.output[0].name]),"Feature Vectorizer";if(e.treeEnsembleClassifier)return this._createNode(t,n,"treeEnsembleClassifier",null,e.treeEnsembleClassifier.treeEnsemble,[e.description.input[0].name],[e.description.output[0].name]),this._updateClassifierOutput(n,e.treeEnsembleClassifier),"Tree Ensemble Classifier";if(e.treeEnsembleRegressor)return this._createNode(t,n,"treeEnsembleRegressor",null,e.treeEnsembleRegressor.treeEnsemble,[e.description.input[0].name],[e.description.output[0].name]),"Tree Ensemble Regressor";if(e.supportVectorClassifier)return this._createNode(t,n,"supportVectorClassifier",null,{coefficients:e.supportVectorClassifier.coefficients,denseSupportVectors:e.supportVectorClassifier.denseSupportVectors,kernel:e.supportVectorClassifier.kernel,numberOfSupportVectorsPerClass:e.supportVectorClassifier.numberOfSupportVectorsPerClass,probA:e.supportVectorClassifier.probA,probB:e.supportVectorClassifier.probB,rho:e.supportVectorClassifier.rho,supportVectors:e.supportVectorClassifier.supportVectors},[e.description.input[0].name],[e.description.output[0].name]),this._updateClassifierOutput(n,e.supportVectorClassifier),"Support Vector Classifier";if(e.supportVectorRegressor)return this._createNode(t,n,"supportVectorRegressor",null,{coefficients:e.supportVectorRegressor.coefficients,kernel:e.supportVectorRegressor.kernel,rho:e.supportVectorRegressor.rho,supportVectors:e.supportVectorRegressor.supportVectors},[e.description.input[0].name],[e.description.output[0].name]),"Support Vector Regressor";if(e.arrayFeatureExtractor)return this._createNode(t,n,"arrayFeatureExtractor",null,{extractIndex:e.arrayFeatureExtractor.extractIndex},[e.description.input[0].name],[e.description.output[0].name]),"Array Feature Extractor";if(e.oneHotEncoder){var d=e.oneHotEncoder.CategoryType,l={outputSparse:e.oneHotEncoder.outputSparse};return l[d]=e.oneHotEncoder[d],this._createNode(t,n,"oneHotEncoder",null,l,[e.description.input[0].name],[e.description.output[0].name]),"One Hot Encoder"}if(e.imputer){var p=e.imputer.ImputedValue,c=e.imputer.ReplaceValue,u={};return u[p]=e.imputer[p],u[c]=e.imputer[c],this._createNode(t,n,"oneHotEncoder",null,u,[e.description.input[0].name],[e.description.output[0].name]),"Imputer"}return e.normalizer&&this._createNode(t,n,"normalizer",null,e.normalizer,[e.description.input[0].name],[e.description.output[0].name]),"Unknown"}_createNode(e,t,n,a,o,r,i){this._operators[n]=(this._operators[n]||0)+1,r=r.map(t=>e[t]?e[t].connection:t),i=i.map(t=>{if(e[t]){e[t].counter++;var n=t+"\n"+e[t].counter.toString();return e[t].connection=n,n}return e[t]={connection:t,counter:0},t});var s=new CoreMLNode(t,n,a,o,r,i);return this._nodes.push(s),s}static formatFeatureType(e){var t="";switch(e.Type){case"multiArrayType":t=CoreMLGraph.formatArrayDataType(e.multiArrayType.dataType),e.multiArrayType.shape&&0<e.multiArrayType.shape.length&&(t+="["+e.multiArrayType.shape.map(e=>e.toString()).join(",")+"]");break;case"imageType":t="image("+CoreMLGraph.formatColorSpace(e.imageType.colorSpace)+","+e.imageType.width.toString()+"x"+e.imageType.height.toString()+")";break;case"dictionaryType":t="map<"+e.dictionaryType.KeyType.replace("KeyType","")+",double>";break;case"stringType":t="string";break;case"doubleType":t="double";break;case"int64Type":t="int64";}return e.isOptional&&(t+="?"),t}static formatArrayDataType(e){return e===coreml.ArrayFeatureType.ArrayDataType.FLOAT32?"float32":e===coreml.ArrayFeatureType.ArrayDataType.INT32?"int32":e===coreml.ArrayFeatureType.ArrayDataType.DOUBLE?"double":"?"}static formatColorSpace(e){return e===coreml.ImageFeatureType.ColorSpace.GRAYSCALE?"Grayscale":e===coreml.ImageFeatureType.ColorSpace.RGB?"RGB":e===coreml.ImageFeatureType.ColorSpace.BGR?"BGR":"?"}static formatFeatureDescriptionList(e){return e.map(e=>e.name)}}class CoreMLNode{constructor(e,t,n,a,o,r){if(e&&(this._group=e),this._operator=t,this._name=n,this._inputs=o,this._outputs=r,this._attributes=[],this._initializers=[],a){var i=this.initializer(a);Object.keys(a).forEach(e=>{i[e]||this._attributes.push(new CoreMLAttribute(this,e,a[e]))})}}get operator(){return this._operator}get name(){return this._name}get category(){return CoreMLOperatorMetadata.operatorMetadata.getOperatorCategory(this.operator)}get group(){return this._group?this._group:null}get documentation(){return CoreMLOperatorMetadata.operatorMetadata.getOperatorDocumentation(this.operator)}get inputs(){var e=[];return CoreMLOperatorMetadata.operatorMetadata.getInputs(this._operator,this._inputs).forEach(t=>{e.push(t)}),this._initializers.forEach(t=>{var n={name:t.name,connections:[{id:"",type:t.type.toString(),initializer:t}]};CoreMLOperatorMetadata.operatorMetadata.getInputVisible(this._operator,t.name)||(n.hidden=!0),e.push(n)}),e}get outputs(){var e=[];return this._outputs.forEach((t,n)=>{e.push({name:CoreMLOperatorMetadata.operatorMetadata.getOutputName(this._operator,n),connections:[{id:t}]})}),e}get attributes(){return this._attributes}initializer(e){switch(this._operator){case"convolution":var t=[e.outputChannels,e.kernelChannels,e.kernelSize[0],e.kernelSize[1]];return e.isDeconvolution&&(t[0]=e.kernelChannels,t[1]=Math.floor(e.outputChannels/(0==e.nGroups?1:e.nGroups))),this._initializers.push(new CoreMLTensor("Weights","weights",t,e.weights)),e.hasBias&&this._initializers.push(new CoreMLTensor("Weights","bias",[e.bias.floatValue.length],e.bias)),{weights:!0,bias:e.hasBias};case"innerProduct":return this._initializers.push(new CoreMLTensor("Weights","weights",[e.outputChannels,e.inputChannels],e.weights)),e.hasBias&&this._initializers.push(new CoreMLTensor("Weights","bias",[e.outputChannels],e.bias)),{weights:!0,bias:e.hasBias};case"batchnorm":return this._initializers.push(new CoreMLTensor("Weights","gamma",[e.channels],e.gamma)),this._initializers.push(new CoreMLTensor("Weights","beta",[e.channels],e.beta)),e.mean&&this._initializers.push(new CoreMLTensor("Weights","mean",[e.channels],e.mean)),e.variance&&this._initializers.push(new CoreMLTensor("Weights","variance",[e.channels],e.variance)),{gamma:!0,beta:!0,mean:!0,variance:!0};case"embedding":return this._initializers.push(new CoreMLTensor("Weights","weights",[e.inputDim,e.outputChannels],e.weights)),{weights:!0};case"loadConstant":return this._initializers.push(new CoreMLTensor("Weights","data",e.shape,e.data)),{data:!0};case"scale":return this._initializers.push(new CoreMLTensor("Weights","scale",e.shapeScale,e.scale)),e.hasBias&&this._initializers.push(new CoreMLTensor("Weights","bias",e.shapeBias,e.bias)),{scale:!0,bias:e.hasBias};case"bias":return this._initializers.push(new CoreMLTensor("Weights","bias",e.shapeBias,e.bias)),{bias:!0};case"simpleRecurrentLayer":return this._initializers.push(new CoreMLTensor("Weights","weights",null,e.weightMatrix)),this._initializers.push(new CoreMLTensor("Weights","recurrent",null,e.recursionMatrix)),e.hasBiasVectors&&this._initializers.push(new CoreMLTensor("Weights","bias",null,e.biasVector)),{weightMatrix:!0,recursionMatrix:!0,biasVector:e.hasBiasVectors};case"gru":return this._initializers.push(new CoreMLTensor("Weights","updateGateWeightMatrix",null,e.updateGateWeightMatrix)),this._initializers.push(new CoreMLTensor("Weights","resetGateWeightMatrix",null,e.resetGateWeightMatrix)),this._initializers.push(new CoreMLTensor("Weights","outputGateWeightMatrix",null,e.outputGateWeightMatrix)),this._initializers.push(new CoreMLTensor("Weights","updateGateRecursionMatrix",null,e.updateGateRecursionMatrix)),this._initializers.push(new CoreMLTensor("Weights","resetGateRecursionMatrix",null,e.resetGateRecursionMatrix)),this._initializers.push(new CoreMLTensor("Weights","outputGateRecursionMatrix",null,e.outputGateRecursionMatrix)),e.hasBiasVectors&&(this._initializers.push(new CoreMLTensor("Weights","updateGateBiasVector",null,e.updateGateBiasVector)),this._initializers.push(new CoreMLTensor("Weights","resetGateBiasVector",null,e.resetGateBiasVector)),this._initializers.push(new CoreMLTensor("Weights","outputGateBiasVector",null,e.outputGateBiasVector))),{updateGateWeightMatrix:!0,resetGateWeightMatrix:!0,outputGateWeightMatrix:!0,updateGateRecursionMatrix:!0,resetGateRecursionMatrix:!0,outputGateRecursionMatrix:!0,updateGateBiasVector:e.hasBiasVectors,resetGateBiasVector:e.hasBiasVectors,outputGateBiasVector:e.hasBiasVectors};case"uniDirectionalLSTM":case"biDirectionalLSTM":for(var n="uniDirectionalLSTM"==this._operator?1:2,a=[e.outputVectorSize,e.inputVectorSize],o=[e.outputVectorSize],r=0;r<n;r++){var s=1==n?e.weightParams:e.weightParams[r],d=0==r?"":"_rev";this._initializers.push(new CoreMLTensor("Weights","inputGateWeightMatrix"+d,a,s.inputGateWeightMatrix)),this._initializers.push(new CoreMLTensor("Weights","forgetGateWeightMatrix"+d,a,s.forgetGateWeightMatrix)),this._initializers.push(new CoreMLTensor("Weights","blockInputWeightMatrix"+d,a,s.blockInputWeightMatrix)),this._initializers.push(new CoreMLTensor("Weights","outputGateWeightMatrix"+d,a,s.outputGateWeightMatrix)),this._initializers.push(new CoreMLTensor("Weights","inputGateRecursionMatrix"+d,a,s.inputGateRecursionMatrix)),this._initializers.push(new CoreMLTensor("Weights","forgetGateRecursionMatrix"+d,a,s.forgetGateRecursionMatrix)),this._initializers.push(new CoreMLTensor("Weights","blockInputRecursionMatrix"+d,a,s.blockInputRecursionMatrix)),this._initializers.push(new CoreMLTensor("Weights","outputGateRecursionMatrix"+d,a,s.outputGateRecursionMatrix)),e.params.hasBiasVectors&&(this._initializers.push(new CoreMLTensor("Weights","inputGateBiasVector"+d,o,s.inputGateBiasVector)),this._initializers.push(new CoreMLTensor("Weights","forgetGateBiasVector"+d,o,s.forgetGateBiasVector)),this._initializers.push(new CoreMLTensor("Weights","blockInputBiasVector"+d,o,s.blockInputBiasVector)),this._initializers.push(new CoreMLTensor("Weights","outputGateBiasVector"+d,o,s.outputGateBiasVector))),e.params.hasPeepholeVectors&&(this._initializers.push(new CoreMLTensor("Weights","inputGatePeepholeVector"+d,o,s.inputGatePeepholeVector)),this._initializers.push(new CoreMLTensor("Weights","forgetGatePeepholeVector"+d,o,s.forgetGatePeepholeVector)),this._initializers.push(new CoreMLTensor("Weights","outputGatePeepholeVector"+d,o,s.outputGatePeepholeVector)))}return{weightParams:!0};}return{}}}class CoreMLAttribute{constructor(e,t,n){this._owner=e,this._name=t,this._value=n}get name(){return this._name}get value(){return Array.isArray(this._value)?this._value.map(e=>JSON.stringify(e)).join(", "):Number.isNaN(this._value)?"NaN":JSON.stringify(this._value)}get visible(){return CoreMLOperatorMetadata.operatorMetadata.getAttributeVisible(this._owner.operator,this._name)}}class CoreMLTensor{constructor(e,t,n,a){this._kind=e,this._name=t,this._data=null;var o="?";a&&(a.floatValue&&0<a.floatValue.length?(this._data=a.floatValue,o="float32",this._shape=n):a.float16Value&&0<a.float16Value.length?(this._data=a.float16Value,o="float16",this._shape=n):a.rawValue&&0<a.rawValue.length&&(this._data=null,o="byte",this._shape=[])),this._type=new CoreMLTensorType(o,n)}get id(){return this._name}get name(){return this._name}get kind(){return this._kind}get type(){return this._type}get value(){var e=this._decode(Number.MAX_SAFE_INTEGER);return e.error?null:e.value}toString(){var e=this._decode(1e4);return e.error?e.error:JSON.stringify(e.value,null,4)}_decode(e){var t={};if(!this._data)return t.error="Tensor data is empty.",t;var n={};return n.index=0,n.count=0,n.limit=e,n.data=this._data,t.value=this._decodeDimension(n,0),t}_decodeDimension(e,t){var n=[],a=this._shape[t];if(t==this._shape.length-1)for(var o=0;o<a;o++){if(e.count>e.limit)return n.push("..."),n;n.push(this._data[e.index]),e.index++,e.count++}else for(var r=0;r<a;r++){if(e.count>e.limit)return n.push("..."),n;n.push(this._decodeDimension(e,t+1))}return n}}class CoreMLTensorType{constructor(e,t){this._dataType=e,this._shape=t}get dataType(){return this._dataType}get shape(){return this._shape}toString(){return this.dataType+(this._shape?"["+this._shape.map(e=>e.toString()).join(",")+"]":"")}}class CoreMLOperatorMetadata{static open(e,t){CoreMLOperatorMetadata.operatorMetadata?t(null,CoreMLOperatorMetadata.operatorMetadata):e.request("/coreml-metadata.json",(e,n)=>{CoreMLOperatorMetadata.operatorMetadata=new CoreMLOperatorMetadata(n),t(null,CoreMLOperatorMetadata.operatorMetadata)})}constructor(e){if(this._map={},e){var t=JSON.parse(e);t&&t.forEach(e=>{if(e.name&&e.schema){var t=e.name,n=e.schema;this._map[t]=n}})}}getOperatorCategory(e){var t=this._map[e];return t&&t.category?t.category:null}getInputs(e,t){for(var n=[],a=this._map[e],o=0;o<t.length;){var r={connections:[]},i=1,s=null;if(!(a&&a.inputs))0==o&&(s="input");else if(o<a.inputs.length){var d=a.inputs[o];s=d.name,"variadic"==a.inputs[o].option&&(i=t.length-o)}r.name=s?s:"("+o.toString()+")";for(var l=t.slice(o,o+i),p=0;p<l.length;p++)r.connections.push({id:l[p]});o+=i,n.push(r)}return n}getInputVisible(e,t){var n=this._map[e];if(n&&n.inputs){n.inputsMap||(n.inputsMap={},n.inputs.forEach(e=>{n.inputsMap[e.name]=e}));var a=n.inputsMap[t];if(a&&a.hasOwnProperty("visible"))return a.visible}return!0}getOutputName(e,t){var n=this._map[e];if(n){var a=n.outputs;if(a&&t<a.length){var o=a[t];if(o){var r=o.name;if(r)return r}}}return 0==t?"output":"("+t.toString()+")"}getAttributeVisible(e,t,n){var a=this._map[e];if(a&&a.attributes&&0<a.attributes.length){a.attributesMap||(a.attributesMap={},a.attributes.forEach(e=>{a.attributesMap[e.name]=e}));var o=a.attributesMap[t];if(o){if(o.hasOwnProperty("visible"))return o.visible;if(o.hasOwnProperty("default"))return JSON.stringify(o.default)==JSON.stringify(n)}}return!0}getOperatorDocumentation(e){var t=this._map[e];return t?(t=JSON.parse(JSON.stringify(t)),t.name=e,t.description&&(t.description=marked(t.description)),t.attributes&&t.attributes.forEach(e=>{e.description&&(e.description=marked(e.description))}),t.inputs&&t.inputs.forEach(e=>{e.description&&(e.description=marked(e.description))}),t.outputs&&t.outputs.forEach(e=>{e.description&&(e.description=marked(e.description))}),t):""}}class CoreMLError extends Error{constructor(e){super(e),this.name="Error loading CoreML model."}}var caffe=null;class CaffeModelFactory{match(e,t){var n=t.split(".").pop();return"caffemodel"==n}open(e,t,n,a){n.import("/caffe.js",t=>{if(t)return void a(t,null);var o=null;try{caffe=protobuf.roots.caffe.caffe,o=caffe.NetParameter.decode(e)}catch(e){return void a(new CaffeError("Protocol Buffer loader failed to decode caffe.NetParameter input stream ("+e.message+")."),null)}var r=null;try{r=new CaffeModel(o)}catch(e){return n.exception(e,!1),void a(new CaffeError(e.message),null)}CaffeOperatorMetadata.open(n,()=>{a(null,r)})})}}class CaffeModel{constructor(e){this._name=e.name,e.layers&&0<e.layers.length?e.layers.every(e=>e.hasOwnProperty("layer"))?this._version=0:this._version=1:e.layer&&0<e.layer.length&&(this._version=2);var t=new CaffeGraph(e,this._version);this._graphs=[t]}get format(){return"Caffe"+(this.hasOwnProperty("_version")?" v"+this._version.toString():"")}get graphs(){return this._graphs}}class CaffeGraph{constructor(e,t){this._nodes=[],this._inputs=[],this._outputs=[],this._operators={};var n=[];0===t||1===t?n=e.layers:2===t?n=e.layer:void 0;var a={};if(n.forEach((e,t)=>{e.bottom=e.bottom.map(e=>a[e]?a[e]:e),e.top=e.top.map(e=>{if(a[e]){var n=e+"\n"+t.toString();return a[e]=n,n}return a[e]=e,e})}),n.forEach(e=>{var n=new CaffeNode(e,t);this._operators[n.operator]=(this._operators[n.operator]||0)+1,this.translateInput(n)||this._nodes.push(n)}),e.input&&0<e.input.length&&e.input.forEach(e=>{this._inputs.push({id:e,name:e,type:"T"})}),0==this._outputs.length){var o={},r={},i=[];this._nodes.forEach(e=>{0==e._outputs.length?i.push(e):e._outputs.forEach(t=>{o[t]=e}),e._inputs.forEach(e=>{r[e]?r[e]++:r[e]=1})}),Object.keys(o).forEach(e=>{r[e]&&delete o[e]});var s=Object.keys(o);1==s.length?this._outputs.push({id:s[0],name:s[0],type:"T"}):1==i.length&&(i[0]._outputs=["output"],this._outputs.push({id:"output",name:"output",type:"T"}))}}get operators(){return this._operators}get name(){return this._name}get type(){return""}get inputs(){return this._inputs}get outputs(){return this._outputs}get nodes(){return this._nodes}translateInput(e){if("Input"==e.operator&&0==e._inputs.length&&1==e._outputs.length){var t=e._outputs[0],n=e.attributes;if(1==n.length){var a=n[0];if("shape"==a.name&&1==a._value.length&&a._value[0].dim)return this._inputs.push({id:t,name:t,type:"T"+JSON.stringify(a._value[0].dim)}),!0}}return!1}}class CaffeNode{constructor(e,t){0===t?(this._type=e.layer.type,this._name=e.layer.name):1===t?(this._type=CaffeNode.getOperator(e.type),this._name=e.name):2===t?(this._type=e.type,this._name=e.name):void 0;this._inputs=e.bottom,this._outputs=e.top,this._initializers=[],this._attributes=[];0===t?(Object.keys(e.layer).forEach(t=>{if("type"!=t&&"name"!=t&&"blobs"!=t&&"blobsLr"!=t){var n=e.layer[t];this._attributes.push(new CaffeAttribute(this,t,n))}}),e.layer.blobs.forEach(e=>{this._initializers.push(new CaffeTensor(e))})):1===t||2===t?(Object.keys(e).forEach(t=>{if(t.endsWith("Param")){var n=e[t],a=this._type;"Deconvolution"==a&&(a="Convolution"),n.constructor.name==a+"Parameter"&&Object.keys(n).forEach(e=>{var t=n[e];this._attributes.push(new CaffeAttribute(this,e,t))})}}),e.blobs.forEach(e=>{this._initializers.push(new CaffeTensor(e))})):void 0}get operator(){return this._type}get category(){return CaffeOperatorMetadata.operatorMetadata.getOperatorCategory(this._type)}get name(){return this._name}get inputs(){var e=this._inputs.concat(this._initializers),t=CaffeOperatorMetadata.operatorMetadata.getInputs(this._type,e);return t.forEach(e=>{e.connections.forEach(e=>{e.id instanceof CaffeTensor&&(e.initializer=e.id,e.type=e.initializer.type.toString(),e.id="")})}),t}get outputs(){var e=CaffeOperatorMetadata.operatorMetadata.getOutputs(this._type,this._outputs);return e}get attributes(){return this._attributes}static getOperator(e){CaffeNode._operatorMap||(CaffeNode._operatorMap={},CaffeNode._operatorMap[caffe.V1LayerParameter.LayerType.NONE]="None",CaffeNode._operatorMap[caffe.V1LayerParameter.LayerType.ACCURACY]="Accuracy",CaffeNode._operatorMap[caffe.V1LayerParameter.LayerType.BNLL]="BNLL",CaffeNode._operatorMap[caffe.V1LayerParameter.LayerType.CONCAT]="Concat",CaffeNode._operatorMap[caffe.V1LayerParameter.LayerType.CONVOLUTION]="Convolution",CaffeNode._operatorMap[caffe.V1LayerParameter.LayerType.DATA]="Data",CaffeNode._operatorMap[caffe.V1LayerParameter.LayerType.DROPOUT]="Dropout",CaffeNode._operatorMap[caffe.V1LayerParameter.LayerType.EUCLIDEAN_LOSS]="EuclideanLoss",CaffeNode._operatorMap[caffe.V1LayerParameter.LayerType.FLATTEN]="Flatten",CaffeNode._operatorMap[caffe.V1LayerParameter.LayerType.HDF5_DATA]="HDF5Data",CaffeNode._operatorMap[caffe.V1LayerParameter.LayerType.HDF5_OUTPUT]="HDF5Output",CaffeNode._operatorMap[caffe.V1LayerParameter.LayerType.IM2COL]="Im2col",CaffeNode._operatorMap[caffe.V1LayerParameter.LayerType.IMAGE_DATA]="ImageData",CaffeNode._operatorMap[caffe.V1LayerParameter.LayerType.INFOGAIN_LOSS]="InfogainLoss",CaffeNode._operatorMap[caffe.V1LayerParameter.LayerType.INNER_PRODUCT]="InnerProduct",CaffeNode._operatorMap[caffe.V1LayerParameter.LayerType.LRN]="LRN",CaffeNode._operatorMap[caffe.V1LayerParameter.LayerType.MULTINOMIAL_LOGISTIC_LOSS]="MultinomialLogisticLoss",CaffeNode._operatorMap[caffe.V1LayerParameter.LayerType.POOLING]="Pooling",CaffeNode._operatorMap[caffe.V1LayerParameter.LayerType.RELU]="ReLU",CaffeNode._operatorMap[caffe.V1LayerParameter.LayerType.SIGMOID]="Sigmoid",CaffeNode._operatorMap[caffe.V1LayerParameter.LayerType.SOFTMAX]="Softmax",CaffeNode._operatorMap[caffe.V1LayerParameter.LayerType.SOFTMAX_LOSS]="SoftmaxLoss",CaffeNode._operatorMap[caffe.V1LayerParameter.LayerType.SPLIT]="Split",CaffeNode._operatorMap[caffe.V1LayerParameter.LayerType.TANH]="TanH",CaffeNode._operatorMap[caffe.V1LayerParameter.LayerType.WINDOW_DATA]="WindowData",CaffeNode._operatorMap[caffe.V1LayerParameter.LayerType.ELTWISE]="Eltwise",CaffeNode._operatorMap[caffe.V1LayerParameter.LayerType.POWER]="Power",CaffeNode._operatorMap[caffe.V1LayerParameter.LayerType.SIGMOID_CROSS_ENTROPY_LOSS]="SigmoidCrossEntropyLoss",CaffeNode._operatorMap[caffe.V1LayerParameter.LayerType.HINGE_LOSS]="HingeLoss",CaffeNode._operatorMap[caffe.V1LayerParameter.LayerType.MEMORY_DATA]="HingeLoss",CaffeNode._operatorMap[caffe.V1LayerParameter.LayerType.ARGMAX]="ArgMax",CaffeNode._operatorMap[caffe.V1LayerParameter.LayerType.THRESHOLD]="Threshold",CaffeNode._operatorMap[caffe.V1LayerParameter.LayerType.DUMMY_DATA]="DummyData",CaffeNode._operatorMap[caffe.V1LayerParameter.LayerType.SLICE]="Slice",CaffeNode._operatorMap[caffe.V1LayerParameter.LayerType.MVN]="MVN",CaffeNode._operatorMap[caffe.V1LayerParameter.LayerType.ABSVAL]="AbsVal",CaffeNode._operatorMap[caffe.V1LayerParameter.LayerType.SILENCE]="Silence",CaffeNode._operatorMap[caffe.V1LayerParameter.LayerType.CONTRASTIVE_LOSS]="ContrastiveLoss",CaffeNode._operatorMap[caffe.V1LayerParameter.LayerType.EXP]="Exp",CaffeNode._operatorMap[caffe.V1LayerParameter.LayerType.DECONVOLUTION]="Deconvolution");var t=CaffeNode._operatorMap[e];return t?t:e.toString()}}class CaffeAttribute{constructor(e,t,n){this._owner=e,this._name="";for(var a=0;a<t.length;a++){var o=t[a],r=o.toLowerCase();this._name+=o==r?o:"_"+r}this._value=n}get name(){return this._name}get value(){return JSON.stringify(this._value)}get visible(){return CaffeOperatorMetadata.operatorMetadata.getAttributeVisible(this._owner.operator,this._name,this._value)}}class CaffeTensor{constructor(e){this._blob=e,e.hasOwnProperty("num")&&e.hasOwnProperty("channels")&&e.hasOwnProperty("width")&&e.hasOwnProperty("height")?(this._shape=[],1!=e.num&&this._shape.push(e.num),1!=e.channels&&this._shape.push(e.channels),1!=e.width&&this._shape.push(e.width),1!=e.height&&this._shape.push(e.height)):e.hasOwnProperty("shape")&&(this._shape=e.shape.dim);var t="?";0<e.data.length?(t="float32",this._data=e.data):0<e.doubleData.length&&(t="float64",this._data=e.doubleData),this._type=new CaffeTensorType(t,this._shape)}get kind(){return"Blob"}get type(){return this._type}get value(){var e=this._decode(Number.MAX_SAFE_INTEGER);return e.error?null:e.value}toString(){var e=this._decode(1e4);return e.error?e.error:JSON.stringify(e.value,null,4)}_decode(e){var t={};if(!this._data)return t.error="Tensor data is empty.",t;var n={};return n.index=0,n.count=0,n.limit=e,n.data=this._data,t.value=this._decodeDimension(n,0),t}_decodeDimension(e,t){var n=[],a=this._shape[t];if(t==this._shape.length-1)for(var o=0;o<a;o++){if(e.count>e.limit)return n.push("..."),n;n.push(e.data[e.index]),e.index++,e.count++}else for(var r=0;r<a;r++){if(e.count>e.limit)return n.push("..."),n;n.push(this._decodeDimension(e,t+1))}return n}}class CaffeTensorType{constructor(e,t){this._dataType=e,this._shape=t}get dataType(){return this._dataType}get shape(){return this._shape}toString(){return this.dataType+(this._shape?"["+this._shape.map(e=>e.toString()).join(",")+"]":"")}}class CaffeOperatorMetadata{static open(e,t){CaffeOperatorMetadata.operatorMetadata?t(null,CaffeOperatorMetadata.operatorMetadata):e.request("/caffe-metadata.json",(e,n)=>{CaffeOperatorMetadata.operatorMetadata=new CaffeOperatorMetadata(n),t(null,CaffeOperatorMetadata.operatorMetadata)})}constructor(e){if(this._map={},e){var t=JSON.parse(e);t&&t.forEach(e=>{if(e.name&&e.schema){var t=e.name,n=e.schema;this._map[t]=n}})}}getOperatorCategory(e){var t=this._map[e];return t&&t.category?t.category:null}getInputs(e,t){var n=[],a=0,o=this._map[e];return o&&o.inputs?o.inputs.forEach(e=>{if(a<t.length||"optional"!=e.option){var o={name:e.name,type:e.type},r="variadic"==e.option?t.length-a:1;o.connections=[],t.slice(a,a+r).forEach(t=>{(""!=t||"optional"!=e.option)&&o.connections.push({id:t})}),a+=r,n.push(o)}}):t.slice(a).forEach(e=>{var t=0==a?"input":"("+a.toString()+")";n.push({name:t,connections:[{id:e}]}),a++}),n}getOutputs(e,t){var n=[],a=0,o=this._map[e];return o&&o.outputs?o.outputs.forEach(e=>{if(a<t.length||"optional"!=e.option){var o={name:e.name},r="variadic"==e.option?t.length-a:1;o.connections=t.slice(a,a+r).map(e=>({id:e})),a+=r,n.push(o)}}):t.slice(a).forEach(e=>{var t=0==a?"output":"("+a.toString()+")";n.push({name:t,connections:[{id:e}]}),a++}),n}getAttributeVisible(e,t,n){var a=this._map[e];if(a&&a.attributes&&0<a.attributes.length){a.attributesMap||(a.attributesMap={},a.attributes.forEach(e=>{a.attributesMap[e.name]=e}));var o=a.attributesMap[t];if(o){if(o.hasOwnProperty("visible"))return o.visible;if(o.hasOwnProperty("default"))return!CaffeOperatorMetadata.isEquivalent(o.default,n)}}return!0}static isEquivalent(e,t){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!==e)return t!==t;var n=typeof e;if("function"!=n&&"object"!=n&&"object"!=typeof t)return!1;var a=toString.call(e);if(a!==toString.call(t))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e==+e?0==+e?1/+e==1/t:+e==+t:+t!=+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Array]":var o=e.length;if(o!==t.length)return!1;for(;o--;)if(!CaffeOperatorMetadata.isEquivalent(e[o],t[o]))return!1;return!0;}var r=Object.keys(e),i=r.length;if(Object.keys(t).length!=i)return!1;for(;i--;){var s=r[i];if(!(t.hasOwnProperty(s)&&CaffeOperatorMetadata.isEquivalent(e[s],t[s])))return!1}return!0}}class CaffeError extends Error{constructor(e){super(e),this.name="Error loading Caffe model."}}var caffe2=null;class Caffe2ModelFactory{match(e,t){return t.endsWith("predict_net.pb")}open(e,t,n,a){n.import("/caffe2.js",t=>{if(t)return void a(t,null);var o=null;try{caffe2=protobuf.roots.caffe2.caffe2,o=caffe2.NetDef.decode(e)}catch(e){return void a(new Caffe2Error("Protocol Buffer loader failed to decode caffe2.NetDef input stream ("+e.message+")."),null)}var r=null;try{r=new Caffe2Model(o)}catch(e){return n.exception(e,!1),void a(new Caffe2Error(e.message),null)}Caffe2OperatorMetadata.open(n,()=>{a(null,r)})})}}class Caffe2Model{constructor(e){var t=new Caffe2Graph(e);this._graphs=[t]}get format(){return"Caffe2"}get graphs(){return this._graphs}}class Caffe2Graph{constructor(e){this._name=e.name?e.name:"",this._type=e.type?e.type:"",this._nodes=[],this._operators={};var t={};e.op.forEach((e,n)=>{e.input=e.input.map(e=>t[e]?t[e]:e),e.output=e.output.map(e=>{if(t[e]){var a=e+"\n"+n.toString();return t[e]=a,a}return t[e]=e,e})});var n={};e.externalInput.forEach(e=>{n[e]=!0}),e.op.forEach(e=>{this._operators[e.type]=(this._operators[e.type]||0)+1,this._nodes.push(new Caffe2Node(e,n))}),this._inputs=[];var a=Object.keys(n);a.forEach(e=>{1!=a.length&&e.startsWith("caffe.")||this._inputs.push({id:e,name:e,type:"T"})}),this._outputs=[],e.externalOutput.forEach(e=>{this._outputs.push({id:e,name:e,type:"T"})})}get name(){return this._name}get type(){return this._type}get inputs(){return this._inputs}get outputs(){return this._outputs}get nodes(){return this._nodes}get operators(){return this._operators}}class Caffe2Node{constructor(e,t){e.name&&(this._name=e.name),e.engine&&(this._device=e.engine),this._operator=e.type,this._inputs=e.input,this._outputs=e.output,this._attributes=[],e.arg.forEach(e=>{this._attributes.push(new Caffe2Attribute(this,e))}),this._initializers={},this._inputs.forEach((e,n)=>{if(0<n){var a=t[e];a&&(delete t[e],this._initializers[e]=new Caffe2Tensor("Initializer"))}})}get name(){return this._name||""}get device(){return this._device||""}get operator(){return this._operator}get category(){return Caffe2OperatorMetadata.operatorMetadata.getOperatorCategory(this._operator)}get documentation(){return Caffe2OperatorMetadata.operatorMetadata.getOperatorDocumentation(this._operator)}get inputs(){var e=Caffe2OperatorMetadata.operatorMetadata.getInputs(this._operator,this._inputs);return e.forEach(e=>{e.connections.forEach(e=>{var t=this._initializers[e.id];t&&(e.initializer=t)})}),e}get outputs(){var e=Caffe2OperatorMetadata.operatorMetadata.getOutputs(this._operator,this._outputs);return e}get attributes(){return this._attributes}}class Caffe2Attribute{constructor(e,t){if(this._node=e,this._name=t.name,t.floats&&0<t.floats.length)this._value=JSON.stringify(t.floats);else if(t.ints&&0<t.ints.length){debugger;this._value=JSON.stringify(t.ints)}else if(t.nets&&0<t.nets.length){debugger;this._value="..."}else this._value=0==t.i?t.i.toString():t.i.toString()}get name(){return this._name}get value(){return this._value}get visible(){return Caffe2OperatorMetadata.operatorMetadata.getAttributeVisible(this._node.operator,this._name,this._value)}}class Caffe2Tensor{constructor(e){this._kind=e}get kind(){return this._kind}get value(){return null}toString(){return null}}class Caffe2OperatorMetadata{static open(e,t){Caffe2OperatorMetadata.operatorMetadata?t(null,Caffe2OperatorMetadata.operatorMetadata):e.request("/caffe2-metadata.json",(e,n)=>{Caffe2OperatorMetadata.operatorMetadata=new Caffe2OperatorMetadata(n),t(null,Caffe2OperatorMetadata.operatorMetadata)})}constructor(e){if(this._map={},e){var t=JSON.parse(e);t&&t.forEach(e=>{if(e.name&&e.schema){var t=e.name,n=e.schema;this._map[t]=n}})}}getOperatorCategory(e){var t=this._map[e];return t&&t.category?t.category:null}getOperatorDocumentation(e){var t=this._map[e];return t?(t=JSON.parse(JSON.stringify(t)),t.name=e,t.description&&(t.description=marked(t.description)),t.attributes&&t.attributes.forEach(e=>{e.description&&(e.description=marked(e.description))}),t.inputs&&t.inputs.forEach(e=>{e.description&&(e.description=marked(e.description))}),t.outputs&&t.outputs.forEach(e=>{e.description&&(e.description=marked(e.description))}),t.references&&t.references.forEach(e=>{e&&(e.description=marked(e.description))}),t):""}getInputs(e,t){var n=[],a=0,o=this._map[e];return o&&o.inputs?o.inputs.forEach(e=>{if(a<t.length||"optional"!=e.option){var o={name:e.name,type:e.type},r="variadic"==e.option?t.length-a:1;o.connections=[],t.slice(a,a+r).forEach(t=>{(""!=t||"optional"!=e.option)&&o.connections.push({id:t})}),a+=r,n.push(o)}}):t.slice(a).forEach(e=>{var t=0==a?"input":"("+a.toString()+")";n.push({name:t,connections:[{id:e}]}),a++}),n}getOutputs(e,t){var n=[],a=0,o=this._map[e];return o&&o.outputs?o.outputs.forEach(e=>{if(a<t.length||"optional"!=e.option){var o={name:e.name},r="variadic"==e.option?t.length-a:1;o.connections=t.slice(a,a+r).map(e=>({id:e})),a+=r,n.push(o)}}):t.slice(a).forEach(e=>{var t=0==a?"output":"("+a.toString()+")";n.push({name:t,connections:[{id:e}]}),a++}),n}getAttributeVisible(e,t,n){var a=this._map[e];if(a&&a.attributes&&0<a.attributes.length){a.attributesMap||(a.attributesMap={},a.attributes.forEach(e=>{a.attributesMap[e.name]=e}));var o=a.attributesMap[t];if(o){if(o.hasOwnProperty("visible"))return o.visible;if(o.hasOwnProperty("default"))return n!=o.default.toString()}}return!0}static isEquivalent(e,t){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!==e)return t!==t;var n=typeof e;if("function"!=n&&"object"!=n&&"object"!=typeof t)return!1;var a=toString.call(e);if(a!==toString.call(t))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e==+e?0==+e?1/+e==1/t:+e==+t:+t!=+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Array]":var o=e.length;if(o!==t.length)return!1;for(;o--;)if(!Caffe2OperatorMetadata.isEquivalent(e[o],t[o]))return!1;return!0;}var r=Object.keys(e),i=r.length;if(Object.keys(t).length!=i)return!1;for(;i--;){var s=r[i];if(!(t.hasOwnProperty(s)&&Caffe2OperatorMetadata.isEquivalent(e[s],t[s])))return!1}return!0}}class Caffe2Error extends Error{constructor(e){super(e),this.name="Error loading Caffe2 model."}}class PyTorchModelFactory{match(e,t){var n=t.split(".").pop();return"pt"==n||"pth"==n}open(e,t,n,a){n.import("/pickle.js",t=>t?void a(t,null):void this._openModel(e,n,a))}_openModel(e,t,n){try{var a=new pickle.Unpickler(e),o=[108,252,156,70,249,32,106,168,80,25],r=a.load();if(!Array.isArray(r)||o.length!=r.length||!o.every((e,t)=>e==r[t]))throw new pickle.Error("Invalid signature.");var i=a.load();if(1001!=i)throw new pickle.Error("Unsupported protocol version '"+i+"'.");var s=a.load();if(!s.little_endian)throw new pickle.Error("Unsupported system.");var d={"argparse.Namespace":function(e){this.args=e},"torch.nn.modules.activation.ReLU":function(){},"torch.nn.modules.batchnorm.BatchNorm2d":function(){},"torch.nn.modules.container.Sequential":function(){},"torch.nn.modules.conv.Conv2d":function(){},"torch.nn.modules.dropout.Dropout":function(){},"torch.nn.modules.linear.Linear":function(){},"torch.nn.modules.pooling.AvgPool2d":function(){},"torch.nn.modules.pooling.MaxPool2d":function(){},"torchvision.models.alexnet.AlexNet":function(){},"torchvision.models.densenet.DenseNet":function(){},"torchvision.models.densenet._DenseBlock":function(){},"torchvision.models.densenet._DenseLayer":function(){},"torchvision.models.densenet._Transition":function(){},"torchvision.models.inception.BasicConv2d":function(){},"torchvision.models.inception.Inception3":function(){},"torchvision.models.inception.InceptionAux":function(){},"torchvision.models.inception.InceptionA":function(){},"torchvision.models.inception.InceptionB":function(){},"torchvision.models.inception.InceptionC":function(){},"torchvision.models.inception.InceptionD":function(){},"torchvision.models.inception.InceptionE":function(){},"torchvision.models.resnet.Bottleneck":function(){},"torchvision.models.resnet.ResNet":function(){},"torchvision.models.vgg.VGG":function(){},"torch.nn.backends.thnn._get_thnn_function_backend":function(){},"torch.nn.parameter.Parameter":function(){},"torch.FloatStorage":function(e){this.size=e,this.dataTypeSize=4,this.dataType="float32"},"torch.LongStorage":function(e){this.size=e,this.dataTypeSize=4,this.dataType="int64"},"torch._utils._rebuild_tensor":function(e,t,n,a){this.__type__=e.__type__.replace("Storage","Tensor"),this.storage=e,this.storage_offset=t,this.size=n,this.stride=a},"torch._utils._rebuild_tensor_v2":function(e,t,n,a,o,r){this.__type__=e.__type__.replace("Storage","Tensor"),this.storage=e,this.storage_offset=t,this.size=n,this.stride=a,this.requires_grad=o,this.backward_hooks=r}},l=(e,t)=>{if("collections.OrderedDict"==e)return 0==t.length?[]:t[0].map(e=>(e[1]=e[1]||{},e[1].__id__=e[0],e[1]));if(d[e]){var n={__type__:e};return d[e].apply(n,t),p[e]&&(n.__source__=p[e]),n}throw new pickle.Error("Unknown function '"+type+"'.")},p={},c={},u=e=>{var t=e.shift(),n=e;switch(t){case"module":return p[n[0]]=n[2],n[0];case"storage":var a=n.shift(),o=n.shift(),r=n.shift(),i=n.shift(),s=n.shift(),d=c[o];if(d||(d=l(a,[i]),c[o]=d),s){var u=s.shift(),f=s.shift(),h=s.shift(),g=c[u];return g||(g=null,c[u]=g),g}return d;}throw new pickle.Error("Unknown persistent load type '"+t+"'.")},f=a.load(l,u),h=a.load();h.forEach(e=>{if(c[e]){var t=c[e];t.data=a.read(t.dataTypeSize*t.size)}});var g=new PyTorchModel(s,f,h);PyTorchOperatorMetadata.open(t,()=>{n(null,g)})}catch(e){t.exception(e,!1),n(new PyTorchError(e.message),null)}}}class PyTorchModel{constructor(e,t,n){this._graphs=[new PyTorchGraph(e,t,n)]}get format(){return"PyTorch"}get graphs(){return this._graphs}}class PyTorchGraph{constructor(e,t){this._type=t.__type__,this._nodes=[],this._inputs=[],this._outputs=[],this._groups=!0;this._inputs.push({id:"data",name:"data"});var n=this._loadModule(t,[],["data"]);n.forEach(e=>{this._outputs.push({id:e,name:e})})}_loadModule(e,t,n){if(!e._modules)throw new PyTorchError("Module does not contain modules.");return e._modules.forEach(e=>{switch(e.__type__){case"torch.nn.modules.container.Sequential":t.push(e.__id__),n=this._loadModule(e,t,n),t.pop(e.__id__);break;case"torchvision.models.densenet._Transition":case"torchvision.models.resnet.Bottleneck":case"torchvision.models.densenet._DenseBlock":case"torchvision.models.densenet._DenseLayer":case"torchvision.models.inception.BasicConv2d":case"torchvision.models.inception.InceptionAux":case"torchvision.models.inception.InceptionA":case"torchvision.models.inception.InceptionB":case"torchvision.models.inception.InceptionC":case"torchvision.models.inception.InceptionD":case"torchvision.models.inception.InceptionE":t.push(e.__id__),n=this._loadSource(e,t,n),t.pop(e.__id__);break;default:var a=new PyTorchNode(e,t,n);this._nodes.push(a),n=[a.name];}}),n}_loadSource(e,t,n){var a={};e._modules.forEach(e=>{a[e.__id__]=e});var o=new PyTorchNode(e,t,n);return this._nodes.push(o),n=[o.name],n}get type(){return this._type}get groups(){return this._groups}get inputs(){return this._inputs}get outputs(){return this._outputs}get nodes(){return this._nodes}}class PyTorchNode{constructor(e,t,n){this._group=t.join("/"),t.push(e.__id__),this._name=t.join("/"),t.pop(),this._operator=e.__type__.split(".").pop();var a={name:"input",connections:[]};n.forEach(e=>{a.connections.push({id:e})}),this._inputs=[a],e._parameters.forEach(e=>{var t={};if(t.name=e.__id__,t.connections=[],this._inputs.push(t),e&&e.storage){var n={};n.initializer=new PyTorchTensor(e),n.type=n.initializer.type.toString(),t.connections.push(n)}}),this._outputs=[],this._outputs.push({name:"output",connections:[{id:this._name}]}),this._attributes=[],Object.keys(e).forEach(t=>{t.startsWith("_")||this._attributes.push(new PyTorchAttribute(this,t,e[t]))})}get name(){return this._name}get group(){return this._group}get operator(){return this._operator}get category(){return PyTorchOperatorMetadata.operatorMetadata.getOperatorCategory(this._operator)}get attributes(){return this._attributes}get inputs(){return this._inputs}get outputs(){return this._outputs}}class PyTorchAttribute{constructor(e,t,n){this._node=e,this._name=t,this._value=n}get name(){return this._name}get value(){return JSON.stringify(this._value)}get visible(){return PyTorchOperatorMetadata.operatorMetadata.getAttributeVisible(this._node.operator,this._name)}}class PyTorchTensor{constructor(e){this._tensor=e,this._dataType=e.storage.dataType,this._shape=e.size}get kind(){return"Tensor"}get type(){return new PyTorchTensorType(this._dataType,this._shape)}get value(){var e=this._decode(Number.MAX_SAFE_INTEGER);return e.error?null:e.value}toString(){var e=this._decode(1e4);if(e.error)return e.error;switch(this.dataType){case"int64":return OnnxTensor._stringify(e.value,"","    ");}return JSON.stringify(e.value,null,4)}_decode(e){if(!this._dataType)return{error:"Tensor has no data type."};if(!this._shape)return{error:"Tensor has no dimensions."};if(!this._tensor.storage||!this._tensor.storage.data)return{error:"Tensor data is empty."};var t={};return t.index=0,t.count=0,t.limit=e,t.data=this._tensor.storage.data,t.dataView=new DataView(t.data.buffer,t.data.byteOffset,t.data.byteLength),{value:this._decodeDimension(t,0)}}_decodeDimension(e,t){var n=[],a=this._shape[t];if(t==this._shape.length-1)for(var o=0;o<a;o++){if(e.count>e.limit)return n.push("..."),n;switch(this._dataType){case"float32":n.push(e.dataView.getFloat32(e.index,!0)),e.index+=4,e.count++;break;case"int64":n.push(new Int64(e.data.subarray(e.index,e.index+8))),e.index+=8,e.count++;}}else for(var r=0;r<a;r++){if(e.count>e.limit)return n.push("..."),n;n.push(this._decodeDimension(e,t+1))}return n}static _stringify(e,t,n){if(Array.isArray(e)){var a=["["],o=e.map(e=>OnnxTensor._stringify(e,t+n,n));return 0<o.length&&a.push(o.join(",\n")),a.push("]"),a.join("\n")}return t+e.toString()}}class PyTorchTensorType{constructor(e,t){this._dataType=e,this._shape=t}get dataType(){return this._dataType}get shape(){return this._shape}toString(){return this.dataType+(this._shape?"["+this._shape.map(e=>e.toString()).join(",")+"]":"")}}class PyTorchOperatorMetadata{static open(e,t){PyTorchOperatorMetadata.operatorMetadata?t(null,PyTorchOperatorMetadata.operatorMetadata):e.request("/pytorch-metadata.json",(e,n)=>{PyTorchOperatorMetadata.operatorMetadata=new PyTorchOperatorMetadata(n),t(null,PyTorchOperatorMetadata.operatorMetadata)})}constructor(e){if(this._map={},e){var t=JSON.parse(e);t&&t.forEach(e=>{if(e.name&&e.schema){var t=e.name,n=e.schema;this._map[t]=n}})}}getOperatorCategory(e){var t=this._map[e];return t&&t.category?t.category:null}getAttributeVisible(e,t,n){var a=this._map[e];if(a&&a.attributes&&0<a.attributes.length){a.attributesMap||(a.attributesMap={},a.attributes.forEach(e=>{a.attributesMap[e.name]=e}));var o=a.attributesMap[t];if(o){if(o.hasOwnProperty("visible"))return o.visible;if(o.hasOwnProperty("default"))return JSON.stringify(o.default)==JSON.stringify(n)}}return!0}}class PyTorchError extends Error{constructor(e){super(e),this.name="Error loading PyTorch model."}}class MXNetModelFactory{match(e,t){if(t.endsWith("-symbol.json"))return!0;var n=t.split(".").pop();if("model"==n)return!0;if("json"==n){var a=new TextDecoder("utf-8"),o=a.decode(e);if(o.includes("\"mxnet_version\":"))return!0}return!1}open(e,t,n,a){var o=t.split(".").pop();switch(o){case"json":this._openSymbol(e,a);break;case"model":n.import("/zip.js",t=>t?void a(t,null):void this._openModel(e,n,a));break;default:a(new MXNetError("Unsupported file extension."));}}_openSymbol(e,t){try{var n=new TextDecoder("utf-8"),a=JSON.parse(n.decode(e)),o=new MXNetModel(null,a,null,{});MXNetOperatorMetadata.open(host,()=>{t(null,o)})}catch(e){host.exception(e,!1),t(new MXNetError(e.message),null)}}_openModel(e,t,n){var a={};try{var o=new zip.Archive(e,t.inflate);o.entries.forEach(e=>{a[e.name]=e})}catch(e){return void n(new MXNetError("Failed to decompress ZIP archive. "+e.message),null)}var r=a["MANIFEST.json"],i="";if(!r){var s=Object.keys(a).filter(e=>e.endsWith("/")).filter(e=>a[e+"MANIFEST.json"]);if(1!=s.length)return void n(new MXNetError("Manifest not found."),null);i=s[0],r=a[i+"MANIFEST.json"]}var d=new TextDecoder("utf-8"),l=null;try{l=JSON.parse(d.decode(r.data))}catch(e){return void n(new MXNetError("Failed to read manifest. "+e.message),null)}if(!l.Model)return void n(new MXNetError("Manifest does not contain model."),null);var p=l.Model["Model-Format"];if(p&&"MXNet-Symbolic"!=p)return void n(new MXNetError("Model format '"+p+"' not supported."),null);if(!l.Model.Symbol)return void n(new MXNetError("Manifest does not contain symbol entry."),null);var c=null;try{var u=a[i+l.Model.Symbol];c=JSON.parse(d.decode(u.data))}catch(e){return void n(new MXNetError("Failed to load symbol entry. "+e.message),null)}var f=null;try{if(l.Model.Signature){var h=a[i+l.Model.Signature];h&&(f=JSON.parse(d.decode(h.data)))}}catch(e){}var g={};try{if(l.Model.Parameters){var m=a[i+l.Model.Parameters];if(m){var _=m.data,y=new ndarray.Stream(_);Object.keys(y.arrays).forEach(e=>{var t=e;(t.startsWith("arg:")||t.startsWith("aux:"))&&(t=e.substring(4)),g[t]=y.arrays[e]})}}}catch(e){}try{var b=new MXNetModel(l,c,f,g);MXNetOperatorMetadata.open(t,()=>{n(null,b)})}catch(e){n(new MXNetError(e.message),null)}}}class MXNetModel{constructor(e,t,n,a){if(!t)throw new MXNetError("JSON file does not contain MXNet data.");if(!t.hasOwnProperty("nodes"))throw new MXNetError("JSON file does not contain an MXNet 'nodes' property.");if(!t.hasOwnProperty("arg_nodes"))throw new MXNetError("JSON file does not contain an MXNet 'arg_nodes' property.");if(!t.hasOwnProperty("heads"))throw new MXNetError("JSON file does not contain an MXNet 'heads' property.");if(e&&(this._format="MXNet Model Server",e["Model-Archive-Version"]&&(this._format+=" v"+e["Model-Archive-Version"].toString()),e.Model&&e.Model["Model-Name"]&&(this._name=e.Model["Model-Name"]),e.Model&&e.Model.Description&&this._name!=e.Model.Description&&(this._description=e.Model.Description),e.Engine&&e.Engine.MXNet)){var o=MXNetModel._convert_version(e.Engine.MXNet);this._engine="MXNet v"+(o?o:e.Engine.MXNet.toString())}if(!this._format&&t.attrs&&t.attrs.mxnet_version){var r=MXNetModel._convert_version(t.attrs.mxnet_version);r&&(this._format="MXNet v"+r)}this._format||(this._format="MXNet"),this._graphs=[new MXNetGraph(e,t,n,a)]}get name(){return this._name}get format(){return this._format}get description(){return this._description}get runtime(){return this._engine}get graphs(){return this._graphs}static _convert_version(e){var t=Math.floor;if(Array.isArray(e)&&2==e.length&&"int"==e[0]){var n=t(e[1]/1e4)%100,a=t(e[1]/100)%100,o=t(e[1])%100;return[n.toString(),a.toString(),o.toString()].join(".")}return null}}class MXNetGraph{constructor(e,t,n,a){var o=t.nodes;this._nodes=[],this._operators=[],o.forEach(e=>{e.op&&"null"!=e.op&&(this._operators[e.op]=(this._operators[e.op]||0)+1)});var r={};n&&n.inputs&&n.inputs.forEach(e=>{r[e.data_name]=e});var i={};n&&n.outputs&&n.outputs.forEach(e=>{i[e.data_name]=e}),o.forEach(e=>{e.outputs=[]}),o.forEach(e=>{e.inputs=e.inputs.map(e=>MXNetGraph._updateOutput(o,e))});var s={};o.forEach(e=>{e.outputs.forEach(e=>{s[e]=(s[e]||0)+1})});var d={};t.arg_nodes.forEach(e=>{d[e]=e<o.length?o[e]:null}),this._outputs=[],t.heads.forEach((e,t)=>{var n={};n.id=MXNetGraph._updateOutput(o,e),n.name=o[n.id[0]]?o[n.id[0]].name:"output"+(0==t?"":(t+1).toString()),n.type="T";var a=i[n.name];a&&a.data_shape&&(n.type="?["+a.data_shape.toString()+"]"),this._outputs.push(n)}),o.forEach((e,t)=>{d[t]||this._nodes.push(new MXNetNode(e,d,a))}),this._inputs=[],Object.keys(d).forEach(e=>{var t=d[e];if((!t.inputs||0==t.inputs.length)&&t.outputs&&1==t.outputs.length){var n={id:t.outputs[0],name:t.name,type:"T"},a=r[n.name];a&&a.data_shape&&(n.type="?["+a.data_shape.toString()+"]"),this._inputs.push(n)}}),this._inputs=this._inputs.map(e=>(e.id="["+e.id.join(",")+"]",e)),this._outputs=this._outputs.map(e=>(e.id="["+e.id.join(",")+"]",e))}get operators(){return this._operators}get name(){return""}get inputs(){return this._inputs}get outputs(){return this._outputs}get nodes(){return this._nodes}static _updateOutput(e,t){for(var n=t[0],a=e[n],o=t[1];o>=a.outputs.length;)a.outputs.push([n,a.outputs.length]);return[n,o]}}class MXNetNode{constructor(e,t,n){this._operator=e.op,this._name=e.name,this._inputs=e.inputs,this._outputs=e.outputs,this._attributes=[];var a=e.attrs;a||(a=e.attr),a||(a=e.param),a&&Object.keys(a).forEach(e=>{var t=a[e];this._attributes.push(new MXNetAttribute(this,e,t))}),"RNN"==this._operator&&(this._inputs=this._inputs.map(e=>{var n=e[0],a=t[n];return a&&"null"==a.op&&a.name&&a.name.endsWith("_parameters")&&a.attr&&a.attr.__init__?(this._attributes.push(new MXNetAttribute(this,a.name,a.attr.__init__)),delete t[n],null):e}),this._inputs=this._inputs.filter(e=>null!=e)),this._initializers={},this._inputs.forEach(e=>{var a=e[0],o=t[a];if(o&&o.name&&(!o.inputs||0==o.inputs.length)&&o.outputs&&1==o.outputs.length){var r="["+e.join(",")+"]",i=n[o.name];if(i)this._initializers[r]=new MXNetTensor("Initializer",o.name,i.dataType,i.shape.dimensions,i.data),delete t[a];else{var s=this._name+"_";if(s.endsWith("_fwd_")&&(s=s.slice(0,-4)),o.name&&o.name.startsWith(s)){var d="?",l=[];if(o.attrs&&o.attrs.__dtype__&&o.attrs.__shape__)try{d=parseInt(o.attrs.__dtype__),l=JSON.parse("["+o.attrs.__shape__.replace("(","").replace(")","").split(" ").join("").split(",").map(e=>e||"\"?\"").join(",")+"]")}catch(e){}this._initializers[r]=new MXNetTensor("Initializer",o.name,d,l,null),delete t[a]}}}})}get operator(){return this._operator}get category(){return MXNetOperatorMetadata.operatorMetadata.getOperatorCategory(this._operator)}get documentation(){return MXNetOperatorMetadata.operatorMetadata.getOperatorDocumentation(this.operator)}get name(){return this._name}get inputs(){var e=this._inputs.map(e=>"["+e.join(",")+"]"),t=MXNetOperatorMetadata.operatorMetadata.getInputs(this._operator,e);return t.forEach(e=>{e.connections.forEach(e=>{var t=this._initializers[e.id];t&&(e.id=t.name||e.id,e.type=t.type.toString(),e.initializer=t)})}),t}get outputs(){var e=this._outputs.map(e=>"["+e.join(",")+"]");return MXNetOperatorMetadata.operatorMetadata.getOutputs(this._type,e)}get attributes(){return this._attributes}}class MXNetAttribute{constructor(e,t,n){this._owner=e,this._name=t,this._value=n}get name(){return this._name}get value(){return this._value}get visible(){return MXNetOperatorMetadata.operatorMetadata.getAttributeVisible(this._owner.operator,this._name,this._value)}}class MXNetTensor{constructor(e,t,n,a,o){this._kind=e,this._name=t,this._dataType=n,this._data=o,this._type=new MXNetTensorType(n,a)}get kind(){return"Initializer"}get name(){return this._name}get type(){return this._type}get value(){var e=this._decode(Number.MAX_SAFE_INTEGER);return e.error?null:e.value}toString(){var e=this._decode(1e4);return e.error?e.error:JSON.stringify(e.value,null,4)}_decode(e){if(!this._data)return{error:"Tensor data is empty."};if("?"==this._type.dataType)return{error:"Tensor has no data type."};if(1>=this._type.dataType.length)return{error:"Tensor has unknown data type."};if(1>this._type.shape.length)return{error:"Tensor has unknown shape."};var t={index:0,count:0,limit:e,shape:this._type.shape,data:new DataView(this._data.buffer,this._data.byteOffset,this._data.byteLength)};return{value:this._decodeDimension(t,0)}}_decodeDimension(e,t){var n=[],a=e.shape[t];if(t==e.shape.length-1)for(var o=0;o<a;o++){if(e.count>e.limit)return n.push("..."),n;switch(this._dataType){case 0:n.push(e.data.getFloat32(e.index,!0)),e.index+=4,e.count++;break;case 1:n.push(e.data.getFloat64(e.index,!0)),e.index+=8,e.count++;break;case 2:n.push(MXNetTensor._decodeNumberFromFloat16(e.data.getUint16(e.index,!0))),e.index+=2,e.count++;break;case 3:n.push(e.data.getUint8(e.index,!0)),e.index+=1,e.count++;break;case 4:n.push(e.data.getInt32(e.index,!0)),e.index+=4,e.count++;break;case 5:n.push(e.data.getInt8(e.index,!0)),e.index+=1,e.count++;break;case 6:n.push(new Int64(e.data.subarray(e.index,e.index+8))),e.index+=8,e.count++;}}else for(var r=0;r<a;r++){if(e.count>e.limit)return n.push("..."),n;n.push(this._decodeDimension(e,t+1))}return n}static _decodeNumberFromFloat16(t){var n=(32768&t)>>15,a=(31744&t)>>10,e=1023&t;if(0==a)return 0.00006103515625*(n?-1:1)*(e/1024);return 31==a?e?NaN:(n?-1:1)*(1/0):(n?-1:1)*Math.pow(2,a-15)*(1+e/1024)}}class MXNetTensorType{constructor(e,t){MXNetTensorType._dataTypeNameTable=MXNetTensor._dataTypeTable||["float32","float64","float16","uint8","int32","int8","int64"],this._dataType=e,this._shape=t}get dataType(){var e="?";return(this._dataType||0===this._dataType)&&(this._dataType<MXNetTensorType._dataTypeNameTable.length?e=MXNetTensorType._dataTypeNameTable[this._dataType]:e=this._dataType.toString()),e}get shape(){return this._shape}toString(){return this.dataType+(this._shape?"["+this._shape.map(e=>e.toString()).join(",")+"]":"")}}class MXNetOperatorMetadata{static open(e,t){MXNetOperatorMetadata.operatorMetadata?t(null,MXNetOperatorMetadata.operatorMetadata):e.request("/mxnet-metadata.json",(e,n)=>{MXNetOperatorMetadata.operatorMetadata=new MXNetOperatorMetadata(n),t(null,MXNetOperatorMetadata.operatorMetadata)})}constructor(e){if(this._map={},e){var t=JSON.parse(e);t&&t.forEach(e=>{if(e.name&&e.schema){var t=e.name,n=e.schema;this._map[t]=n}})}}getOperatorCategory(e){var t=this._map[e];return t&&t.category?t.category:null}getInputs(e,t){var n=[],a=0,o=this._map[e];return o&&o.inputs?o.inputs.forEach(e=>{if(a<t.length||"optional"!=e.option){var o={name:e.name,type:e.type},r="variadic"==e.option?t.length-a:1;o.connections=[],t.slice(a,a+r).forEach(t=>{(""!=t||"optional"!=e.option)&&o.connections.push({id:t})}),a+=r,n.push(o)}}):t.slice(a).forEach(e=>{var t=0==a?"input":"("+a.toString()+")";n.push({name:t,connections:[{id:e}]}),a++}),n}getOutputs(e,t){var n=[],a=0,o=this._map[e];return o&&o.outputs?o.outputs.forEach(e=>{if(a<t.length||"optional"!=e.option){var o={name:e.name},r="variadic"==e.option?t.length-a:1;o.connections=t.slice(a,a+r).map(e=>({id:e})),a+=r,n.push(o)}}):t.slice(a).forEach(e=>{var t=0==a?"output":"("+a.toString()+")";n.push({name:t,connections:[{id:e}]}),a++}),n}getAttributeVisible(e,t,n){var a=this._map[e];if(a&&a.attributes&&0<a.attributes.length){a.attributesMap||(a.attributesMap={},a.attributes.forEach(e=>{a.attributesMap[e.name]=e}));var o=a.attributesMap[t];if(o){if(o.hasOwnProperty("visible"))return o.visible;if(o.hasOwnProperty("default"))return n=MXNetOperatorMetadata._formatTuple(n),!MXNetOperatorMetadata._isEquivalent(o.default,n)}}return!0}static _formatTuple(e){if(e.startsWith("(")&&e.endsWith(")")){var t=e.substring(1,e.length-1).split(",");return t=t.map(e=>e.trim()),1<t.length&&t.every(e=>e==t[0])&&(t=[t[0],""]),"("+t.join(",")+")"}return e}static _isEquivalent(e,t){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!==e)return t!==t;var n=typeof e;if("function"!=n&&"object"!=n&&"object"!=typeof t)return!1;var a=toString.call(e);if(a!==toString.call(t))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e==+e?0==+e?1/+e==1/t:+e==+t:+t!=+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Array]":var o=e.length;if(o!==t.length)return!1;for(;o--;)if(!KerasOperatorMetadata._isEquivalent(e[o],t[o]))return!1;return!0;}var r=Object.keys(e),i=r.length;if(Object.keys(t).length!=i)return!1;for(;i--;){var s=r[i];if(!(t.hasOwnProperty(s)&&KerasOperatorMetadata._isEquivalent(e[s],t[s])))return!1}return!0}getOperatorDocumentation(e){var t=this._map[e];return t?(t=JSON.parse(JSON.stringify(t)),t.name=e,t.description&&(t.description=marked(t.description)),t.attributes&&t.attributes.forEach(e=>{e.description&&(e.description=marked(e.description))}),t.inputs&&t.inputs.forEach(e=>{e.description&&(e.description=marked(e.description))}),t.outputs&&t.outputs.forEach(e=>{e.description&&(e.description=marked(e.description))}),t):""}}class MXNetError extends Error{constructor(e){super(e),this.name="Error loading MXNet model."}}var ndarray=ndarray||{};ndarray.Stream=class{constructor(e){this._arrays={};var t=new ndarray.Reader(e);if(!t.checkSignature([18,1,0,0,0,0,0,0]))throw new ndarray.Error("Invalid signature.");if(!t.checkSignature([0,0,0,0,0,0,0,0]))throw new ndarray.Error("Invalid reserved block.");for(var n=[],a=t.readUint64();0<a;a--)n.push(new ndarray.Array(t));for(var o=new TextDecoder("ascii"),r=[],s=t.readUint64();0<s;s--){var d=t.readUint64(),l=o.decode(t.read(d));r.push(l)}if(r.length!=n.length)throw new ndarray.Error("Label count mismatch.");for(var p=0;p<r.length;p++)this._arrays[r[p]]=n[p]}get arrays(){return this._arrays}},ndarray.Array=class{constructor(e){ndarray.Array._dataTypeSizeTable=[4,8,2,1,4,1,8],e.checkSignature([201,250,147,249])?this._loadV2(e):e.checkSignature([200,250,147,249])?this._loadV1(e):this._loadV0(e)}_loadV2(e){var t=e.readUint32(),n=0;0===t?n=0:1===t?n=1:2===t?n=2:void 0;var a=null;if(0<n&&(a=new ndarray.Shape(e,!0)),this._shape=new ndarray.Shape(e,!0),0!=this._shape.dimensions.length){new ndarray.Context(e);if(this._dataType=e.readUint32(),0<n)throw new ndarray.Error("Not implemented.");var o=this._dataType<ndarray.Array._dataTypeSizeTable.length?ndarray.Array._dataTypeSizeTable[this._dataType]:0,r=o*this._shape.size();this._data=e.read(r)}}_loadV1(e){if(this._shape=new ndarray.Shape(e,!0),0!=this._shape.dimensions.length){new ndarray.Context(e);this._dataType=e.readUint32();var t=this._dataType<ndarray.Array._dataTypeSizeTable.length?ndarray.Array._dataTypeSizeTable[this._dataType]:0,n=t*this._shape.size();this._data=e.read(n)}}_loadV0(e){this._shape=new ndarray.Shape(e,!1);new ndarray.Context(e);this._dataType=e.readUint32();var t=this._dataType<ndarray.Array._dataTypeSizeTable.length?ndarray.Array._dataTypeSizeTable[this._dataType]:0,n=t*this._shape.size();this._data=e.read(n)}get dataType(){return this._dataType}get shape(){return this._shape}get data(){return this._data}},ndarray.Shape=class{constructor(e,t){var n=e.readUint32();this._dimensions=[];for(var a=0;a<n;a++)this._dimensions.push(t?e.readUint64():e.readUint32())}get dimensions(){return this._dimensions}size(){var e=1;return this._dimensions.forEach(t=>{e*=t}),e}},ndarray.Context=class{constructor(e){this._deviceType=e.readUint32(),this._deviceId=e.readUint32()}},ndarray.Reader=class{constructor(e){this._buffer=e,this._position=0,this._end=e.length}checkSignature(e){if(this._position+e.length<=this._end)for(var t=0;t<e.length;t++)if(this._buffer[this._position+t]!=e[t])return!1;return this._position+=e.length,!0}read(e){if(this._position+e>this._end)throw new ndarray.Error("Data not available.");var t=this._buffer.subarray(this._position,this._position+e);return this._position+=e,t}readUint16(){if(this._position+2>this._end)throw new ndarray.Error("Data not available.");var e=this._buffer[this._position]|this._buffer[this._position+1]<<8;return this._position+=2,e}readUint32(){return this.readUint16()|this.readUint16()<<16}readUint64(){var e=this.readUint32();if(0!=this.readUint32())throw new ndarray.Error("Large int64 value.");return e}},ndarray.Error=class extends Error{constructor(e){super(e),this.name="NDArray Error"}};class BrowserHost{constructor(){window.ga||(window.GoogleAnalyticsObject="ga",window.ga=window.ga||function(){window.ga.q=window.ga.q||[],window.ga.q.push(arguments)},window.ga.l=1*new Date),window.ga("create","UA-54146-11","auto"),window.addEventListener("error",t=>{this.exception(t.error,!0)})}get name(){return"Netron"}get version(){return this._version}get type(){return this._type}initialize(e){this._view=e,window.addEventListener("keydown",t=>{this._keyHandler(t)});var t={};if(Array.from(document.getElementsByTagName("meta")).forEach(e=>{e.content&&(t[e.name]=t[e.name]||[],t[e.name].push(e.content))}),this._version=t.version?t.version[0]:"0.0.0",this._type=t.type?t.type[0]:"Browser",t.file)return void this._openModel("/data",t.file[0].split("/").pop());var n=this._getQueryParameter("url");if(n)return void this._openModel(n,this._getQueryParameter("identifier")||n.split("/").pop());this._view.show("Welcome");var a=document.getElementById("open-file-button"),o=document.getElementById("open-file-dialog");a&&o&&(a.addEventListener("click",()=>{o.value="",o.click()}),o.addEventListener("change",t=>{t.target&&t.target.files&&1==t.target.files.length&&this._openFile(t.target.files[0])})),document.addEventListener("dragover",t=>{t.preventDefault()}),document.addEventListener("drop",t=>{t.preventDefault()}),document.body.addEventListener("drop",t=>(t.preventDefault(),t.dataTransfer&&t.dataTransfer.files&&1==t.dataTransfer.files.length&&this._openFile(t.dataTransfer.files[0]),!1))}error(e,t){alert(e+" "+t)}confirm(e,t){return confirm(e+" "+t)}import(e,t){for(var n=this._url(e),a=0;a<document.scripts.length;a++)if(n==document.scripts[a])return void t(null);var o=document.createElement("script");o.onload=()=>{t(null)},o.onerror=n=>{t(new Error("The script '"+n.target.src+"' failed to load."))},o.setAttribute("type","text/javascript"),o.setAttribute("src",n),document.head.appendChild(o)}export(){}request(e,t){var n=this._url(e),a=new XMLHttpRequest;e.endsWith(".pb")&&(a.responseType="arraybuffer"),a.onload=()=>{200==a.status?"arraybuffer"==a.responseType?t(null,new Uint8Array(a.response)):t(null,a.responseText):t(a.status,null)},a.onerror=()=>{t(a.status,null)},a.open("GET",n,!0),a.send()}openURL(e){window.open(e,"_target")}exception(e,t){if(window.ga){var n=[(e.name?e.name+": ":"")+e.message];if(e.stack){var a=e.stack.match(/\n    at (.*)\((.*)\)/);a?n.push(a[1]+"("+a[2].split("/").pop()+")"):n.push(e.stack.split("\n").shift())}window.ga("send","exception",{exDescription:n.join(" @ "),exFatal:t,appName:this.type,appVersion:this.version})}}screen(e){window.ga&&window.ga("send","screenview",{screenName:e,appName:this.type,appVersion:this.version})}event(e,t,n,a){window.ga&&window.ga("send","event",{eventCategory:e,eventAction:t,eventLabel:n,eventValue:a,appName:this.type,appVersion:this.version})}_url(e){var t=e;if(window&&window.location&&window.location.href){var n=window.location.href.split("?").shift();n.endsWith("/")&&(n=n.slice(0,-1)),t=n+e}return t}_getQueryParameter(e){var t=window.location.href;e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),a=n.exec(t);return a?a[2]?decodeURIComponent(a[2].replace(/\+/g," ")):"":null}_openModel(e,t){this._view.show("Spinner");var n=new XMLHttpRequest;n.responseType="arraybuffer",n.onload=()=>{if(200==n.status){var e=new Uint8Array(n.response);this._view.openBuffer(e,t,(e,n)=>{this._view.show(null),e&&(this.exception(e,!1),this.error(e.name,e.message)),n&&(document.title=t)})}else this.error("Model load request failed.",n.status)},n.onerror=()=>{this.error("Error while requesting model.",n.status)},n.open("GET",e,!0),n.send()}_openFile(e){this._view.show("Spinner"),this._openBuffer(e,(t,n)=>{this._view.show(null),t&&(this.exception(t,!1),this.error(t.name,t.message)),n&&(document.title=e.name)})}_openBuffer(e,t){var n=e.size,a=new FileReader;a.onloadend=()=>{if(a.error)return void t(a.error,null);var n=new Uint8Array(a.result);this._view.openBuffer(n,e.name,(e,n)=>{t(e,n)})},a.readAsArrayBuffer(e)}_keyHandler(t){if(!t.altKey&&!t.shiftKey&&(t.ctrlKey||t.metaKey))switch(t.keyCode){case 70:this._view.find(),t.preventDefault();break;case 68:this._view.toggleDetails(),t.preventDefault();break;case 85:this._view.toggleNames(),t.preventDefault();break;case 13:document.getElementById("model-properties-button").click(),t.preventDefault();break;case 8:this._view.resetZoom(),t.preventDefault();break;case 38:document.getElementById("zoom-in-button").click(),t.preventDefault();break;case 40:document.getElementById("zoom-out-button").click(),t.preventDefault();}}}window.TextDecoder=window.TextDecoder||class{constructor(e){this._encoding=e}decode(e){var t=String.fromCharCode,n="",a=e.length,o=0;switch(this._encoding){case"utf-8":for(;o<a;){var r=e[o++];switch(r>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:n+=t(r);break;case 12:case 13:s=e[o++],n+=t((31&r)<<6|63&s);break;case 14:var s=e[o++],d=e[o++];n+=t((15&r)<<12|(63&s)<<6|(63&d)<<0);}}break;case"ascii":for(;o<a;)n+=t(e[o++]);}return n}},window.host=new BrowserHost;class GraphRenderer{constructor(e){this._svgElement=e}render(e){var t=this.createElement("g");t.setAttribute("id","clusters"),t.setAttribute("class","clusters"),this._svgElement.appendChild(t);var n=this.createElement("g");n.setAttribute("id","edge-paths"),n.setAttribute("class","edge-paths"),this._svgElement.appendChild(n);var a=this.createElement("g");a.setAttribute("id","edge-labels"),a.setAttribute("class","edge-labels"),this._svgElement.appendChild(a);var o=this.createElement("g");o.setAttribute("id","nodes"),o.setAttribute("class","nodes"),this._svgElement.appendChild(o),e.nodes().forEach(t=>{if(0==e.children(t).length){var n=e.node(t),a=this.createElement("g");n.id&&a.setAttribute("id",n.id),a.setAttribute("class",n.hasOwnProperty("class")?"node "+n.class:"node"),a.style.setProperty("opacity",0);var r=this.createElement("g");r.appendChild(n.label),a.appendChild(r),o.appendChild(a);var i=n.label.getBBox(),s=-i.width/2,d=-i.height/2;r.setAttribute("transform","translate("+s+","+d+")"),n.width=i.width,n.height=i.height,n.element=a}}),e.edges().forEach(t=>{var n=e.edge(t),o=this.createElement("tspan");o.setAttribute("xml:space","preserve"),o.setAttribute("dy","1em"),o.setAttribute("x","1"),o.appendChild(document.createTextNode(n.label));var r=this.createElement("text");r.appendChild(o);var i=this.createElement("g");i.appendChild(r);var s=this.createElement("g");s.style.setProperty("opacity",0),s.setAttribute("class","edge-label"),s.appendChild(i),a.appendChild(s);var d=i.getBBox(),l=-d.width/2,p=-d.height/2;i.setAttribute("transform","translate("+l+","+p+")"),n.width=d.width,n.height=d.height,n.element=s}),dagre.layout(e),e.nodes().forEach(t=>{if(0==e.children(t).length){var n=e.node(t),a=n.element;a.setAttribute("transform","translate("+n.x+","+n.y+")"),a.style.setProperty("opacity",1),delete n.element}}),e.edges().forEach(t=>{var n=e.edge(t),a=n.element;a.setAttribute("transform","translate("+n.x+","+n.y+")"),a.style.setProperty("opacity",1),delete n.element});var r=this.createElement("defs");n.appendChild(r);var i=this.createElement("marker");i.setAttribute("id","arrowhead-vee"),i.setAttribute("viewBox","0 0 10 10"),i.setAttribute("refX",9),i.setAttribute("refY",5),i.setAttribute("markerUnits","strokeWidth"),i.setAttribute("markerWidth",8),i.setAttribute("markerHeight",6),i.setAttribute("orient","auto"),r.appendChild(i);var s=this.createElement("path");s.setAttribute("d","M 0 0 L 10 5 L 0 10 L 4 5 z"),s.style.setProperty("stroke-width",1),s.style.setProperty("stroke-dasharray","1,0"),i.appendChild(s),e.edges().forEach(t=>{var a=e.edge(t),o=GraphRenderer.computeCurvePath(a,e.node(t.v),e.node(t.w)),r=this.createElement("path");r.setAttribute("class",a.hasOwnProperty("class")?"edge-path "+a.class:"edge-path"),r.setAttribute("d",o),r.setAttribute("marker-end","url(#arrowhead-vee)"),a.id&&r.setAttribute("id",a.id),n.appendChild(r)}),e.nodes().forEach(n=>{if(0<e.children(n).length){var a=e.node(n),o=this.createElement("g");o.setAttribute("class","cluster"),o.setAttribute("transform","translate("+a.x+","+a.y+")");var r=this.createElement("rect");r.setAttribute("x",-a.width/2),r.setAttribute("y",-a.height/2),r.setAttribute("width",a.width),r.setAttribute("height",a.height),a.rx&&r.setAttribute("rx",a.rx),a.ry&&r.setAttribute("ry",a.ry),o.appendChild(r),t.appendChild(o)}})}createElement(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}static computeCurvePath(e,t,n){var a=e.points.slice(1,e.points.length-1);a.unshift(GraphRenderer.intersectRect(t,a[0])),a.push(GraphRenderer.intersectRect(n,a[a.length-1]));var o=new Path,r=new Curve(o);return a.forEach((e,t)=>{0==t&&r.lineStart(),r.point(e.x,e.y),t==a.length-1&&r.lineEnd()}),o.data}static intersectRect(e,t){var n=Math.abs,a=e.x,o=e.y,r=t.x-a,i=t.y-o,s=e.width/2,d=e.height/2,l,p;return n(i)*s>n(r)*d?(0>i&&(d=-d),l=0===i?0:d*r/i,p=d):(0>r&&(s=-s),l=s,p=0===r?0:s*i/r),{x:a+l,y:o+p}}}class NodeFormatter{constructor(){this._items=[],this._attributes=[]}addItem(e,t,n,a){var o={};e&&(o.content=e),t&&(o.classes=t),n&&(o.title=n),a&&(o.handler=a),this._items.push(o)}addAttribute(e,t,n){this._attributes.push({name:e,value:t,title:n})}setAttributeHandler(e){this._attributeHandler=e}setControlDependencies(){this._controlDependencies=!0}format(e){var t=this.createElement("g");e.appendChild(t);var n=this._attributes&&0<this._attributes.length,a=0,o=0,r=0,i=0,s=[];this._items.forEach(e=>{var n=7,d=this.createElement("g"),l=["node-item"];t.appendChild(d);var p=this.createElement("path"),c=this.createElement("text");d.appendChild(p),d.appendChild(c);var u=e.content,f=e.handler,h=e.title;if(e.classes&&e.classes.forEach(e=>{l.push(e)}),d.setAttribute("class",l.join(" ")),f&&d.addEventListener("click",f),h){var g=this.createElement("title");g.textContent=h,d.appendChild(g)}u&&(c.textContent=u);var m=c.getBBox(),_=m.width+n+n,y=m.height+4+4;s.push({group:d,text:c,path:p,x:a,y:o,width:_,height:y,tx:n,ty:4-m.y}),a+=_,i<y&&(i=y),a>r&&(r=a)});var l=r;a=0,o+=i;var p=0,c=null;if(n){var u=this.createElement("g");u.setAttribute("class","node-attribute"),t.appendChild(u),this._attributeHandler&&u.addEventListener("click",this._attributeHandler),c=this.createElement("path"),u.appendChild(c),u.setAttribute("transform","translate("+a+","+o+")"),p+=4,this._attributes.forEach(e=>{var t=4,n=this.createElement("text");if(n.setAttribute("xml:space","preserve"),u.appendChild(n),e.title){var o=this.createElement("title");o.textContent=e.title,n.appendChild(o)}var i=this.createElement("tspan");i.textContent=e.name,i.style.fontWeight="bold",n.appendChild(i);var s=this.createElement("tspan");s.textContent=" = "+e.value,n.appendChild(s);var d=n.getBBox(),l=t+d.width+t;r<l&&(r=l),n.setAttribute("x",a+t),n.setAttribute("y",p+1-d.y),p+=1+d.height+1}),p+=4}if(r>l){var f=(r-l)/this._items.length;s.forEach((e,t)=>{e.x+=t*f,e.width+=f,e.tx+=.5*f})}if(s.forEach((e,t)=>{e.group.setAttribute("transform","translate("+e.x+","+e.y+")");var a=0==t,o=t==s.length-1;e.path.setAttribute("d",this.roundedRect(0,0,e.width,e.height,a,o,!n&&o,!n&&a)),e.text.setAttribute("x",e.tx),e.text.setAttribute("y",e.ty)}),n&&c.setAttribute("d",this.roundedRect(0,0,r,p,!1,!1,!0,!0)),s.forEach((e,n)=>{if(0!=n){var a=this.createElement("line");a.setAttribute("class","node"),a.setAttribute("x1",e.x),a.setAttribute("y1",0),a.setAttribute("x2",e.x),a.setAttribute("y2",i),t.appendChild(a)}}),n){var d=this.createElement("line");d.setAttribute("class","node"),d.setAttribute("x1",0),d.setAttribute("y1",i),d.setAttribute("x2",r),d.setAttribute("y2",i),t.appendChild(d)}var h=this.createElement("path"),g=["node","border"];return this._controlDependencies&&g.push("node-control-dependency"),h.setAttribute("class",g.join(" ")),h.setAttribute("d",this.roundedRect(0,0,r,i+p,!0,!0,!0,!0)),t.appendChild(h),e.innerHTML="",t}roundedRect(e,t,n,a,o,r,i,s){return o=o?5:0,r=r?5:0,i=i?5:0,s=s?5:0,"M"+(e+o)+","+t+"h"+(n-o-r)+"a"+r+","+r+" 0 0 1 "+r+","+r+"v"+(a-r-i)+"a"+i+","+i+" 0 0 1 "+-i+","+i+"h"+(i+s-n)+"a"+s+","+s+" 0 0 1 "+-s+","+-s+"v"+(-a+s+o)+"a"+o+","+o+" 0 0 1 "+o+","+-o+"z"}createElement(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}}class Path{constructor(){this._x0=null,this._y0=null,this._x1=null,this._y1=null,this._data=""}moveTo(e,t){this._data+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)}lineTo(e,t){this._data+="L"+(this._x1=+e)+","+(this._y1=+t)}bezierCurveTo(e,t,n,a,o,r){this._data+="C"+ +e+","+ +t+","+ +n+","+ +a+","+(this._x1=+o)+","+(this._y1=+r)}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._data+="Z")}get data(){return this._data}}class Curve{constructor(e){this._context=e}lineStart(){this._x0=NaN,this._x1=NaN,this._y0=NaN,this._y1=NaN,this._point=0}lineEnd(){switch(this._point){case 3:this.curve(this._x1,this._y1),this._context.lineTo(this._x1,this._y1);break;case 2:this._context.lineTo(this._x1,this._y1);}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6),this.curve(e,t);break;default:this.curve(e,t);}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}curve(e,t){this._context.bezierCurveTo((2*this._x0+this._x1)/3,(2*this._y0+this._y1)/3,(this._x0+2*this._x1)/3,(this._y0+2*this._y1)/3,(this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6)}}class Sidebar{constructor(){this._closeSidebarHandler=()=>{this.close()},this._closeSidebarKeyDownHandler=t=>{27==t.keyCode&&(t.preventDefault(),this.close())},this._resizeSidebarHandler=()=>{var e=document.getElementById("sidebar-content");e&&(e.style.height=window.innerHeight-60)}}open(e,t,n){var a=document.getElementById("sidebar"),o=document.getElementById("sidebar-title"),r=document.getElementById("sidebar-content"),i=document.getElementById("sidebar-closebutton");if(a&&r&&i&&o){for(o.innerHTML=t?t.toUpperCase():"",window.addEventListener("resize",this._resizeSidebarHandler),document.addEventListener("keydown",this._closeSidebarKeyDownHandler),i.addEventListener("click",this._closeSidebarHandler),i.style.color="#818181",r.style.height=window.innerHeight-60;r.firstChild;)r.removeChild(r.firstChild);"string"==typeof e?r.innerHTML=e:e instanceof Array?e.forEach(e=>{r.appendChild(e)}):r.appendChild(e),a.style.width=n?n:"500px",r.style.width=n&&n.endsWith("%")?"100%":"calc("+a.style.width+" - 40px)"}}close(){var e=document.getElementById("sidebar"),t=document.getElementById("sidebar-content"),n=document.getElementById("sidebar-closebutton");e&&t&&n&&(document.removeEventListener("keydown",this._closeSidebarKeyDownHandler),e.removeEventListener("resize",this._resizeSidebarHandler),n.removeEventListener("click",this._closeSidebarHandler),n.style.color="#f8f8f8",e.style.width="0")}}class NodeView{constructor(e,t){this._host=t,this._node=e,this._elements=[],this._attributes=[],this._inputs=[],this._outputs=[];var n=document.createElement("div");if(n.className="sidebar-view-title",n.innerText=e.operator,this._elements.push(n),e.documentation){n.innerText+=" ";var a=document.createElement("a");a.className="sidebar-view-title-button",a.innerText="?",a.addEventListener("click",()=>{this.raise("show-documentation",null)}),n.appendChild(a)}e.name&&this.addProperty("name",new ValueTextView(e.name)),e.domain&&this.addProperty("domain",new ValueTextView(e.domain)),e.description&&this.addProperty("description",new ValueTextView(e.description)),e.device&&this.addProperty("device",new ValueTextView(e.device));var o=e.attributes;o&&0<o.length&&(this.addHeader("Attributes"),o.forEach(e=>{this.addAttribute(e.name,e)}));var r=e.inputs;r&&0<r.length&&(this.addHeader("Inputs"),r.forEach(e=>{this.addInput(e.name,e)}));var i=e.outputs;i&&0<i.length&&(this.addHeader("Outputs"),i.forEach(e=>{this.addOutput(e.name,e)}));var s=document.createElement("div");s.setAttribute("style","margin-bottom: 20px"),this._elements.push(s)}get elements(){return this._elements}addHeader(e){var t=document.createElement("div");t.className="sidebar-view-header",t.innerText=e,this._elements.push(t)}addProperty(e,t){var n=new NameValueView(e,t);this._elements.push(n.element)}addAttribute(e,t){var n=new NameValueView(e,new NodeAttributeView(t));this._attributes.push(n),this._elements.push(n.element)}addInput(e,t){if(0<t.connections.length){var n=new NameValueView(e,new NodeArgumentView(t,this._host));this._inputs.push(n),this._elements.push(n.element)}}addOutput(e,t){if(0<t.connections.length){var n=new NameValueView(e,new NodeArgumentView(t));this._outputs.push(n),this._elements.push(n.element)}}toggleInput(e){this._inputs.forEach(t=>{e==t.name&&t.toggle()})}on(e,t){this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(t)}raise(e,t){this._events&&this._events[e]&&this._events[e].forEach(e=>{e(this,t)})}}class NameValueView{constructor(e,t){this._name=e,this._value=t;var n=document.createElement("div");n.className="sidebar-view-item-name";var a=document.createElement("input");a.setAttribute("type","text"),a.setAttribute("value",e),a.setAttribute("title",e),a.setAttribute("readonly","true"),n.appendChild(a);var o=document.createElement("div");o.className="sidebar-view-item-value-list",t.elements.forEach(e=>{o.appendChild(e)}),this._element=document.createElement("div"),this._element.className="sidebar-view-item",this._element.appendChild(n),this._element.appendChild(o)}get name(){return this._name}get element(){return this._element}toggle(){this._value.toggle()}}class ValueTextView{constructor(e){this._elements=[];var t=document.createElement("div");t.className="sidebar-view-item-value",this._elements.push(t);var n=document.createElement("div");n.className="sidebar-view-item-value-line",n.innerHTML=e,t.appendChild(n)}get elements(){return this._elements}toggle(){}}class NodeAttributeView{constructor(e){this._attribute=e,this._element=document.createElement("div"),this._element.className="sidebar-view-item-value",e.type&&(this._expander=document.createElement("div"),this._expander.className="sidebar-view-item-value-expander",this._expander.innerText="+",this._expander.addEventListener("click",()=>{this.toggle()}),this._element.appendChild(this._expander));var t=this._attribute.value;1e3<t.length&&(t=t.substring(0,1e3)+"...");var n=document.createElement("div");n.className="sidebar-view-item-value-line",n.innerHTML=t?t:"&nbsp;",this._element.appendChild(n)}get elements(){return[this._element]}toggle(){if("+"==this._expander.innerText){this._expander.innerText="-";var e=document.createElement("div");e.className="sidebar-view-item-value-line-border",e.innerHTML="type: <code><b>"+this._attribute.type+"</b></code>",this._element.appendChild(e);var t=this._attribute.description;if(t){var n=document.createElement("div");n.className="sidebar-view-item-value-line-border",n.innerHTML=t,this._element.appendChild(n)}}else for(this._expander.innerText="+";2<this._element.childElementCount;)this._element.removeChild(this._element.lastChild)}}class NodeArgumentView{constructor(e,t){this._list=e,this._elements=[],this._items=[],e.connections.forEach(e=>{var n=new NodeConnectionView(e,t);this._items.push(n),this._elements.push(n.element)})}get elements(){return this._elements}toggle(){this._items.forEach(e=>{e.toggle()})}}class NodeConnectionView{constructor(e,t){this._connection=e,this._host=t,this._element=document.createElement("div"),this._element.className="sidebar-view-item-value";var n=e.initializer;n||(this._element.style.backgroundColor="#f4f4f4");var a=e.type;(a||n)&&(this._expander=document.createElement("div"),this._expander.className="sidebar-view-item-value-expander",this._expander.innerText="+",this._expander.addEventListener("click",()=>{this.toggle()}),this._element.appendChild(this._expander));var o=this._connection.id||"";if(this._hasId=!!o,n&&!this._hasId){var r=document.createElement("div");r.className="sidebar-view-item-value-line",r.innerHTML="kind: <b>"+n.kind+"</b>",this._element.appendChild(r)}else{var i=document.createElement("div");i.className="sidebar-view-item-value-line",o=this._connection.id.split("\n").shift(),o=o||" ",i.innerHTML="<span class='sidebar-view-item-value-line-content'>id: <b>"+o+"</b></span>",this._element.appendChild(i)}}get element(){return this._element}toggle(){if(this._expander)if("+"==this._expander.innerText){this._expander.innerText="-";var e=this._connection.initializer;if(e&&this._hasId){var t=e.kind;if(t){var n=document.createElement("div");n.className="sidebar-view-item-value-line-border",n.innerHTML="kind: <b>"+t+"</b>",this._element.appendChild(n)}}var a=this._connection.type||"?";if("string"==typeof a&&(a={value:a}),a.value){var o=document.createElement("div");o.className="sidebar-view-item-value-line-border",o.innerHTML="type: <code><b>"+a.value+"</b></code>",this._element.appendChild(o)}if(a.denotation){var r=document.createElement("div");r.className="sidebar-view-item-value-line-border",r.innerHTML="denotation: <code><b>"+a.denotation+"</b></code>",this._element.appendChild(r)}var i=this._connection.description;if(i){var s=document.createElement("div");s.className="sidebar-view-item-value-line-border",s.innerHTML=i,this._element.appendChild(s)}if(e){var d=e.quantization;if(d){var l=document.createElement("div");l.className="sidebar-view-item-value-line-border",l.innerHTML="quantization: <code><b>"+d+"</b></code>",this._element.appendChild(l)}var p=e.reference;if(p){var c=document.createElement("div");c.className="sidebar-view-item-value-line-border",c.innerHTML="reference: <b>"+p+"</b>",this._element.appendChild(c)}var u=e.toString();if(u){var f=document.createElement("div");f.className="sidebar-view-item-value-line-border";var h=document.createElement("pre");h.innerHTML=u,f.appendChild(h),this._element.appendChild(f)}}}else for(this._expander.innerText="+";2<this._element.childElementCount;)this._element.removeChild(this._element.lastChild)}}class ModelView{constructor(e){this._model=e,this._elements=[],this._model.format&&this.addProperty("format",new ValueTextView(this._model.format)),this._model.producer&&this.addProperty("producer",new ValueTextView(this._model.producer)),this._model.source&&this.addProperty("source",new ValueTextView(this._model.source)),this._model.name&&this.addProperty("name",new ValueTextView(this._model.name)),this._model.version&&this.addProperty("version",new ValueTextView(this._model.version)),this._model.description&&this.addProperty("description",new ValueTextView(this._model.description)),this._model.author&&this.addProperty("author",new ValueTextView(this._model.author)),this._model.company&&this.addProperty("company",new ValueTextView(this._model.company)),this._model.license&&this.addProperty("license",new ValueTextView(this._model.license)),this._model.domain&&this.addProperty("domain",new ValueTextView(this._model.domain)),this._model.imports&&this.addProperty("imports",new ValueTextView(this._model.imports)),this._model.runtime&&this.addProperty("runtime",new ValueTextView(this._model.runtime));var t=this._model.metadata;t&&this._model.metadata.forEach(e=>{this.addProperty(e.name,new ValueTextView(e.value))});var n=this._model.graphs;n.forEach((e,t)=>{var a=e.name?"'"+e.name+"'":"("+t.toString()+")",o=document.createElement("div");if(o.className="sidebar-view-title",o.style.marginTop="16px",o.innerText="Graph",1<n.length){o.innerText+=" "+a,o.innerText+=" ";var r=document.createElement("a");r.className="sidebar-view-title-button",r.id=e.name,r.innerText="\u21A9",r.addEventListener("click",t=>{this.raise("update-active-graph",t.target.id)}),o.appendChild(r)}if(this._elements.push(o),e.name&&this.addProperty("name",new ValueTextView(e.name)),e.version&&this.addProperty("version",new ValueTextView(e.version)),e.type&&this.addProperty("type",new ValueTextView(e.type)),e.tags&&this.addProperty("tags",new ValueTextView(e.tags)),e.description&&this.addProperty("description",new ValueTextView(e.description)),e.operators){var i=new NameValueView("operators",new GraphOperatorListView(e.operators));this._elements.push(i.element)}0<e.inputs.length&&(this.addHeader("Inputs"),e.inputs.forEach(e=>{this.addArgument(e.name,e)})),0<e.outputs.length&&(this.addHeader("Outputs"),e.outputs.forEach(e=>{this.addArgument(e.name,e)}))})}get elements(){return this._elements}addHeader(e){var t=document.createElement("div");t.className="sidebar-view-header",t.innerText=e,this._elements.push(t)}addProperty(e,t){var n=new NameValueView(e,t);this._elements.push(n.element)}addArgument(e,t){var n=new NameValueView(e,new GraphArgumentView(t));this._elements.push(n.element)}on(e,t){this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(t)}raise(e,t){this._events&&this._events[e]&&this._events[e].forEach(e=>{e(this,t)})}}class GraphOperatorListView{constructor(e){this._element=document.createElement("div"),this._element.className="sidebar-view-item-value";var t=0;this._list=[],Object.keys(e).forEach(n=>{this._list.push({name:n,count:e[n]}),t+=e[n]}),this._list=this._list.sort((e,t)=>(e.name>t.name)-(e.name<t.name)),this._list=this._list.map(e=>e.name+": <b>"+e.count.toString()+"</b>"),this._expander=document.createElement("div"),this._expander.className="sidebar-view-item-value-expander",this._expander.innerText="+",this._expander.addEventListener("click",()=>{this.toggle()}),this._element.appendChild(this._expander);var n=document.createElement("div");n.className="sidebar-view-item-value-line",n.innerHTML="Total: <b>"+t.toString()+"</b>",this._element.appendChild(n)}get elements(){return[this._element]}toggle(){if(this._expander)if("+"==this._expander.innerText){this._expander.innerText="-";var e=document.createElement("div");e.className="sidebar-view-item-value-line-border",e.innerHTML=this._list.join("<br/>"),this._element.appendChild(e)}else for(this._expander.innerText="+";2<this._element.childElementCount;)this._element.removeChild(this._element.lastChild)}}class GraphArgumentView{constructor(e){this._argument=e,this._element=document.createElement("div"),this._element.className="sidebar-view-item-value";var t=this._argument.type||"?";"string"==typeof t&&(t={value:t}),(e.description||t.denotation)&&(this._expander=document.createElement("div"),this._expander.className="sidebar-view-item-value-expander",this._expander.innerText="+",this._expander.addEventListener("click",()=>{this.toggle()}),this._element.appendChild(this._expander));var n=document.createElement("div");n.className="sidebar-view-item-value-line",n.innerHTML="type: <code><b>"+t.value.split("<").join("&lt;").split(">").join("&gt;")+"</b></code>",this._element.appendChild(n),(e.description||t.denotation)&&this.toggle()}get elements(){return[this._element]}toggle(){if("+"==this._expander.innerText){this._expander.innerText="-";var e=this._argument.type||"?";if("string"==typeof e&&(e={value:e}),e.denotation){var t=document.createElement("div");t.className="sidebar-view-item-value-line-border",t.innerHTML="denotation: <code><b>"+e.denotation+"</b></code>",this._element.appendChild(t)}if(this._argument.description){var n=document.createElement("div");n.className="sidebar-view-item-value-line-border",n.innerHTML=this._argument.description,this._element.appendChild(n)}}else for(this._expander.innerText="+";2<this._element.childElementCount;)this._element.removeChild(this._element.lastChild)}}class OperatorDocumentationView{constructor(e){this._elements=[];var t=Handlebars.compile("\n<div id='documentation' class='sidebar-view-documentation'>\n\n<h1>{{{name}}}</h1>\n{{#if summary}}\n<p>{{{summary}}}</p>\n{{/if}}\n{{#if description}}\n<p>{{{description}}}</p>\n{{/if}}\n\n{{#if attributes}}\n<h2>Attributes</h2>\n<dl>\n{{#attributes}}\n<dt>{{{name}}}{{#if type}}: <tt>{{{type}}}</tt>{{/if}}</dt>\n<dd>{{{description}}}</dd>\n{{/attributes}}\n</dl>\n{{/if}}\n\n{{#if inputs}}\n<h2>Inputs{{#if inputs_range}} ({{{inputs_range}}}){{/if}}</h2>\n<dl>\n{{/if}}\n{{#inputs}}\n<dt>{{{name}}}{{#if type}}: <tt>{{{type}}}</tt>{{/if}} {{#if option}}({{{option}}}){{/if}}</dt>\n<dd>{{{description}}}</dd>\n{{/inputs}}\n</dl>\n\n{{#if outputs.length}}\n<h2>Outputs{{#if outputs_range}} ({{{outputs_range}}}){{/if}}</h2>\n<dl>\n{{/if}}\n{{#outputs}}\n<dt>{{{name}}}{{#if type}}: <tt>{{{type}}}</tt>{{/if}} {{#if option}}({{{option}}}){{/if}}</dt>\n<dd>{{{description}}}</dd>\n{{/outputs}}\n</dl>\n\n{{#if type_constraints}}\n<h2>Type Constraints</h2>\n<dl>\n{{#type_constraints}}\n<dt>{{{type_param_str}}}: {{#allowed_type_strs}}<tt>{{this}}</tt>{{#unless @last}}, {{/unless}}{{/allowed_type_strs}}</dt>\n<dd>{{{description}}}</dd>\n{{/type_constraints}}\n</dl>\n{{/if}}\n\n{{#if examples}}\n<h2>Examples</h2>\n{{#examples}}\n<h3>{{{summary}}}</h3>\n<pre>{{{code}}}</pre>\n{{/examples}}\n{{/if}}\n\n{{#if references}}\n<h2>References</h2>\n<ul>\n{{#references}}\n<li>{{{description}}}</li>\n{{/references}}\n</ul>\n{{/if}}\n\n{{#if domain}}{{#if since_version}}{{#if support_level}}\n<h2>Support</h2>\n<dl>\nIn domain <tt>{{{domain}}}</tt> since version <tt>{{{since_version}}}</tt> at support level <tt>{{{support_level}}}</tt>.\n</dl>\n{{/if}}{{/if}}{{/if}}\n\n</div>\n","utf-8"),n=t(e),a=new DOMParser,o=a.parseFromString(n,"text/html"),r=o.firstChild;r.addEventListener("click",t=>{if(t.target&&t.target.href){var e=t.target.href;(e.startsWith("http://")||e.startsWith("https://"))&&(t.preventDefault(),this.raise("navigate",{link:e}))}}),this._elements.push(r)}get elements(){return this._elements}on(e,t){this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(t)}raise(e,t){this._events&&this._events[e]&&this._events[e].forEach(e=>{e(this,t)})}}class FindView{constructor(e,t){this._graphElement=e,this._graph=t,this._contentElement=document.createElement("div"),this._contentElement.setAttribute("class","sidebar-view-find"),this._searchElement=document.createElement("input"),this._searchElement.setAttribute("id","search"),this._searchElement.setAttribute("type","text"),this._searchElement.setAttribute("placeholder","Search..."),this._searchElement.setAttribute("style","width: 100%"),this._searchElement.addEventListener("input",t=>{this.update(t.target.value),this.raise("search-text-changed",t.target.value)}),this._resultElement=document.createElement("ol"),this._resultElement.addEventListener("click",t=>{this.select(t)}),this._contentElement.appendChild(this._searchElement),this._contentElement.appendChild(this._resultElement)}on(e,t){this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(t)}raise(e,t){this._events&&this._events[e]&&this._events[e].forEach(e=>{e(this,t)})}select(t){for(var e=[],n=t.target.id,a=this._graphElement.getElementById("nodes"),o=a.firstChild;o;)o.id==n&&e.push(o),o=o.nextSibling;for(var r=this._graphElement.getElementById("edge-paths"),i=r.firstChild;i;)i.id==n&&e.push(i),i=i.nextSibling;0<e.length&&this.raise("select",e)}focus(e){this._searchElement.focus(),this._searchElement.value="",this._searchElement.value=e,this.update(e)}update(e){for(;this._resultElement.lastChild;)this._resultElement.removeChild(this._resultElement.lastChild);var t=e.toLowerCase(),n={},a={};this._graph.nodes.forEach(e=>{e.inputs.forEach(e=>{e.connections.forEach(e=>{if(e.id&&-1!=e.id.toLowerCase().indexOf(t)&&!a[e.id]){var n=document.createElement("li");e.initializer||(n.innerText="\u2192 "+e.id.split("\n").shift(),n.id="edge-"+e.id,this._resultElement.appendChild(n),a[e.id]=!0)}})});var o=e.name;if(o&&-1!=o.toLowerCase().indexOf(t)&&!n[o]){var r=document.createElement("li");r.innerText="\u25A2 "+e.name,r.id="node-"+e.name,this._resultElement.appendChild(r),n[e.name]=!0}}),this._graph.nodes.forEach(e=>{e.outputs.forEach(e=>{e.connections.forEach(e=>{if(e.id&&-1!=e.id.toLowerCase().indexOf(t)&&!a[e.id]){var n=document.createElement("li");n.innerText="\u2192 "+e.id.split("\n").shift(),n.id="edge-"+e.id,this._resultElement.appendChild(n),a[e.id]=!0}})})}),this._resultElement.style.display=0==this._resultElement.childNodes.length?"none":"block"}get content(){return this._contentElement}}class View{constructor(e){this._host=e,this._model=null,this._selection=[],this._sidebar=new Sidebar,this._host.initialize(this),this._showDetails=!0,this._showNames=!1,this._searchText="",document.documentElement.style.overflow="hidden",document.body.scroll="no",document.getElementById("model-properties-button").addEventListener("click",()=>{this.showModelProperties()}),document.getElementById("zoom-in-button").addEventListener("click",()=>{this.zoomIn()}),document.getElementById("zoom-out-button").addEventListener("click",()=>{this.zoomOut()}),document.getElementById("toolbar").addEventListener("mousewheel",t=>{this.preventZoom(t)}),document.getElementById("sidebar").addEventListener("mousewheel",t=>{this.preventZoom(t)}),document.addEventListener("keydown",()=>{this.clearSelection()})}show(e){e||(e=this._model||this._activeGraph?"Graph":"Welcome"),this._host.screen(e),this._sidebar.close();var t=document.getElementById("welcome"),n=document.getElementById("open-file-button"),a=document.getElementById("spinner"),o=document.getElementById("graph"),r=document.getElementById("toolbar");"Welcome"==e&&(document.body.style.cursor="default",t.style.display="block",n.style.display="block",n.style.opacity=1,a.style.display="none",o.style.display="none",o.style.opacity=0,r.style.display="none"),"Spinner"==e&&(document.body.style.cursor="wait",t.style.display="block",a.style.display="block",n.style.display="block",o.style.display="block",o.style.opacity=0,r.style.display="none"),"Graph"==e&&(t.style.display="none",n.style.display="none",a.style.display="none",o.style.display="block",o.style.opacity=1,r.style.display="block",document.body.style.cursor="default")}cut(){document.execCommand("cut")}copy(){document.execCommand("copy")}paste(){document.execCommand("paste")}selectAll(){document.execCommand("selectall")}find(){if(this._activeGraph){this.clearSelection();var e=document.getElementById("graph"),t=new FindView(e,this._activeGraph);t.on("search-text-changed",(e,t)=>{this._searchText=t}),t.on("select",(e,t)=>{this._sidebar.close(),this.select(t)}),this._sidebar.open(t.content,"Find"),t.focus(this._searchText)}}toggleDetails(){this._showDetails=!this._showDetails,this.show("Spinner"),this.updateGraph(this._model,this._activeGraph,e=>{e&&this.error("Graph update failed.",e)})}get showDetails(){return this._showDetails}toggleNames(){this._showNames=!this._showNames,this.show("Spinner"),this.updateGraph(this._model,this._activeGraph,e=>{e&&this.error("Graph update failed.",e)})}get showNames(){return this._showNames}zoomIn(){this._zoom&&this._zoom.scaleBy(d3.select(document.getElementById("graph")),1.2)}zoomOut(){this._zoom&&this._zoom.scaleBy(d3.select(document.getElementById("graph")),.8)}resetZoom(){this._zoom&&this._zoom.scaleTo(d3.select(document.getElementById("graph")),1)}preventZoom(t){(t.shiftKey||t.ctrlKey)&&t.preventDefault()}select(e){if(this.clearSelection(),e&&0<e.length){var t=document.getElementById("graph"),n=t.getBoundingClientRect(),a=0,o=0;e.forEach(e=>{var t=e.getAttribute("class").split(" ");t.push("select"),e.setAttribute("class",t.join(" ")),this._selection.push(e);var n=e.getBBox(),r=n.x+n.width/2,i=n.y+n.height/2,s=e.transform.baseVal.consolidate();s&&(r=s.matrix.e,i=s.matrix.f),a+=r,o+=i}),a/=e.length,o/=e.length,this._zoom.transform(d3.select(t),d3.zoomIdentity.translate(n.width/2-a,n.height/2-o))}}clearSelection(){for(;0<this._selection.length;){var e=this._selection.pop(),t=e.getAttribute("class").split(" ");t=t.filter(e=>"select"!=e),e.setAttribute("class",t.join(" "))}}loadBuffer(e,t,n){var a=[new OnnxModelFactory,new MXNetModelFactory,new KerasModelFactory,new CoreMLModelFactory,new CaffeModelFactory,new Caffe2ModelFactory,new PyTorchModelFactory,new TensorFlowLiteModelFactory,new TensorFlowModelFactory],o=a.filter(n=>n.match(e,t)),r=()=>{if(0<o.length){var a=o.shift();a.open(e,t,this._host,(e,t)=>{t||0==o.length?n(e,t):r()})}else{var i=t.split(".").pop();n(new Error("Unsupported file extension '."+i+"'."),null)}};r()}error(e,t){this._sidebar.close(),this.exception(t,!1),this._host.error(e,t.toString()),this.show("Welcome")}openBuffer(e,t,n){this._host.event("Model","Open","Size",e.length),this._sidebar.close(),setTimeout(()=>{this.loadBuffer(e,t,(e,t)=>{if(e)n(e);else{var a=t.format;a&&(a+=t.producer?" ("+t.producer+")":"",this._host.event("Model","Format",a)),setTimeout(()=>{var e=0<t.graphs.length?t.graphs[0]:null;this.updateGraph(t,e,(e,t)=>{n(e,t)})},20)}})},2)}updateActiveGraph(e){if(this._sidebar.close(),this._model){var t=this._model,n=t.graphs.filter(t=>e==t.name).shift();n&&(this.show("Spinner"),setTimeout(()=>{this.updateGraph(t,n,e=>{e&&this.error("Graph update failed.",e)})},200))}}updateGraph(e,t,n){setTimeout(()=>{if(t&&t!=this._activeGraph){var a=t.nodes;if(1500<a.length&&!this._host.confirm("Large model detected.","This graph contains a large number of nodes and might take a long time to render. Do you want to continue?"))return this._host.event("Graph","Large","Nodes",a.length),this.show(null),void n(null,null)}this.renderGraph(t,a=>{a?this.renderGraph(this._activeGraph,e=>{e?(this._model=null,this._activeGraph=null,this.show("Welcome")):this.show("Graph"),n(a,this._model)}):(this._model=e,this._activeGraph=t,this.show("Graph"),n(null,this._model))})},100)}renderGraph(e,t){try{if(!e)t(null);else{for(var n=document.getElementById("graph");n.lastChild;)n.removeChild(n.lastChild);this._zoom=null;var a=e.groups,o={};this._showDetails||(o.nodesep=25,o.ranksep=25);var r=new dagre.graphlib.Graph({compound:a});r.setGraph(o),r.setDefaultEdgeLabel(()=>({}));var i=0,s={},d={},l={},p=e.nodes;this._host.event("Graph","Render","Nodes",p.length),a&&p.forEach(e=>{if(e.group)for(var t=e.group.split("/"),n;0<t.length;)n=t.join("/"),t.pop(),l[n]=t.join("/")}),p.forEach(e=>{function t(e,t,n){if(n){var a=["node-item-operator"],o=n.category;o&&a.push("node-item-operator-"+o.toLowerCase());var r=e.showNames&&n.name?n.name:n.primitive?n.primitive:n.operator,i=e.showNames&&n.name?n.operator:n.name;t.addItem(r,a,i,()=>{e.showNodeProperties(n,null)})}}function o(e){if(!d[e]){r.setNode(e,{rx:5,ry:5}),d[e]=!0;var t=l[e];t&&(o(t),r.setParent(e,t))}}var p=new NodeFormatter;t(this,p,e),t(this,p,e.inner);var c=e.primitive,u=!1,f=!1;e.inputs.forEach(t=>{if(0<t.connections.length){var n=t.connections.filter(e=>e.initializer),a="node-item-input";if(0==n.length?(a="node-item-input",t.hidden&&(u=!0)):n.length==t.connections.length?(a="node-item-constant",t.hidden&&(f=!0)):(a="node-item-constant",t.hidden&&(u=!0)),this._showDetails&&!t.hidden){var o=t.connections.map(e=>e.type?e.type:"").join("\n");p.addItem(t.name,[a],o,()=>{this.showNodeProperties(e,t)})}t.connections.forEach(e=>{if(!e.initializer){var n=s[e.id];n||(n={from:null,to:[]},s[e.id]=n),n.to.push({node:i,name:t.name})}})}}),this._showDetails&&(u&&p.addItem("...",["node-item-input"],"",()=>{this.showNodeProperties(e,null)}),f&&p.addItem("...",["node-item-constant"],"",()=>{this.showNodeProperties(e,null)})),e.outputs.forEach(e=>{e.connections.forEach(t=>{var n=s[t.id];n||(n={from:null,to:[]},s[t.id]=n),n.from={node:i,name:e.name}})});var h=e.dependencies;if(h&&0<h.length&&p.setControlDependencies(),this._showDetails){var g=e.attributes;g&&!c&&(p.setAttributeHandler(()=>{this.showNodeProperties(e,null)}),g.forEach(e=>{if(e.visible){var t="";e.tensor?t="[...]":(t=e.value,t&&25<t.length&&(t=t.substring(0,25)+"...")),p.addAttribute(e.name,t,e.type)}}))}var m=e.name;if(m?r.setNode(i,{label:p.format(n),id:"node-"+m}):r.setNode(i,{label:p.format(n)}),a){var _=e.group;if(_&&0<_.length){if(!l.hasOwnProperty(_)){var y=_.lastIndexOf("/");-1==y?_=null:(_=_.substring(0,y),!l.hasOwnProperty(_)&&(_=null))}_&&(o(_),r.setParent(i,_))}}i++}),e.inputs.forEach(e=>{var t=s[e.id];t||(t={from:null,to:[]},s[e.id]=t),t.from={node:i};var a=new NodeFormatter;a.addItem(e.name,["graph-item-input"],e.type,()=>{this.showModelProperties()}),r.setNode(i++,{label:a.format(n),class:"graph-input"})}),e.outputs.forEach(e=>{var t=e.id,a=e.name,o=s[t];o||(o={from:null,to:[]},s[t]=o),o.to.push({node:i});var d=new NodeFormatter;d.addItem(e.name,["graph-item-output"],e.type,()=>{this.showModelProperties()}),r.setNode(i++,{label:d.format(n)})}),Object.keys(s).forEach(e=>{var t=s[e];null!=t.from&&t.to.forEach(n=>{var a="";a=t.from.name&&n.name?t.from.name+" \u21E8 "+n.name:t.from.name?t.from.name:n.name,this._showNames&&(a=e.split("\n").shift()),this._showDetails||(a=""),n.dependency?r.setEdge(t.from.node,n.node,{label:a,id:"edge-"+e,arrowhead:"vee",class:"edge-path-control"}):r.setEdge(t.from.node,n.node,{label:a,id:"edge-"+e,arrowhead:"vee"})})});var c=document.createElementNS("http://www.w3.org/2000/svg","rect");c.setAttribute("id","background"),c.setAttribute("width","100%"),c.setAttribute("height","100%"),c.setAttribute("fill","none"),c.setAttribute("pointer-events","all"),n.appendChild(c);var u=document.createElementNS("http://www.w3.org/2000/svg","g");u.setAttribute("id","origin"),n.appendChild(u);var f=d3.select(n);this._zoom=d3.zoom(),this._zoom(f),this._zoom.scaleExtent([.1,2]),this._zoom.on("zoom",()=>{u.setAttribute("transform",d3.event.transform.toString())}),this._zoom.transform(f,d3.zoomIdentity),setTimeout(()=>{try{var e=new GraphRenderer(u);e.render(r);var a=n.getBoundingClientRect(),o=n.getElementsByClassName("graph-input");if(o&&0<o.length){for(var s=[],d=[],l=0,p;l<o.length;l++)p=o[l].transform.baseVal.consolidate().matrix,s.push(p.e),d.push(p.f);var c=s[0],h=d[0];d.every(e=>e==d[0])&&(c=s.reduce((e,t)=>e+t)/s.length),this._zoom.transform(f,d3.zoomIdentity.translate(a.width/2-c,a.height/4-h))}else this._zoom.transform(f,d3.zoomIdentity.translate((a.width-r.graph().width)/2,(a.height-r.graph().height)/2));t(null)}catch(e){t(e)}},20)}}catch(e){t(e)}}copyStylesInline(e,t){for(var n=["svg","g"],a=0,o;a<e.childNodes.length;a++){if(o=e.childNodes[a],-1!=n.indexOf(o.tagName)){this.copyStylesInline(o,t.childNodes[a]);continue}var r=t.childNodes[a].currentStyle||window.getComputedStyle(t.childNodes[a]);if("undefined"!=r&&null!=r)for(var i=0;i<r.length;i++)o.style.setProperty(r[i],r.getPropertyValue(r[i]))}}transferStyleSheet(e,t){for(var n=["<style type=\"text/css\">"],a=0,o;a<document.styleSheets.length;a++)if(o=document.styleSheets[a],o&&o.href&&o.href.endsWith("/"+t))for(var r=0,s;r<o.rules.length;r++)s=o.rules[r],n.push(s.cssText);n.push("</style>");var d=document.createElementNS("http://www.w3.org/2000/svg","defs");d.innerHTML=n.join("\n")+"\n",e.insertBefore(d,e.firstChild)}export(e){var t=Math.ceil,n="",a=e.lastIndexOf(".");if(-1!=a&&(n=e.substring(a+1)),"png"==n||"svg"==n){var o=document.getElementById("graph"),r=o.cloneNode(!0);this.transferStyleSheet(r,"view-render.css"),r.setAttribute("id","export"),r.removeAttribute("width"),r.removeAttribute("height"),r.style.removeProperty("opacity"),r.style.removeProperty("display");var i=r.getElementById("origin");i.setAttribute("transform","translate(0,0) scale(1)");var s=r.getElementById("background");s.removeAttribute("width"),s.removeAttribute("height");var d=o.parentElement;d.insertBefore(r,o);var l=r.getBBox();d.removeChild(r);var p=.1*(Math.min(l.width,l.height)/2),c=t(p+l.width+p),u=t(p+l.height+p);i.setAttribute("transform","translate("+p.toString()+", "+p.toString()+") scale(1)"),r.setAttribute("width",c),r.setAttribute("height",u),s.setAttribute("width",c),s.setAttribute("height",u),s.setAttribute("fill","#fff");var f=new XMLSerializer().serializeToString(r);if("svg"==n&&this._host.export(e,f,"image/svg"),"png"==n){var h=new Image;document.body.insertBefore(h,document.body.firstChild),h.onload=()=>{var n=Math.max(c,u),a=24e3<2*n?24e3/n:2,o=document.createElement("canvas");o.width=t(c*a),o.height=t(u*a);var r=o.getContext("2d");r.scale(a,a),r.drawImage(h,0,0),document.body.removeChild(h);var i=o.toDataURL("image/png");this._host.export(e,i,"image/png")},h.src="data:image/svg+xml;base64,"+window.btoa(unescape(encodeURIComponent(f)))}}}showModelProperties(){if(this._model){var e=new ModelView(this._model);e.on("update-active-graph",(e,t)=>{this.updateActiveGraph(t)}),this._sidebar.open(e.elements,"Model Properties")}}showNodeProperties(e,t){if(e){var n=new NodeView(e,this._host);n.on("show-documentation",()=>{this.showOperatorDocumentation(e)}),t&&n.toggleInput(t.name),this._sidebar.open(n.elements,"Node Properties")}}showOperatorDocumentation(e){var t=e.documentation;if(t){var n=new OperatorDocumentationView(t);n.on("navigate",(t,n)=>{this._host.openURL(n.link)}),this._sidebar.open(n.elements,"Documentation")}}}window.view=new View(window.host);class Int64{constructor(e){this._buffer=e}toString(e){var t=Math.floor,n=this.readInt32(4),a=this.readInt32(0),o="",r=2147483648&n;for(r&&(n=~n,a=4294967296-a),e=e||10;;){var i=4294967296*(n%e)+a;if(n=t(n/e),a=t(i/e),o=(i%e).toString(e)+o,!n&&!a)break}return r&&(o="-"+o),o}readInt32(e){return 16777216*this._buffer[e+3]+(this._buffer[e+2]<<16)+(this._buffer[e+1]<<8)+this._buffer[e+0]}}class Uint64{constructor(e){this._buffer=e}toString(e){var t=Math.floor,n=this.readInt32(4),a=this.readInt32(0),o="";for(e=e||10;;){var r=4294967296*(n%e)+a;if(n=t(n/e),a=t(r/e),o=(r%e).toString(e)+o,!n&&!a)break}return o}readInt32(e){return 16777216*this._buffer[e+3]+(this._buffer[e+2]<<16)+(this._buffer[e+1]<<8)+this._buffer[e+0]}}